(function(){with((!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),void 0===this.Data.Stack&&(this.Data.Stack=void 0),function(){with(Data)return function(){function t(){this.length=0}var e;e="Data";var n=t.prototype;return n.pop=Array.prototype.pop,n.push=Array.prototype.push,n.peek=function(){return this.length>0?this[this.length-1]:void 0},n.isEmpty=function(){return 0==this.length},{Stack:t}}()}.call(null))this.Data.Stack=Stack}).call(null),function(){with(function(){return function(){return Function.prototype.bind=function(t){var e=this;return function(){return e.apply(t,arguments)}},{}}()}.call(null));}.call(null),function(){with((!this.WebBrowser||"object"!=typeof this.WebBrowser&&"function"!=typeof this.WebBrowser)&&(this.WebBrowser=new Object),(!this.WebBrowser.GUI||"object"!=typeof this.WebBrowser.GUI&&"function"!=typeof this.WebBrowser.GUI)&&(this.WebBrowser.GUI=new Object),(!this.WebBrowser.GUI.Event||"object"!=typeof this.WebBrowser.GUI.Event&&"function"!=typeof this.WebBrowser.GUI.Event)&&(this.WebBrowser.GUI.Event=new Object),void 0===this.WebBrowser.GUI.Event.attach&&(this.WebBrowser.GUI.Event.attach=void 0),void 0===this.WebBrowser.GUI.Event.detach&&(this.WebBrowser.GUI.Event.detach=void 0),function(){with(WebBrowser.GUI.Event)return function(){function t(t,e,n,r){function s(t){if(t=t||window.event,!t.stopPropagation){t.target=t.srcElement,t.currentTarget=this,t.cancelable=!0,t.stopPropagation=function(){this.cancelBubble=!0};var e=!1;t.preventDefault=function(){e=!0}}var r=n.call(this,t);return e?!1:r}if(!t||"object"!=typeof t)throw new TypeError("argument not a element: "+t);if(e=String(e),"function"!=typeof n)throw new TypeError("argument not a function: "+n);r=Boolean(r),t.addEventListener?t.addEventListener(e,s,r):t.attachEvent?t.attachEvent("on"+e,s):t["on"+e]=s;var a=o++;return i[a]={element:t,type:e,listener:n,useCapture:r,handler:s},a}function e(t,e,r,o){if(1===arguments.length&&"number"==typeof t){if(!i[t])return!1;var s=i[t];return delete i[t],n(s.element,s.type,s.handler,s.useCapture)}if(!t||"object"!=typeof t)throw new TypeError("argument is not an element: "+t);if(e=String(e),"function"!=typeof r)throw new TypeError("argument is not s function: "+r);o=Boolean(o);var a=!1;for(var c in i){var s=i[c];s.element===t&&s.type===e&&s.listener===r&&s.useCapture===o&&(delete i[c],a=n(s.element,s.type,s.handler,s.useCapture)||a)}return a}function n(t,e,n,r){return t.removeEventListener?t.removeEventListener(e,n,r):t.detachEvent?t.detachEvent("on"+e,n):delete t["on"+e]}var r;r="WebBrowser.GUI.Event";var o=0,i={};return t(window,"unload",function(){for(var t in i)e(Number(t))}),{detach:e,attach:t}}()}.call(null))this.WebBrowser.GUI.Event.detach=detach,this.WebBrowser.GUI.Event.attach=attach}.call(null),function(){this.GLOBAL=this}.call(null),function(){with((!this.Math||"object"!=typeof this.Math&&"function"!=typeof this.Math)&&(this.Math=new Object),void 0===this.Math.ToInteger&&(this.Math.ToInteger=void 0),void 0===this.Math.ToInt32&&(this.Math.ToInt32=void 0),void 0===this.Math.ToUInt32&&(this.Math.ToUInt32=void 0),void 0===this.Math.ToUInt16&&(this.Math.ToUInt16=void 0),function(){with(Math)return function(){function t(t){return 0>t?ceil(t):floor(t)||0}function e(t){return 0|t}function n(t){return t>>>0}function r(t){return 65535&t}var o;return o="Math",{ToUInt16:r,ToUInt32:n,ToInt32:e,ToInteger:t}}()}.call(null))this.Math.ToUInt16=ToUInt16,this.Math.ToUInt32=ToUInt32,this.Math.ToInt32=ToInt32,this.Math.ToInteger=ToInteger}.call(null),function(){with((!this.WebBrowser||"object"!=typeof this.WebBrowser&&"function"!=typeof this.WebBrowser)&&(this.WebBrowser=new Object),(!this.WebBrowser.ScriptExecuter||"object"!=typeof this.WebBrowser.ScriptExecuter&&"function"!=typeof this.WebBrowser.ScriptExecuter)&&(this.WebBrowser.ScriptExecuter=new Object),void 0===this.WebBrowser.ScriptExecuter.register&&(this.WebBrowser.ScriptExecuter.register=void 0),void 0===this.WebBrowser.ScriptExecuter.exec&&(this.WebBrowser.ScriptExecuter.exec=void 0),function(){with(WebBrowser.ScriptExecuter)return function(){function t(t,e){if("function"!=typeof e)throw new TypeError("function required, but got: "+e);s[String(t).toLowerCase()]=e}function e(){for(var t=document.getElementsByTagName("META"),e=0;e<t.length;e++)String(t[e].httpEquiv).match(/^Content-Script-Type$/i)&&(a=t[e].content);for(var r=document.getElementsByTagName("SCRIPT"),e=0;e<r.length;e++)!function(t){setTimeout(function(){n(t)},0)}(r[e])}function n(t){function e(e){t.parentNode.removeChild(t),s[n.type](e,n.attr)}var n=o(t.type?t.type:a);if(s[n.type])if(t.src){var i=r();i.open("GET",t.src,!0),i.onreadystatechange=function(){4==i.readyState&&e(i.responseText)},i.send(null)}else e(t.innerHTML)}function r(){try{return new XMLHttpRequest}catch(t){try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){return new ActiveXObject("Microsoft.XMLHTTP")}}}function o(t){t=String(t);var e=new RegExp("^"+u,"g");e.lastIndex=0;var n=e.exec(t);if(!n)return{type:t.toLowerCase(),attr:{}};var r=n[0].toLowerCase(),o={};for(t=t.substring(e.lastIndex),e=new RegExp("^\\s*;\\s*("+h+")\\s*=\\s*("+l+")","g"),e.lastIndex=0;n=e.exec(t);)o[n[1].toLowerCase()]=n[2],t=t.substring(e.lastIndex),e.lastIndex=0;return{type:r,attr:o}}var i;i="WebBrowser.ScriptExecuter";var s={},a="text/javascript",c='[^][()<>@,;:\\\\"/?=\\x00-\\x20]',h="(?:"+c+"+)",u="(?:"+h+"/"+h+")",p='(?:"[^"]*(?:\\\\.[^"]*)*")',l="(?:"+h+"|"+p+")";if(window.addEventListener)window.addEventListener("load",e,!1);else if(window.attachEvent)window.attachEvent("onload",e);else if(window.onload){var f=window.onload;window.onload=function(){var t=f.apply(this,arguments);return e(),t}}else window.onload=e;return{register:t,exec:e}}()}.call(null))this.WebBrowser.ScriptExecuter.register=register,this.WebBrowser.ScriptExecuter.exec=exec}.call(null),function(){with((!this.JSON||"object"!=typeof this.JSON&&"function"!=typeof this.JSON)&&(this.JSON=new Object),void 0===this.JSON.dump&&(this.JSON.dump=void 0),function(){with(JSON)return function(){function t(t,n){n=n||{};var r=String(n.indent);return r.match(/^\s*$/)||(r="  "),e(t,{pretty:n.pretty,indent:r,deflate:n.deflate})}function e(t,r){switch(typeof t){case"undefined":return r.deflate?"(void 0)":'"undefined"';case"boolean":case"number":return String(t);case"string":return n(t);case"function":case"object":if(null===t)return"null";if("function"==typeof t[o])return t[o](r);if(t instanceof Array){for(var i=[],s=0;s<t.length;s++)i[s]=e(t[s],r);return r.pretty?"[\n"+i.join(",\n").replace(/^/gm,r.indent)+"\n]":"["+i.join(",")+"]"}var i=[];for(var s in t)t.hasOwnProperty(s)&&i.push(n(s)+":"+e(t[s],r));return r.pretty?"{\n"+i.join(",\n").replace(/^/gm,r.indent)+"\n}":"{"+i.join(",")+"}"}}function n(t){return'"'+t.replace(/[^\u0020-\u0021\u0023-\u005B\u005D-\u007E]/g,function(t){switch(t=t.charCodeAt(0)){case'"':return'\\"';case"\\":return"\\\\";case"\b":return"\\b";case"\f":return"\\f";case"\n":return"\\n";case"\r":return"\\r";case"	":return"\\t";default:for(t=t.toString(16);t.length<4;)t="0"+t;return"\\u"+t}})+'"'}var r;r="JSON";var o="JSON.dumper";return String.prototype[o]=function(t){return t.deflate?"new String("+n(this.toString())+")":n(this.toString())},Boolean.prototype[o]=function(t){return t.deflate?"new Boolean("+this.toString()+")":this.toString()},Number.prototype[o]=function(t){return t.deflate?"new Number("+this.toString()+")":this.toString()},Date.prototype[o]=function(t){return t.deflate?"new Date("+this.valueOf()+")":n(this.toString())},RegExp.prototype[o]=function(t){return t.deflate?this.toString():n(this.toString())},Function.prototype[o]=function(t){return t.deflate?this.toString():n(this.toString())},{dump:t}}()}.call(null))this.JSON.dump=dump}.call(null),function(){with((!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Cons||"object"!=typeof this.Data.Cons&&"function"!=typeof this.Data.Cons)&&(this.Data.Cons=new Object),void 0===this.Data.Cons.Cell&&(this.Data.Cons.Cell=void 0),void 0===this.Data.Cons.Nil&&(this.Data.Cons.Nil=void 0),void 0===this.Data.Cons.nil&&(this.Data.Cons.nil=void 0),void 0===this.Data.Cons.cons&&(this.Data.Cons.cons=void 0),void 0===this.Data.Cons.car&&(this.Data.Cons.car=void 0),void 0===this.Data.Cons.cdr&&(this.Data.Cons.cdr=void 0),function(){with(Data.Cons)return function(){function t(t,e){this.car=t,this.cdr=e}function e(){this.car=this,this.cdr=this}function n(){return new e}function r(e,n){return new t(e,n)}function o(t){return t.car}function i(t){return t.cdr}var s;s="Data.Cons";var a=t.prototype;a.toString=function(){return"("+this.car+" . "+this.cdr+")"},a.toLocaleString=function(){return"("+(null==this.car?String(this.car):this.car.toLocaleString)+" . "+(null==this.cdr?String(this.cdr):this.cdr.toLocaleString)+")"},a.isNil=function(){return!1};var a=e.prototype=new t;return a.constructor=e,a.toString=a.toLocaleString=function(){return"nil"},a.isNil=function(){return!0},{nil:n,Nil:e,car:o,Cell:t,cdr:i,cons:r}}()}.call(null))this.Data.Cons.nil=nil,this.Data.Cons.Nil=Nil,this.Data.Cons.car=car,this.Data.Cons.Cell=Cell,this.Data.Cons.cdr=cdr,this.Data.Cons.cons=cons}.call(null),function(){with((!this.Util||"object"!=typeof this.Util&&"function"!=typeof this.Util)&&(this.Util=new Object),(!this.Util.Arrayize||"object"!=typeof this.Util.Arrayize&&"function"!=typeof this.Util.Arrayize)&&(this.Util.Arrayize=new Object),void 0===this.Util.Arrayize.arrayize&&(this.Util.Arrayize.arrayize=void 0),function(){with(Util.Arrayize)return function(){function t(t){if(!t)return[];try{return n.call(t,0)}catch(e){for(var r=[],o=0;o<t.length;o++)r[o]=t[o];return r}}var e;e="Util.Arrayize";var n=Array.prototype.slice;return{arrayize:t}}()}.call(null))this.Util.Arrayize.arrayize=arrayize}.call(null),function(){with((!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Functional||"object"!=typeof this.Data.Functional&&"function"!=typeof this.Data.Functional)&&(this.Data.Functional=new Object),(!this.Data.Functional.Loop||"object"!=typeof this.Data.Functional.Loop&&"function"!=typeof this.Data.Functional.Loop)&&(this.Data.Functional.Loop=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Functional||"object"!=typeof this.Data.Functional&&"function"!=typeof this.Data.Functional)&&(this.Data.Functional=new Object),void 0===this.Data.Functional.discontinue&&(this.Data.Functional.discontinue=void 0),void 0===this.Data.Functional.DiscontinueException&&(this.Data.Functional.DiscontinueException=void 0),void 0===this.Data.Functional.ignore&&(this.Data.Functional.ignore=void 0),void 0===this.Data.Functional.IgnoreException&&(this.Data.Functional.IgnoreException=void 0),void 0===this.Data.Functional.return_list&&(this.Data.Functional.return_list=void 0),void 0===this.Data.Functional.ReturnListException&&(this.Data.Functional.ReturnListException=void 0),void 0===this.Data.Functional.Loop.EndOfLoopException&&(this.Data.Functional.Loop.EndOfLoopException=void 0),void 0===this.Data.Functional.Loop.wrap_for_forEach&&(this.Data.Functional.Loop.wrap_for_forEach=void 0),void 0===this.Data.Functional.Loop.wrap_for_fold&&(this.Data.Functional.Loop.wrap_for_fold=void 0),void 0===this.Data.Functional.Loop.wrap_for_map&&(this.Data.Functional.Loop.wrap_for_map=void 0),function(){with(Data.Functional.Loop)with(Data.Functional)return function(){function t(){throw new e(arguments)}function e(t){this.args=t}function n(){throw new r(arguments)}function r(t){this.args=t}function o(){throw new i(arguments)}function i(t){this.args=t}function s(t){this.result=t}function a(t,n){if("function"!=typeof n)throw new TypeError("argument to forEach must be function");return function(o){try{n.call(t,o)}catch(a){if(a instanceof e)throw new s;if(a instanceof r);else if(!(a instanceof i))throw a}}}function c(t,n,o){if("function"!=typeof n)throw new TypeError("argument to fold must be function");return function(a){try{return o=n.call(t,o,a)}catch(c){if(c instanceof e)throw new s(c.args[c.args.length-1]);if(c instanceof r)return o;if(c instanceof i)return o=n.call(t,o,c.args[c.args.length-1]);throw c}}}function h(t,n,o){if("function"!=typeof n)throw new TypeError("argument to map must be function");if("function"!=typeof o)throw new TypeError("the third argument to wrap_for_map must be function");return function(a){try{o.call(null,n.call(t,a))}catch(c){if(c instanceof e)throw o.apply(null,c.args),new s;if(c instanceof r);else{if(!(c instanceof i))throw c;o.apply(null,c.args)}}}}var u;u="Data.Functional";var p=e.prototype;p.name=u+".DiscontinueException",p.message="unusual use of `discontinue' (this should be caught by `forEach' or other iteration-methods).";var p=r.prototype;p.name=u+".IgnoreException",p.message="unusual use of `ignore' (this should be caught by `forEach' or other iteration-methods).";var p=i.prototype;p.name=u+".ReturnListException",p.message="unusual use of `return_list' (this should be caught by `forEach' or other iteration-methods).",u="Data.Functional.Loop";var p=s.prototype;return p.name=u+".EndOfLoopException",p.message="this should be caught by `forEach' or other iteration-methods",{DiscontinueException:e,wrap_for_forEach:a,wrap_for_map:h,ignore:n,discontinue:t,ReturnListException:i,wrap_for_fold:c,return_list:o,IgnoreException:r,EndOfLoopException:s}}()}.call(null))this.Data.Functional.DiscontinueException=DiscontinueException,this.Data.Functional.Loop.wrap_for_forEach=wrap_for_forEach,this.Data.Functional.Loop.wrap_for_map=wrap_for_map,this.Data.Functional.ignore=ignore,this.Data.Functional.discontinue=discontinue,this.Data.Functional.ReturnListException=ReturnListException,this.Data.Functional.Loop.wrap_for_fold=wrap_for_fold,this.Data.Functional.return_list=return_list,this.Data.Functional.IgnoreException=IgnoreException,this.Data.Functional.Loop.EndOfLoopException=EndOfLoopException}.call(null),function(){with((!this.Util||"object"!=typeof this.Util&&"function"!=typeof this.Util)&&(this.Util=new Object),(!this.Util.Arrayize||"object"!=typeof this.Util.Arrayize&&"function"!=typeof this.Util.Arrayize)&&(this.Util.Arrayize=new Object),function(){with(Util.Arrayize)return function(){var t=function(){};return Function.prototype.extend=function(e,n){if("function"!=typeof e)throw new TypeError("function is expected: "+e);null==n&&(n={});var r=this,o=function(){function t(){if(o)throw new Error("super-constructor has already been called");o=!0;var t=r.apply(n,arguments);if(t instanceof Object)for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return t}var n=this,o=!1;return arguments=arrayize(arguments),arguments.unshift(t),e.apply(n,arguments)};t.prototype=r.prototype;var i=o.prototype=new t;i.constructor=o,i.$super=function(t){if(!arguments.length)return r;var e=r.prototype[t];return"function"==typeof e?e.bind(this):e};for(var s in n)i[s]=n[s];return o},{}}()}.call(null));}.call(null),function(){with((!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Error||"object"!=typeof this.Data.Error&&"function"!=typeof this.Data.Error)&&(this.Data.Error=new Object),void 0===this.Data.Error.Error&&(this.Data.Error.Error=void 0),void 0===this.Data.Error.Exception&&(this.Data.Error.Exception=void 0),function(){with(Data.Error)return function(){var t;t="Data.Error";var e=GLOBAL.Error.extend(function(t,e){t(e)},{name:t+".Error",message:"something's wrong",toString:function(){var t=String(this.message);return t=t?this.name+": "+t:this.name,this.fileName&&(t+=" @"+this.fileName+":"+this.lineNumber),t}}),n=GLOBAL.Error.extend(function(t,e){t(e)},{name:t+".Exception",message:"an exception has occurred",toString:function(){var t=String(this.message);return t=t?this.name+": "+t:this.name,this.fileName&&(t+=" @"+this.fileName+":"+this.lineNumber),t}});return{Error:e,Exception:n}}()}.call(null))this.Data.Error.Error=Error,this.Data.Error.Exception=Exception}.call(null),function(){with((!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Error||"object"!=typeof this.Data.Error&&"function"!=typeof this.Data.Error)&&(this.Data.Error=new Object),void 0===this.Data.Error.IllegalStateError&&(this.Data.Error.IllegalStateError=void 0),function(){with(Data.Error)return function(){var t;t="Data.Error";var e=Error.extend(function(t,e){t(e)},{name:t+".IllegalStateError",message:"illegal state"});return{IllegalStateError:e}}()}.call(null))this.Data.Error.IllegalStateError=IllegalStateError}.call(null),function(){with((!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Error||"object"!=typeof this.Data.Error&&"function"!=typeof this.Data.Error)&&(this.Data.Error=new Object),void 0===this.Data.Error.UnimplementedMethodError&&(this.Data.Error.UnimplementedMethodError=void 0),function(){with(Data.Error)return function(){var t;t="Data.Error";var e=Error.extend(function(t,e,n,r){t(void 0!==r?r:"an required method `"+e+"' has not been implemented"),this.method=e,this.invocant=n},{name:t+".UnimplementedMethodError"});return{UnimplementedMethodError:e}}()}.call(null))this.Data.Error.UnimplementedMethodError=UnimplementedMethodError}.call(null),function(){with((!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Error||"object"!=typeof this.Data.Error&&"function"!=typeof this.Data.Error)&&(this.Data.Error=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Iterator||"object"!=typeof this.Data.Iterator&&"function"!=typeof this.Data.Iterator)&&(this.Data.Iterator=new Object),void 0===this.Data.Iterator.NoSuchElementError&&(this.Data.Iterator.NoSuchElementError=void 0),function(){with(Data.Error)with(Data.Iterator)return function(){var t;t="Data.Iterator";var e=Error.extend(function(t,e){t(e)},{name:t+".NoSuchElementError",message:"no such element"});return{NoSuchElementError:e}}()}.call(null))this.Data.Iterator.NoSuchElementError=NoSuchElementError}.call(null),function(){with((!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Error||"object"!=typeof this.Data.Error&&"function"!=typeof this.Data.Error)&&(this.Data.Error=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Functional||"object"!=typeof this.Data.Functional&&"function"!=typeof this.Data.Functional)&&(this.Data.Functional=new Object),(!this.Data.Functional.Loop||"object"!=typeof this.Data.Functional.Loop&&"function"!=typeof this.Data.Functional.Loop)&&(this.Data.Functional.Loop=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Functional||"object"!=typeof this.Data.Functional&&"function"!=typeof this.Data.Functional)&&(this.Data.Functional=new Object),void 0===this.Data.Functional.Enumerable&&(this.Data.Functional.Enumerable=void 0),void 0===this.Data.Functional.EmptyEnumerationError&&(this.Data.Functional.EmptyEnumerationError=void 0),function(){with(Data.Error)with(Data.Functional.Loop)with(Data.Functional)return function(){function t(){}var e;e="Data.Functional";var n=t.prototype,r="[object "+e+".Enumerable]";n.toString=function(){return r},n.iterator=function(){throw new UnimplementedMethodError("iterator",this)},n.forEach=function(t){t=wrap_for_forEach(this,t);for(var e=this.iterator();!e.isTail();e=e.next())try{t(e.value())}catch(n){if(n instanceof EndOfLoopException)return;throw n}},n.fold=function(t,e){t=wrap_for_fold(this,t,e);for(var n=this.iterator();!n.isTail();n=n.next())try{e=t(n.value())}catch(r){if(r instanceof EndOfLoopException)return r.result;throw r}return e},n.fold1=function(t){var e=this.iterator();if(e.isTail())throw new o;var n=e.value();for(e=e.next(),t=wrap_for_fold(this,t,n);!e.isTail();e=e.next())try{n=t(e.value())}catch(r){if(r instanceof EndOfLoopException)return r.result;throw r}return n},n.and=function(){return this.fold(function(t,e){return e||discontinue(e)},!0)},n.or=function(){return this.fold(function(t,e){return e&&discontinue(e)},!1)},n.all=function(t){return this.fold(function(e,n){return n=t.call(this,n),n||discontinue(n)},!0)},n.any=function(t){return this.fold(function(e,n){return n=t.call(this,n),n&&discontinue(n)},!1)};var o=Error.extend(function(t,e){t(e)},{name:e+".EmptyEnumerationError",message:"empty enumeration"});return{EmptyEnumerationError:o,Enumerable:t}}()}.call(null))this.Data.Functional.EmptyEnumerationError=EmptyEnumerationError,this.Data.Functional.Enumerable=Enumerable}.call(null),function(){with((!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Error||"object"!=typeof this.Data.Error&&"function"!=typeof this.Data.Error)&&(this.Data.Error=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Iterator||"object"!=typeof this.Data.Iterator&&"function"!=typeof this.Data.Iterator)&&(this.Data.Iterator=new Object),void 0===this.Data.Iterator.Iterator&&(this.Data.Iterator.Iterator=void 0),function(){with(Data.Error)with(Data.Iterator)return function(){function t(){}var e;e="Data.Iterator";var n=t.prototype,r="[object "+e+".Iterator]";return n.toString=function(){return r},n.isTail=function(){throw new UnimplementedMethodError("isTail",this)},n.value=function(){throw new UnimplementedMethodError("value",this)},n.next=function(){throw new UnimplementedMethodError("next",this)},n.isBoundTo=function(t){return!1},n.find=function(t){for(var e=this;!e.isTail()&&!t(e.value());e=e.next());return e},{Iterator:t}}()}.call(null))this.Data.Iterator.Iterator=Iterator}.call(null),function(){with((!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Error||"object"!=typeof this.Data.Error&&"function"!=typeof this.Data.Error)&&(this.Data.Error=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Functional||"object"!=typeof this.Data.Functional&&"function"!=typeof this.Data.Functional)&&(this.Data.Functional=new Object),(!this.Data.Functional.Loop||"object"!=typeof this.Data.Functional.Loop&&"function"!=typeof this.Data.Functional.Loop)&&(this.Data.Functional.Loop=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Functional||"object"!=typeof this.Data.Functional&&"function"!=typeof this.Data.Functional)&&(this.Data.Functional=new Object),void 0===this.Data.Functional.Collection&&(this.Data.Functional.Collection=void 0),function(){with(Data.Error)with(Data.Functional.Loop)with(Data.Functional)return function(){function t(){}var e;e="Data.Functional";var n=t.prototype=new Enumerable;n.constructor=t;var r="[object "+e+".Collection]";return n.toString=function(){return r},n.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},n.add=function(){throw new UnimplementedMethodError("add",this)},n.addAll=function(){for(var e=this,n=!1,r=0;r<arguments.length;r++){var o=arguments[r];o instanceof t?o.forEach(function(t){n=e.add(t)||n}):o instanceof Array?n=this.add.apply(this,o)||n:chagned=this.add(o)||n}return n},n.removeAt=function(t){throw new UnimplementedMethodError("removeAt",this)},n.isEmpty=function(){return this.iterator().isTail()},n.empty=function(){for(var t;!(t=this.iterator()).isTail();)this.removeAt(t)},n.size=function(){var t=0;return this.forEach(function(){++t}),t},n.emptyCopy=function(){return new this.constructor},n.copy=function(){var t=this.emptyCopy();return this.forEach(function(e){t.add(e)}),t},n.map=function(t){var e=this.emptyCopy();t=wrap_for_map(this,t,function(){e.add.apply(e,arguments)});for(var n=this.iterator();!n.isTail();n=n.next())try{t(n.value())}catch(r){if(r instanceof EndOfLoopException)return e;throw r}return e},n.filter=function(t){return this.map(function(e){return t.call(this,e)?e:void ignore()})},n.grep=function(t){return t instanceof RegExp||(t=new Regex(t)),this.filter(function(e){return String(e).match(t)})},{Collection:t}}()}.call(null))this.Data.Functional.Collection=Collection}.call(null),function(){with((!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Error||"object"!=typeof this.Data.Error&&"function"!=typeof this.Data.Error)&&(this.Data.Error=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Iterator||"object"!=typeof this.Data.Iterator&&"function"!=typeof this.Data.Iterator)&&(this.Data.Iterator=new Object),void 0===this.Data.Iterator.BidirectionalIterator&&(this.Data.Iterator.BidirectionalIterator=void 0),function(){with(Data.Error)with(Data.Iterator)return function(){function t(){}var e;e="Data.Iterator";var n=t.prototype=new Iterator;n.constructor=t;var r="[object "+e+".BidirectionalIterator]";return n.toString=function(){return r},n.isHead=function(){throw new UnimplementedMethodError("isHead",this)},n.previous=function(){throw new UnimplementedMethodError("previous",this)},{BidirectionalIterator:t}}()}.call(null))this.Data.Iterator.BidirectionalIterator=BidirectionalIterator}.call(null),function(){with((!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Error||"object"!=typeof this.Data.Error&&"function"!=typeof this.Data.Error)&&(this.Data.Error=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Iterator||"object"!=typeof this.Data.Iterator&&"function"!=typeof this.Data.Iterator)&&(this.Data.Iterator=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Functional||"object"!=typeof this.Data.Functional&&"function"!=typeof this.Data.Functional)&&(this.Data.Functional=new Object),void 0===this.Data.Functional.Set&&(this.Data.Functional.Set=void 0),function(){with(Data.Error)with(Data.Iterator)with(Data.Functional)return function(){function t(){}var e;e="Data.Functional";var n=t.prototype=new Collection;n.constructor=t;var r="[object "+e+".Set]";return n.toString=function(){return r},n.contains=function(){throw new UnimplementedMethodError("contains",this)},n.containsAll=function(){for(var t=0;t<arguments.length;t++){var e=arguments[t];if(e instanceof Array){if(!this.contains.apply(this,e))return!1}else if(e instanceof Collection){var n=this;if(!e.all(function(t){return n.contains(t)}))return!1}else if(!this.contains(e))return!1}return!0},n.remove=function(){throw new UnimplementedMethodError("remove",this)},n.removeAll=function(){for(var t=!1,e=0;e<arguments.length;e++){var n=arguments[e];if(n instanceof Array)t=this.remove.apply(this,n)||t;else if(n instanceof Collection){var r=this;n.forEach(function(e){t=r.remove(e)||t})}else t=this.remove(n)||t}return t},n.removeAt=function(t){if(!(t instanceof Iterator))throw new TypeError("the argument is not of type Data.Iterator.Iterator");if(!t.isBoundTo(this))throw new IllegalStateError;var e=t.value();return this.remove(e),e},n.retainAll=function(){var t=this.emptyCopy();return t.addAll.apply(t,arguments),this.removeAll(this.filter(function(e){return!t.contains(e)}))},{Set:t}}()}.call(null))this.Data.Functional.Set=Set}.call(null),function(){with((!this.Math||"object"!=typeof this.Math&&"function"!=typeof this.Math)&&(this.Math=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Functional||"object"!=typeof this.Data.Functional&&"function"!=typeof this.Data.Functional)&&(this.Data.Functional=new Object),(!this.Data.Functional.Loop||"object"!=typeof this.Data.Functional.Loop&&"function"!=typeof this.Data.Functional.Loop)&&(this.Data.Functional.Loop=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Functional||"object"!=typeof this.Data.Functional&&"function"!=typeof this.Data.Functional)&&(this.Data.Functional=new Object),void 0===this.Data.Functional.List&&(this.Data.Functional.List=void 0),function(){with(Math)with(Data.Functional.Loop)with(Data.Functional)return function(){function t(){}function e(t,e){var n=[];if(e=ToInteger(e),0==e){for(;!t.isHead();)t=t.previous();return t}for(;e-- >0;){if(t.isHead())throw new RangeError;n.push(t),t=t.previous()}for(;!t.isHead();)n.shift(),n.push(t),t=t.previous();return n.push(t),n[0]}function n(t,e){var n=[];if(e=ToInteger(e),0==e){for(;!t.isTail();)t=t.next();return t}for(;e-- >0;){if(t.isTail())throw new RangeError;n.push(t),t=t.next()}for(;!t.isTail();)n.shift(),n.push(t),t=t.next();return n.push(t),n[0]}var r;r="Data.Functional";var o=t.prototype=new Collection;return o.constructor=t,o.head=function(t){return 0>t?this.tail(-t):e(this.tail(),t)},o.tail=function(t){return 0>t?this.head(-t):n(this.head(),t)},o.reverseHead=function(t){return 0>t?this.reverseTail(-t):e(this.reverseTail(),t)},o.reverseTail=function(t){return 0>t?this.reverseHead(-t):n(this.reverseHead(),t)},o.iterator=function(){return this.head.apply(this,arguments)},o.add=function(){if(0==arguments.length)return!1;for(var t=0;t<arguments.length;t++)this.tail().insert(arguments[t]);return!0},o.get=function(e){if(!(e instanceof t.Iterator&&e.isBoundTo(this)))try{e=this.head(e)}catch(n){if(n instanceof RangeError)return;throw n}return e.isTail()?void 0:e.value()},o.set=function(e,n){return e instanceof t.Iterator&&e.isBoundTo(this)||(e=this.head(e)),e.assign(n)},o.insertAt=function(e,n){return e instanceof t.Iterator&&e.isBoundTo(this)||(e=this.head(e)),e.insert(n)},o.removeAt=function(e){return e instanceof t.Iterator&&e.isBoundTo(this)||(e=this.head(e)),e.remove()},o.pop=function(){return this.reverseHead().remove()},o.push=function(){return this.add.apply(this,arguments),this.size()},o.shift=function(){return this.head().remove()},o.unshift=function(){for(var t=arguments.length-1;t>=0;t--)this.head().insert(arguments[t]);return this.size()},o.join=function(){var t=this.toArray();return t.join.apply(t,arguments)},o.toString=function(){var t=this.toArray();return t.toString.apply(t,arguments)},o.toLocaleString=function(){var t=this.toArray();return t.toLocaleString.apply(t,arguments)},o.reverse=function(){for(var t=this.emptyCopy(),e=this.reverseHead();!e.isTail();e=e.next())t.add(e.value());return t},o.slice=function(e,n){if(!(e instanceof t.Iterator&&n instanceof t.Iterator&&e.isBoundTo(this)&&n.isBoundTo(this)&&e.constructor===n.constructor)){try{e=this.head(e)}catch(r){if(!(r instanceof RangeError))throw r;e=0>e?this.head():this.tail()}if(void 0===n)n=this.tail();else try{n=this.head(n)}catch(r){if(!(r instanceof RangeError))throw r;n=0>n?this.head():this.tail()}}var o=this.emptyCopy();if(e.compareTo(n)>=0)return o;for(;!e.equals(n);)o.add(e.value()),e=e.next();return o},o.concat=function(){var e=this.emptyCopy();arguments[-1]=this;for(var n=-1;n<arguments.length;n++){var r=arguments[n];if(r instanceof t)r.forEach(function(t){e.add(t)});else if(r instanceof Array)for(var o=0;o<r.length;o++)e.add(r[o]);else e.add(r)}return e},o.foldl=o.fold,o.foldl1=o.fold1,o.foldr=function(t,e){for(var n=wrap_for_fold(this,function(e,n){return t.call(this,n,e)},e),r=this.reverseHead();!r.isTail();r=r.next())try{e=n(r.value())}catch(o){if(o instanceof EndOfLoopException)return o.result;throw o}return e},o.foldr1=function(t){var e=this.reverseHead();if(e.isTail())throw new EmptyEnumerationError;var n=e.value();e=e.next();for(var r=wrap_for_fold(this,function(e,n){return t.call(this,n,e)},n);!e.isTail();e=e.next())try{n=r(e.value())}catch(o){if(o instanceof EndOfLoopException)return o.result;throw o}return n},{List:t}}()}.call(null))this.Data.Functional.List=List}.call(null),
function(){with((!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Error||"object"!=typeof this.Data.Error&&"function"!=typeof this.Data.Error)&&(this.Data.Error=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Iterator||"object"!=typeof this.Data.Iterator&&"function"!=typeof this.Data.Iterator)&&(this.Data.Iterator=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Functional||"object"!=typeof this.Data.Functional&&"function"!=typeof this.Data.Functional)&&(this.Data.Functional=new Object),(!this.Data.Functional.List||"object"!=typeof this.Data.Functional.List&&"function"!=typeof this.Data.Functional.List)&&(this.Data.Functional.List=new Object),void 0===this.Data.Functional.List.Iterator&&(this.Data.Functional.List.Iterator=void 0),function(){with(Data.Error)with(Data.Iterator)with(Data.Functional.List)return function(){function t(){}var e;e="Data.Functional.List";var n=t.prototype=new BidirectionalIterator;n.constructor=t;var r="[object "+e+".Iterator]";return n.toString=function(){return r},n.assign=function(t){throw new UnimplementedMethodError("assign",this)},n.insert=function(t){throw new UnimplementedMethodError("insert",this)},n.remove=function(){throw new UnimplementedMethodError("remove",this)},n.equals=function(t){return 0===this.compareTo(t)},n.distance=n.compareTo=function(e){if(e instanceof t){for(var n=0,r=this,o=e;;n--,r=r.next()){if(r.equals(o))return n;if(r.isTail())break}for(var n=1,r=e.next(),o=this;;n++,r=r.next()){if(r.equals(o))return n;if(r.isTail())break}}},{Iterator:t}}()}.call(null))this.Data.Functional.List.Iterator=Iterator}.call(null),function(){with((!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Functional||"object"!=typeof this.Data.Functional&&"function"!=typeof this.Data.Functional)&&(this.Data.Functional=new Object),(!this.Data.Functional.List||"object"!=typeof this.Data.Functional.List&&"function"!=typeof this.Data.Functional.List)&&(this.Data.Functional.List=new Object),void 0===this.Data.Functional.List.ReverseIterator&&(this.Data.Functional.List.ReverseIterator=void 0),function(){with(Data.Functional.List)return function(){function t(t){this._it=t}var e;e="Data.Functional.List";var n=t.prototype=new Iterator;return n.constructor=t,n.isBoundTo=function(t){return this._it.isBoundTo(t)},n.isTail=function(){return this._it.isHead()},n.isHead=function(){return this._it.isTail()},n.next=function(){return new t(this._it.previous())},n.previous=function(){return new t(this._it.next())},n.value=function(){return this._it.previous().value()},n.assign=function(t){return this._it.previous().assign(t)},n.insert=function(t){return this._it.insert(t)},n.remove=function(){return this._it.previous().remove()},n.equals=function(e){return e instanceof t?this._it.equal(taht._it):!1},n.compareTo=function(e){if(e instanceof t){var n=this._it.compareTo(e._it);return isNaN(d)?n:-n}},n.distance=function(e){if(e instanceof t){var n=this._it.distance(e._it);return isNaN(n)?n:-n}},{ReverseIterator:t}}()}.call(null))this.Data.Functional.List.ReverseIterator=ReverseIterator}.call(null),function(){with(function(){return function(){return{}}()}.call(null));}.call(null),function(){with((!this.Math||"object"!=typeof this.Math&&"function"!=typeof this.Math)&&(this.Math=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Error||"object"!=typeof this.Data.Error&&"function"!=typeof this.Data.Error)&&(this.Data.Error=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Iterator||"object"!=typeof this.Data.Iterator&&"function"!=typeof this.Data.Iterator)&&(this.Data.Iterator=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Functional||"object"!=typeof this.Data.Functional&&"function"!=typeof this.Data.Functional)&&(this.Data.Functional=new Object),(!this.Data.Functional.Loop||"object"!=typeof this.Data.Functional.Loop&&"function"!=typeof this.Data.Functional.Loop)&&(this.Data.Functional.Loop=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Functional||"object"!=typeof this.Data.Functional&&"function"!=typeof this.Data.Functional)&&(this.Data.Functional=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Cons||"object"!=typeof this.Data.Cons&&"function"!=typeof this.Data.Cons)&&(this.Data.Cons=new Object),void 0===this.Data.Cons.list&&(this.Data.Cons.list=void 0),void 0===this.Data.Cons.InsertAtHeadError&&(this.Data.Cons.InsertAtHeadError=void 0),void 0===this.Data.Cons.RemoveHeadError&&(this.Data.Cons.RemoveHeadError=void 0),function(){with(Math)with(Data.Error)with(Data.Iterator)with(Data.Functional.Loop)with(Data.Functional)with(Data.Cons)return function(){function t(){var t,e;t=e=new Cell(null,new Nil);for(var n=0;n<arguments.length;n++)e=e.cdr=new Cell(arguments[n],e.cdr);return t.cdr}function e(t,e,n){this._head=t,this._cell=e,this._prev=n}function n(){return List.ReverseIterator.apply(this,arguments)}var r;r="Data.Cons";var o=new List;o.toString=Cell.prototype.toString,o.toLocaleString=Cell.prototype.toLocaleString,o.isNil=Cell.prototype.isNil,Cell.prototype=o,o.constructor=Cell,o=new Cell,o.toString=Nil.prototype.toString,o.toLocaleString=Nil.prototype.toLocaleString,o.isNil=Nil.prototype.isNil,Nil.prototype=o,o.constructor=Nil,o=Cell.prototype,o.iterator=o.head=function(t){if(t=ToInteger(t),0>t)return this.tail(-t);try{for(var n=new e(this,this,null);t>0;n=n.next(),t--);return n}catch(r){throw r instanceof NoSuchElementError?new RangeError:r}},o.tail=function(t){if(t=ToInteger(t),0>t)return this.head(-t);for(var n=new e(this,this,null);!n.isTail();n=n.next());try{for(;t>0;n=n.previous(),t--);return n}catch(r){throw r instanceof NoSuchElementError?new RangeError:r}},o.reverseHead=function(t){return new n(this.tail(t))},o.reverseTail=function(t){return new n(this.head(t))},o.get=function(t){if(t instanceof e||t instanceof n){if(!t.isBoundTo(this))throw new IllegalStateError;return t.value()}if(t=ToInteger(t),0>t)return this.reverse().get(-t-1);for(var r=this;0!==t;){if(r=r.cdr,r.isNil())return;t--}return r.car},o.set=function(t,r){if(t instanceof e||t instanceof n){if(!t.isBoundTo(this))throw new IllegalStateError;return t.assign(r)}return this.head(t).assign(r)},o.add=function(){if(0==arguments.length)return!1;if(this.isNil())throw new i;for(var t=this;!t.cdr.isNil();t=t.cdr);for(var e=0;e<arguments.length;e++)t=t.cdr=new Cell(arguments[e],new Nil);return!0},o.shift=function(){throw new s},o.unshift=function(){throw new i},o.pop=function(){if(!this.isNil()){if(this.cdr.isNil())throw new s;for(var t=this.cdr;!t.cdr.cdr.isNil();t=t.cdr);var e=t.cdr.car;return t.cdr=t.cdr.cdr,e}},o.push=function(){if(0==arguments.length)return this.size();if(this.isEmpty())throw new i;for(var t=1,e=this;!e.cdr.isNil();t++,e=e.cdr);for(var n=0;n<arguments.length;n++,t++)e=e.cdr=new Cell(arguments[n],e.cdr);return t},o.isEmpty=function(){return this.isNil()},o.empty=function(){if(!this.isEmpty())throw new s},o.size=function(){for(var t=0,e=this;!e.isNil();t++,e=e.cdr);return t},o.copy=function(){if(this.isNil())return new Nil;var t,e;t=e=new Cell(this.car,new Nil);for(var n=this.cdr;!n.isNil();n=n.cdr)e=e.cdr=new Cell(n.car,e.cdr);return t},o.toArray=function(){for(var t=[],e=this;!e.isNil();e=e.cdr)t.push(e.car);return t},o.reverse=function(){for(var t=new Nil,e=this;!e.isNil();e=e.cdr)t=new Cell(e.car,t);return t},o.concat=function(){var t,e;t=e=new Cell(null,new Nil),arguments[-1]=this;for(var n=-1;n<arguments.length;n++){var r=arguments[n];if(r instanceof List)r.forEach(function(t){e=e.cdr=new Cell(t,e.cdr)});else if(r instanceof Array)for(var o=0;o<r.length;o++)e=e.cdr=new Cell(r[o],e.cdr);else e=e.cdr=new Cell(r,e.cdr)}return t.cdr},o.slice=function(t,r){if(!((t instanceof e&&r instanceof e||t instanceof n&&r instanceof n)&&t.isBoundTo(this)&&r.isBoundTo(this))){try{t=this.head(t)}catch(o){if(!(o instanceof RangeError))throw o;t=0>t?this.head():this.tail()}if(void 0===r)r=this.tail();else try{r=this.head(r)}catch(o){if(!(o instanceof RangeError))throw o;r=0>r?this.head():this.tail()}}if(t.compareTo(r)>=0)return new Nil;var i,s;for(i=s=new Cell(null,new Nil);!t.equals(r);)s=s.cdr=new Cell(t.value(),s.cdr),t=t.next();return i.cdr},o.forEach=function(t){t=wrap_for_forEach(this,t);for(var e=this;!e.isNil();e=e.cdr)try{t(e.car)}catch(n){if(n instanceof EndOfLoopException)return;throw n}},o.fold=o.foldl=function(t,e){t=wrap_for_fold(this,t,e);for(var n=this;!n.isNil();n=n.cdr)try{e=t(n.car)}catch(r){if(r instanceof EndOfLoopException)return r.result;throw r}return e},o.fold1=o.foldl1=function(t){if(this.isEmpty())throw new EmptyEnumerationError;var e=this.car;t=wrap_for_fold(this,t,e);for(var n=this.cdr;!n.isNil();n=n.cdr)try{e=t(n.car)}catch(r){if(r instanceof EndOfLoopException)return r.result;throw r}return e},o.foldr=function(t,e){return this.reverse().foldl(function(e,n){return t.call(this,n,e)},e)},o.foldr1=function(t){return this.reverse().foldl1(function(e,n){return t.call(this,n,e)})},o.map=function(t){if(this.isNil())return new Nil;var e,n;e=n=new Cell(null,new Nil),t=wrap_for_map(this,t,function(){for(var t=0;t<arguments.length;t++)n=n.cdr=new Cell(arguments[t],n.cdr)});for(var r=this;!r.isNil();r=r.cdr)try{t(r.car)}catch(o){if(o instanceof EndOfLoopException)return e.cdr;throw o}return e.cdr};var o=e.prototype=new List.Iterator;o.constructor=e,o.isBoundTo=function(t){return this._head===t},o.isHead=function(){return this._head===this._cell},o.isTail=function(){return this._cell.isNil()},o.value=function(){return this._cell.car},o.assign=function(t){return this.isTail()?this.insert(t):this._cell.car=t,t},o.insert=function(t){if(this.isHead())throw new i;return this._cell=this._prev._cell.cdr=new Cell(t,this._cell.cdr),t},o.remove=function(){if(this.isHead())throw new s;if(this.isTail())throw new IllegalStateError("can't remove at tail");var t=this._cell.car;return this._cell=this._prev._cell.cdr=this._cell.cdr,t},o.next=function(){if(this.isTail())throw new NoSuchElementError("no next element");return new e(this._head,this._cell.cdr,this)},o.previous=function(){if(this.isHead())throw new NoSuchElementError("no previous element");return this._prev},o.equals=function(t){return t instanceof e&&t.isBoundTo(this._head)&&this._cell===t._cell},o.compareTo=o.distance=function(t){if(t instanceof e&&t.isBoundTo(this._head)){for(var n=0,r=this._cell,o=t._cell;!r.isNil();n++,r=r.cdr)if(r===o)return-n;for(var n=1,r=t._cell.cdr,o=this._cell;!r.isNil();n++,r=r.cdr)if(r===o)return n}};var o=n.prototype=new List.ReverseIterator;o.constructor=n;var i=Error.extend(function(t,e){t(e)},{name:r+".InsertAtHeadError",message:"can't insert at head of cons-list"}),s=Error.extend(function(t,e){t(e)},{name:r+".RemoveHeadError",message:"can't remove head of cons-list"});return{InsertAtHeadError:i,RemoveHeadError:s,list:t}}()}.call(null))this.Data.Cons.InsertAtHeadError=InsertAtHeadError,this.Data.Cons.RemoveHeadError=RemoveHeadError,this.Data.Cons.list=list}.call(null),function(){with((!this.Math||"object"!=typeof this.Math&&"function"!=typeof this.Math)&&(this.Math=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Error||"object"!=typeof this.Data.Error&&"function"!=typeof this.Data.Error)&&(this.Data.Error=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Functional||"object"!=typeof this.Data.Functional&&"function"!=typeof this.Data.Functional)&&(this.Data.Functional=new Object),(!this.Data.Functional.Loop||"object"!=typeof this.Data.Functional.Loop&&"function"!=typeof this.Data.Functional.Loop)&&(this.Data.Functional.Loop=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Functional||"object"!=typeof this.Data.Functional&&"function"!=typeof this.Data.Functional)&&(this.Data.Functional=new Object),function(){with(Math)with(Data.Error)with(Data.Functional.Loop)with(Data.Functional)return function(){function t(t,e){this._arr=t,this._pos=e}function e(e,n){t.apply(this,arguments)}var r=Array.prototype;for(var o in List.prototype)"function"!=typeof r[o]&&(r[o]=List.prototype[o]);r.head=function(e){if(0>e)return this.tail(-e);if(e=ToInteger(e),e>this.length)throw new RangeError;return new t(this,e)},r.tail=function(e){if(0>e)return this.head(-e);if(e=ToInteger(e),e>this.length)throw new RangeError;return new t(this,this.length-e)},r.iterator=r.head,r.reverseHead=function(t){if(0>t)return this.reverseTail(-t);if(t=ToInteger(t),t>this.length)throw new RangeError;return new e(this,t)},r.reverseTail=function(t){if(0>t)return this.reverseHead(-t);if(t=ToInteger(t),t>this.length)throw new RangeError;return new e(this,this.length-t)},r.add=function(){return this.push.apply(this,arguments),!0},r.get=function(r){if(r instanceof t||r instanceof e){if(r.isBoundTo(this))return r.value();throw new IllegalStateError}return r=ToInteger(n),0>r&&(r+=this.length),this[r]},r.set=function(n,r){if(n instanceof t||n instanceof e){if(n.isBoundTo(this))return n.assign(r);throw new IllegalStateError}var o=ToInteger(n);if(0>o&&(o+=this.length),0>o)throw new RangeError("`"+n+"' is too small.");if(o>=this.length)throw new RangeError("`"+n+"' is too large.");return this[o]=r},r.insertAt=function(n,r){if(n instanceof t||n instanceof e){if(n.isBoundTo(this))return n.insert(r);throw new IllegalStateError}var o=ToInteger(n);if(0>o&&(o+=this.length),0>o)throw new RangeError("`"+n+"' is too small.");if(o>=this.length)throw new RangeError("`"+n+"' is too large.");return this.splice(o,0,r),r},r.removeAt=function(n){if(n instanceof t||n instanceof e){if(n.isBoundTo(this))return n.remove();throw new IllegalStateError}var r=ToInteger(n);if(0>r&&(r+=this.length),0>r)throw new RangeError("`"+n+"' is too small.");if(r>=this.length)throw new RangeError("`"+n+"' is too large.");return this.splice(r,1)[0]},r.isEmpty=function(){return 0==this.length},r.empty=function(){this.length=0},r.size=function(){return this.length},r.copy=r.toArray=function(){for(var t=[],e=0;e<this.length;e++)t[e]=this[e];return t},r.forEach=function(t){t=wrap_for_forEach(this,t);for(var e=0;e<this.length;e++)try{t(this[e])}catch(n){if(n instanceof EndOfLoopException)return;throw n}},r.fold=r.foldl=function(t,e){t=wrap_for_fold(this,t,e);for(var n=0;n<this.length;n++)try{e=t(this[n])}catch(r){if(r instanceof EndOfLoopException)return r.result;throw r}return e},r.fold1=r.foldl1=function(t){if(0==this.length)throw new EmptyEnumerationError;var e=this[0];t=wrap_for_fold(this,t,e);for(var n=1;n<this.length;n++)try{e=t(this[n])}catch(r){if(r instanceof EndOfLoopException)return r.result;throw r}return e},r.foldr=function(t,e){for(var n=(wrap_for_fold(this,function(e,n){return t.call(this,n,e)},e),this.length-1);n>=0;n--)try{e=t(this[n])}catch(r){if(r instanceof EndOfLoopException)return r.result;throw r}return e},r.foldr1=function(t){if(0==this.length)throw new EmptyEnumerationError;for(var e=this[this.length-1],n=wrap_for_fold(this,function(e,n){return t.call(this,n,e)},e),r=this.length-2;r>=0;r--)try{e=n(this[r])}catch(o){if(o instanceof EndOfLoopException)return o.result;throw o}return e},r.map=function(t){var e=[];t=wrap_for_map(this,t,function(){e.push.apply(e,arguments)});for(var n=0;n<this.length;n++)try{t(this[n])}catch(r){if(r instanceof EndOfLoopException)return e;throw r}return e};var i=r.concat;r.concat=function(){for(var t=0;t<arguments.length;t++){var e=arguments[t];e instanceof List&&(arguments[t]=e.toArray())}return i.apply(this,arguments)};var s=r.slice;r.slice=function(n,r){if((n instanceof t&&r instanceof t||n instanceof e&&r instanceof e)&&n.isBoundTo(this)&&r.isBoundTo(this)){if(n.compareTo(r)>=0)return[];var o=[];do o.push(n.value()),n=n.next();while(!n.equals(r));return o}return s.apply(this,arguments)};var r=t.prototype=new List.Iterator;r.constructor=t,r.isBoundTo=function(t){return this._arr===t},r.isHead=function(){return ToInteger(this._pos)<=0||0==this._arr.length},r.isTail=function(){return ToInteger(this._pos)>=this._arr.length||0==this._arr.length},r.value=function(){return this.isTail()?void 0:this.isHead()?this._arr[0]:this._arr[ToInteger(this._pos)]},r.assign=function(t){return this.isTail()?this.insert():this.isHead()?this._arr[0]=t:this._arr[ToInteger(this._pos)]=t},r.insert=function(t){var e=ToInteger(this._pos);return e=0>=e?0:min(e,this._arr.length),this._arr.insertAt(e,t)},r.remove=function(){if(this.isTail())throw new IllegalStateError("can't remove at the tail of list");return this.isHead()?this._arr.aplice(0,1)[0]:this._arr.splice(this._pos,1)[0]},r.next=function(){if(this.isTail())throw new NoSuchElement("no next element");return this.isHead()?new this.constructor(this._arr,1):new this.constructor(this._arr,this._pos+1)},r.previous=function(){if(this.isHead())throw new NoSuchElement("no previous element");return this.isTail()?new this.constructor(this._arr,this._arr.length-1):new this.constructor(this._arr,this._pos-1)},r.compareTo=r.distance=function(t){if(t instanceof this.constructor&&this._arr===t._arr){var e=this._arr.length,n=ToInteger(this._pos),r=ToInteger(t._pos);return 0>=n&&0>=r||n>=e&&r>=e?0:n-r}};var r=e.prototype=new List.Iterator;for(var o in t.prototype)t.prototype.hasOwnProperty(o)&&"function"==typeof t.prototype[o]&&(r[o]=t.prototype[o]);return r.constructor=e,r.value=function(){return this.isTail()?void 0:this.isHead()?this._arr[this._arr.length-1]:this._arr[this._arr.length-1-ToInteger(this._pos)]},r.assign=function(t){return this.isTail()&&this.insert(t),this.isHead()?this._arr[this._arr.length-1]=t:this._arr[this._arr.length-1-ToInteger(this._pos)]=t},r.insert=function(t){var e=ToInteger(this._pos);return e=0>=e?0:min(e,this._arr.length),this._arr.insertAt(this._arr.length-e,t)},r.remove=function(){if(this.isTail())throw new IllegalStateError("can't remove at the tail of list");return this.isHead()?this._arr.splice(this._arr.length-1,1)[0]:this._arr.splice(this._arr.length-1-ToInteger(this._pos),1)[0]},{}}()}.call(null));}.call(null),function(){with((!this.Math||"object"!=typeof this.Math&&"function"!=typeof this.Math)&&(this.Math=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Error||"object"!=typeof this.Data.Error&&"function"!=typeof this.Data.Error)&&(this.Data.Error=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Iterator||"object"!=typeof this.Data.Iterator&&"function"!=typeof this.Data.Iterator)&&(this.Data.Iterator=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Functional||"object"!=typeof this.Data.Functional&&"function"!=typeof this.Data.Functional)&&(this.Data.Functional=new Object),(!this.Data.Functional.Loop||"object"!=typeof this.Data.Functional.Loop&&"function"!=typeof this.Data.Functional.Loop)&&(this.Data.Functional.Loop=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Functional||"object"!=typeof this.Data.Functional&&"function"!=typeof this.Data.Functional)&&(this.Data.Functional=new Object),void 0===this.Data.LinkedList&&(this.Data.LinkedList=void 0),function(){with(Math)with(Data.Error)with(Data.Iterator)with(Data.Functional.Loop)with(Data.Functional)with(Data)return function(){function t(){this._value=void 0,this._prev=this,this._next=this,this._removed=!1,this.add.apply(this,arguments)}function e(t){return{_value:t,_removed:!1}}function n(t,e,n){if(0==n)return e;for(e=e._next;--n>0;){if(e===t)throw new RangeError;e=e._next}return e}function r(t,e,n){if(0==n)return e;for(e=e._prev;--n>0;){if(e===t)throw new RangeError;e=e._prev}return e}function o(t,e,n){if(e===n)return 0;do if(e=e._next,e===n)return-1;while(e!==t);return 1}function i(t,e,n){for(var r=0,o=e;o!==t;r--,o=o._next)if(o===n)return r;for(var r=1,o=n._next;o!==t;r++,o=o._next)if(o===e)return r}function s(t,e){this._top=t,this._pos=e}function a(t){for(;t._pos._removed;)t._pos=t._pos._next}function c(t,e){this._top=t,this._pos=e}function h(t){for(;t._pos._removed;)t._pos=t._pos._prev}var u;u="Data",t.fromCollection=function(){var e=new t;return e.addAll.apply(e,arguments),e};var p=t.prototype=new List;p.constructor=t,p.head=function(t){return 0>t?this.tail(-t):new s(this,n(this,this._next,ToInteger(t)))},p.tail=function(t){return 0>t?this.head(-t):new s(this,r(this,this,ToInteger(t)))},p.reverseHead=function(t){return 0>t?this.reverseTail(-t):new c(this,r(this,this._prev,ToInteger(t)))},p.reverseTail=function(t){return 0>t?this.reverseHead(-t):new c(this,r(this,this,ToInteger(t)))},p.iterator=p.head,p.add=function(){if(!arguments.length)return!1;for(var t=new s(this,this),e=0;e<arguments.length;e++)t.insert(arguments[e]);return!0},p.pop=function(){return new s(this,this._prev).remove()},p.shift=function(){return new s(this,this._next).remove()},p.unshift=function(){for(var t=new s(this,this._next),e=0;e<arguments.length;e++)t.insert(arguments[e]);return this.size()},p.isEmpty=function(){return this._next===this},p.empty=function(){this._prev=this._next=this},p.size=function(){for(var t=0,e=this._next;e!==this;++t,e=e._next);return t},p.copy=function(){for(var t=this.emptyCopy(),e=this._next;e!==this;e=e._next)t.add(e._value);return t},p.toArray=function(){for(var t=[],e=this._next;e!==this;e=e._next)t.push(e._value);return t},p.forEach=function(t){t=wrap_for_forEach(this,t);for(var e=this._next;e!==this;e=e._next)try{t(e._value)}catch(n){if(n instanceof EndOfLoopException)return;throw n}},p.fold=p.foldl=function(t,e){t=wrap_for_fold(this,t,e);for(var n=this._next;n!==this;n=n._next)try{e=t(n._value)}catch(r){if(r instanceof EndOfLoopException)return r.result;throw r}return e},p.fold1=p.foldl1=function(t){if(this.isEmpty())throw new EmptyEnumerationError;var e=this._next._value;t=wrap_for_fold(this,t,e);for(var n=this._next._next;n!==this;n=n._next)try{e=t(n._value)}catch(r){if(r instanceof EndOfLoopException)return r.result;throw r}return e},p.foldr=function(t,e){for(var n=(wrap_for_fold(this,function(e,n){return t.call(this,n,e)},e),this._prev);n!==this;n=n._prev)try{e=t(n._value)}catch(r){if(r instanceof EndOfLoopException)return r.result;throw r}return e},p.foldr1=function(t){if(this.isEmpty())throw new EmptyEnumerationError;for(var e=this._prev._value,n=wrap_for_fold(this,function(e,n){return t.call(this,n,e)},e),r=this._prev._prev;r!==this;r=r._prev)try{e=n(r._value)}catch(o){if(o instanceof EndOfLoopException)return o.result;throw o}return e},p.map=function(e){var n=new t;e=wrap_for_map(this,e,function(){n.add.apply(n,arguments)});for(var r=this._next;r!==this;r=r._next)try{e(r._value)}catch(o){if(o instanceof EndOfLoopException)return n;throw o}return n};var p=s.prototype=new List.Iterator;p.constructor=s,p.isBoundTo=function(t){return this._top===t},p.equals=function(t){return t instanceof s&&t.isBoundTo(this._top)?(a(this),a(t),this._pos===t._pos):!1},p.compareTo=function(t){return t instanceof s&&t.isBoundTo(this._top)?(a(this),a(t),o(this._top,this._pos,t._pos)):void 0},p.distance=function(t){return t instanceof s&&t.isBoundTo(this._top)?(a(this),a(t),i(this._top,this._pos,t._pos)):void 0},p.isHead=function(){return a(this),this._pos===this._top._next},p.isTail=function(){return a(this),this._pos===this._top},p.next=function(){if(this.isTail())throw new NoSuchElementError("no next element");return new s(this._top,this._pos._next)},p.previous=function(){if(this.isHead())throw new NoSuchElementError("no previous element");return new s(this._top,this._pos._prev)},p.value=function(){return a(this),this._pos._value},p.assign=function(t){return this.isTail()?this.insert(t):this._pos._value=t},p.insert=function(t){a(this);var n=e(t);return n._prev=this._pos._prev,n._next=this._pos,this._pos._prev=this._pos._prev._next=n,t},p.remove=function(){if(this.isTail())throw new IllegalStateError("can't remove at the tail of list");return this._pos._prev._next=this._pos._next,this._pos._next._prev=this._pos._prev,this._pos._removed=!0,this._pos._value};var p=c.prototype=new List.Iterator;for(var l in s.prototype)p[l]=s.prototype[l];return p.constructor=c,p.isBoundTo=s.prototype.isBoundTo,p.equals=function(t){return t instanceof s&&t.isBoundTo(this._top)?(h(this),h(t),this._pos===t._pos):!1},p.compareTo=function(t){return t instanceof s&&t.isBoundTo(this._top)?(h(this),h(t),-o(this._top,this._pos,t._pos)):void 0},p.distance=function(t){if(t instanceof s&&t.isBoundTo(this._top)){h(this),h(t);var e=i(this._top,this._pos,t._pos);return isNaN(e)?e:-e}},p.isHead=function(){return h(this),this._pos===this._top._prev},p.isTail=function(){return h(this),this._pos===this._top},p.next=function(){if(this.isTail())throw new NoSuchElementError("no next element");return new c(this._top,this._pos._prev)},p.previous=function(){if(this.isHead())throw new NoSuchElementError("no previous element");return new c(this._top,this._pos._next)},p.value=function(){return h(this),this._pos._value},p.assign=s.prototype.assign,p.insert=function(t){h(this);var n=e(t);return n._next=this._pos._next,n._prev=this._pos,this._pos._next=this._pos._next._prev=n,t},p.remove=s.prototype.remove,{LinkedList:t}}()}.call(null))this.Data.LinkedList=LinkedList}.call(null),function(){with((!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Error||"object"!=typeof this.Data.Error&&"function"!=typeof this.Data.Error)&&(this.Data.Error=new Object),(!this.Concurrent||"object"!=typeof this.Concurrent&&"function"!=typeof this.Concurrent)&&(this.Concurrent=new Object),void 0===this.Concurrent.Thread&&(this.Concurrent.Thread=void 0),function(){with(Data.Error)with(Concurrent)return function(){function t(t){this.ret_val=t}function e(e){throw new t(e)}function n(t){this.thrown=t}function r(t){throw new n(t)}function o(){throw new Error("Thread cannot be instantiated directly.")}function i(t){this._triplet=t,this._is_ended=0,this._join_thread=null,this._joined_list=new Data.LinkedList,this._timerID=void 0,a.call(this,0)}function s(){this._timerID&&(clearTimeout(this._timerID),this._timerID=void 0)}function a(t){s.call(this);var e=this;this._timerID=setTimeout(function(){h.call(e)},Number(t)||2)}function c(){if(this._join_thread){var t=this,e=this._join_thread._joined_list.head().find(function(e){return e===t});e.remove(),this._join_thread=null}}function h(){s.call(this);var e=this._triplet;this._triplet=null;try{p=this;var r=(new Date).valueOf()+o.TIME_SLICE;do try{e=e.continuation.procedure.call(e.continuation.this_val,e.ret_val)}catch(i){if(i instanceof t){for(this._is_ended=1,this._result=i.ret_val;!this._joined_list.isEmpty();){var h=this._joined_list.head().value();c.call(h),h._triplet.ret_val=i.ret_val,a.call(h)}return void(this._joined_list=null)}if(i instanceof n){i=i.thrown;var u=this._joined_list;if(this._joined_list=null,this._is_ended=-1,this._result=i,u.isEmpty()){if(!(i instanceof d))throw i}else for(;!u.isEmpty();)u.head().value().notify(i);return}e.continuation=e.continuation.exception,e.ret_val=i}while(void 0===e.timeout&&(new Date).valueOf()<r)}finally{p=null}this._triplet=e,e.timeout<0||a.call(this,e.timeout)}var u;u="Concurrent";var p=null,l={this_val:null,procedure:e,exception:{this_val:null,procedure:r}};l.exception.exception=l.exception;var f=i.prototype=o.prototype;+function(){var t="[object "+u+".Thread]";f.toString=function(){return t}}(),o.TIME_SLICE=20,f.notify=function(t){if(p===this)throw t;if(this._is_ended)throw new C;return s.call(this),c.call(this),this._triplet.continuation=this._triplet.continuation.exception,this._triplet.ret_val=t,a.call(this),t},f.kill=function(t){return this.notify(arguments.length?new d(t):new d)},f.join=function(){throw new Error("can't `join' in non-compiled functions")},f.join.$Concurrent_Thread_compiled=function(t,e,n){if(t._is_ended>0)return{continuation:n,ret_val:t._result,timeout:void 0};if(t._is_ended<0)throw t._result;return t._joined_list.add(p),p._join_thread=t,{continuation:n,timeout:-1}},o.create=function(t){if("function"!=typeof t)throw new TypeError("can't create new thread from non-function value");return"function"!=typeof t.$Concurrent_Thread_compiled&&(t=this.compile(t)),t.async(null,Array.prototype.slice.call(arguments,1,arguments.length))},o.self=function(){return p},o.sleep=function(){throw new Error("can't `sleep' in non-compiled functions")},o.sleep.$Concurrent_Thread_compiled=function(t,e,n){return{continuation:n,ret_val:void 0,timeout:e[0]>0?e[0]:0}},o.stop=function(){throw new Error("can't `stop' in non-compiled functions")},o.stop.$Concurrent_Thread_compiled=function(t,e,n){return{continuation:n,ret_val:void 0,timeout:-1}},o["yield"]=function(){throw new Error("can't `yield' in non-compiled functions")},o["yield"].$Concurrent_Thread_compiled=function(t,e,n){return{continuation:n,ret_val:void 0,timeout:0}};var d=o.KillException=Exception.extend(function(t,e){t(e)},{name:u+".Thread.KillException",message:"thread killed"}),C=o.NotAliveError=Error.extend(function(t,e){t(e)},{name:u+".Thread.NotAliveError",message:"thread not alive"}),f=Function.prototype;return f.apply.$Concurrent_Thread_compiled=function(t,e,n){return"function"==typeof t.$Concurrent_Thread_compiled?t.$Concurrent_Thread_compiled(e[0],e[1],n):{continuation:n,ret_val:t.apply(e[0],e[1])}},f.call.$Concurrent_Thread_compiled=function(t,e,n){return"function"==typeof t.$Concurrent_Thread_compiled?t.$Concurrent_Thread_compiled(e[0],Array.prototype.slice.call(e,1,e.length),n):{continuation:n,ret_val:t.apply(e[0],Array.prototype.slice.call(e,1,e.length))}},f.async=function(t,e){if("function"!=typeof this.$Concurrent_Thread_compiled)throw new Error("this is not a compiled function");return void 0===e&&(e=[]),new i(this.$Concurrent_Thread_compiled(t,e,l))},{Thread:o}}()}.call(null))this.Concurrent.Thread=Thread}.call(null),function(){with((!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Cons||"object"!=typeof this.Data.Cons&&"function"!=typeof this.Data.Cons)&&(this.Data.Cons=new Object),(!this.Data.Cons.Util||"object"!=typeof this.Data.Cons.Util&&"function"!=typeof this.Data.Cons.Util)&&(this.Data.Cons.Util=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Error||"object"!=typeof this.Data.Error&&"function"!=typeof this.Data.Error)&&(this.Data.Error=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Cons||"object"!=typeof this.Data.Cons&&"function"!=typeof this.Data.Cons)&&(this.Data.Cons=new Object),void 0===this.Data.Cons.Util.last&&(this.Data.Cons.Util.last=void 0),void 0===this.Data.Cons.Util.adder&&(this.Data.Cons.Util.adder=void 0),void 0===this.Data.Cons.Util.concat&&(this.Data.Cons.Util.concat=void 0),function(){with(Data.Error)with(Data.Cons)with(Data.Cons.Util)return function(){function t(t){if(!(t instanceof Cell))throw new TypeError("argument is not cons-list");if(t.isNil())return t;if(!(t.cdr instanceof Cell))throw new TypeError("argument is not cons-list");for(;!t.cdr.isNil();)if(t=t.cdr,!(t.cdr instanceof Cell))throw new TypeError("argument is not cons-list");return t}function e(e){if(e=t(e),e.isNil())throw new IllegalStateError("can't append to nil");return function(){
e=t(e);for(var n=0;n<arguments.length;n++)e=e.cdr=new Cell(arguments[n],e.cdr)}}function n(){if(0==arguments.length)return nil();for(var e=arguments[0],n=t(e),r=1;r<arguments.length;r++)n.cdr=arguments[r],n=t(n);return e}var r;return r="Data.Cons.Util",{adder:e,concat:n,last:t}}()}.call(null))this.Data.Cons.Util.adder=adder,this.Data.Cons.Util.concat=concat,this.Data.Cons.Util.last=last}.call(null),function(){with((!this.Concurrent||"object"!=typeof this.Concurrent&&"function"!=typeof this.Concurrent)&&(this.Concurrent=new Object),(!this.Concurrent.Thread||"object"!=typeof this.Concurrent.Thread&&"function"!=typeof this.Concurrent.Thread)&&(this.Concurrent.Thread=new Object),(!this.Concurrent.Thread.Compiler||"object"!=typeof this.Concurrent.Thread.Compiler&&"function"!=typeof this.Concurrent.Thread.Compiler)&&(this.Concurrent.Thread.Compiler=new Object),(!this.Concurrent.Thread.Compiler.Kit||"object"!=typeof this.Concurrent.Thread.Compiler.Kit&&"function"!=typeof this.Concurrent.Thread.Compiler.Kit)&&(this.Concurrent.Thread.Compiler.Kit=new Object),void 0===this.Concurrent.Thread.Compiler.Kit.printTrees&&(this.Concurrent.Thread.Compiler.Kit.printTrees=void 0),void 0===this.Concurrent.Thread.Compiler.Kit.codeBug&&(this.Concurrent.Thread.Compiler.Kit.codeBug=void 0),function(){with(Concurrent.Thread.Compiler.Kit)return function(){function t(){for(var t="",e=0;e<arguments.length;e++)t+=arguments[e];var n=new Data.Error.IllegalStateError("FAILED ASSERTION: "+t),r=n.toString();throw n.stack&&(r+="\n----------\n"+n.stack),alert(r),n}var e;e="Concurrent.Thread.Compiler.Kit";var n=!1;return{printTrees:n,codeBug:t}}()}.call(null))this.Concurrent.Thread.Compiler.Kit.printTrees=printTrees,this.Concurrent.Thread.Compiler.Kit.codeBug=codeBug}.call(null),function(){with((!this.Concurrent||"object"!=typeof this.Concurrent&&"function"!=typeof this.Concurrent)&&(this.Concurrent=new Object),(!this.Concurrent.Thread||"object"!=typeof this.Concurrent.Thread&&"function"!=typeof this.Concurrent.Thread)&&(this.Concurrent.Thread=new Object),(!this.Concurrent.Thread.Compiler||"object"!=typeof this.Concurrent.Thread.Compiler&&"function"!=typeof this.Concurrent.Thread.Compiler)&&(this.Concurrent.Thread.Compiler=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Error||"object"!=typeof this.Data.Error&&"function"!=typeof this.Data.Error)&&(this.Data.Error=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Iterator||"object"!=typeof this.Data.Iterator&&"function"!=typeof this.Data.Iterator)&&(this.Data.Iterator=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Functional||"object"!=typeof this.Data.Functional&&"function"!=typeof this.Data.Functional)&&(this.Data.Functional=new Object),void 0===this.Concurrent.Thread.Compiler.IdentifierSet&&(this.Concurrent.Thread.Compiler.IdentifierSet=void 0),function(){with(Data.Error)with(Data.Iterator)with(Data.Functional)with(Concurrent.Thread.Compiler)return function(){function t(){this._set={},this._state_no=r}function e(t,e,n){this._parent=t,this._elems=e,this._index=n,this._state_no=t._state_no}var n;n="Concurrent.Thread.Compiler";var r=Math.pow(-2,53),o=t.prototype=new Set;o.constructor=t;var i=Object.prototype.hasOwnProperty;o.contains=function(){for(var t=0;t<arguments.length;t++){var e=arguments[t];if(!(e instanceof Identifier))throw new TypeError("arguments["+t+"] is not of type Identifier");if(!i.call(this._set,e.valueOf()))return!1}return!0},o.add=function(){for(var t=!1,e=0;e<arguments.length;e++){var n=arguments[e];if(!(n instanceof Identifier))throw new TypeError("arguments["+e+"] is not of type Identifier");var r=n.valueOf();this._set[r]!==n&&(this._set[r]=n,this._state_no++,t=!0)}return t},o.remove=function(){for(var t=!1,e=0;e<arguments.length;e++){var n=arguments[e];if(!(n instanceof Identifier))throw new TypeError("argument is not of type Identifier");var r=n.valueOf();i.call(this._set,r)&&(delete this._set[r],this._state_no++,t=!0)}return t},o.toArray=function(){var t=[];for(var e in this._set)i.call(this._set,e)&&t.push(this._set[e]);return t},o.iterator=function(){return new e(this,this.toArray(),0)};var o=e.prototype=new Iterator;return o.constructor=e,o.isBoundTo=function(t){return this._parent===t},o.isTail=function(){if(this._state_no!==this._parent._state_no)throw new IllegalStateError("parent IdentifierSet object's state has been changed");return this._index>=this._elems.length},o.next=function(){if(this._state_no!==this._parent._state_no)throw new IllegalStateError("parent IdentifierSet object's state has been changed");if(this.isTail())throw new NoSuchElementError("no more element after the tail");return new e(this._parent,this._elems,this._index+1)},o.value=function(){if(this._state_no!==this._parent._state_no)throw new IllegalStateError("parent IdentifierSet object's state has been changed");return this._elems[this._index]},{IdentifierSet:t}}()}.call(null))this.Concurrent.Thread.Compiler.IdentifierSet=IdentifierSet}.call(null),function(){with((!this.Concurrent||"object"!=typeof this.Concurrent&&"function"!=typeof this.Concurrent)&&(this.Concurrent=new Object),(!this.Concurrent.Thread||"object"!=typeof this.Concurrent.Thread&&"function"!=typeof this.Concurrent.Thread)&&(this.Concurrent.Thread=new Object),(!this.Concurrent.Thread.Continuation||"object"!=typeof this.Concurrent.Thread.Continuation&&"function"!=typeof this.Concurrent.Thread.Continuation)&&(this.Concurrent.Thread.Continuation=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Error||"object"!=typeof this.Data.Error&&"function"!=typeof this.Data.Error)&&(this.Data.Error=new Object),void 0===this.Concurrent.Thread.Continuation.callcc&&(this.Concurrent.Thread.Continuation.callcc=void 0),void 0===this.Concurrent.Thread.Continuation.getCC&&(this.Concurrent.Thread.Continuation.getCC=void 0),void 0===this.Concurrent.Thread.Continuation.currentContinuation&&(this.Concurrent.Thread.Continuation.currentContinuation=void 0),void 0===this.Concurrent.Thread.Continuation.ContinuationCalledException&&(this.Concurrent.Thread.Continuation.ContinuationCalledException=void 0),function(){with(Data.Error)with(Concurrent.Thread.Continuation)return function(){function t(){throw new Error("can't call `"+r+".callcc' in non-threaded functions")}function e(){throw new Error("can't call `"+r+".getCC' in non-threaded functions")}function n(){throw new Error("can't call `"+r+".currentContinuation' in non-threaded functions")}var r;r="Concurrent.Thread.Continuation",t.$Concurrent_Thread_compiled=function(t,e,n){function r(){throw new Error("can't call any captured continuation in non-threaded functions")}r.$Concurrent_Thread_compiled=function(t,e,r){return{continuation:n,timeout:void 0,ret_val:e[0]}};var o=e[0];return o&&"function"==typeof o.$Concurrent_Thread_compiled?o.$Concurrent_Thread_compiled(null,[r],n):{continuation:n,ret_val:o(r),timeout:void 0}},e.$Concurrent_Thread_compiled=function(t,e,n){function r(){throw new Error("can't call any captured continuation in non-threaded functions")}return r.$Concurrent_Thread_compiled=function(t,e,r){return{continuation:n,timeout:void 0,ret_val:e[0]}},{continuation:n,ret_val:r,timeout:void 0}},n.$Concurrent_Thread_compiled=function(t,e,n){function r(){throw new Error("can't call any captured continuation in non-threaded functions")}return r.$Concurrent_Thread_compiled=function(t,e,r){return{continuation:n.exception,timeout:void 0,ret_val:new o(e)}},{continuation:n,timeout:void 0,ret_val:r}};var o=Exception.extend(function(t,e){t("continuation called"),this.args=e},{name:r+".ContinuationCalledException"});return{ContinuationCalledException:o,callcc:t,getCC:e,currentContinuation:n}}()}.call(null))this.Concurrent.Thread.Continuation.ContinuationCalledException=ContinuationCalledException,this.Concurrent.Thread.Continuation.callcc=callcc,this.Concurrent.Thread.Continuation.getCC=getCC,this.Concurrent.Thread.Continuation.currentContinuation=currentContinuation}.call(null),function(){with((!this.Concurrent||"object"!=typeof this.Concurrent&&"function"!=typeof this.Concurrent)&&(this.Concurrent=new Object),(!this.Concurrent.Thread||"object"!=typeof this.Concurrent.Thread&&"function"!=typeof this.Concurrent.Thread)&&(this.Concurrent.Thread=new Object),(!this.Concurrent.Thread.Compiler||"object"!=typeof this.Concurrent.Thread.Compiler&&"function"!=typeof this.Concurrent.Thread.Compiler)&&(this.Concurrent.Thread.Compiler=new Object),void 0===this.Concurrent.Thread.Compiler.ErrorReporter&&(this.Concurrent.Thread.Compiler.ErrorReporter=void 0),function(){with(Concurrent.Thread.Compiler)return function(){function t(){}var e;e="Concurrent.Thread.Compiler";var n=t.prototype;return n.warning=function(t,e,n,r){},n.error=function(t,e,n,r){},{ErrorReporter:t}}()}.call(null))this.Concurrent.Thread.Compiler.ErrorReporter=ErrorReporter}.call(null),function(){with((!this.Concurrent||"object"!=typeof this.Concurrent&&"function"!=typeof this.Concurrent)&&(this.Concurrent=new Object),(!this.Concurrent.Thread||"object"!=typeof this.Concurrent.Thread&&"function"!=typeof this.Concurrent.Thread)&&(this.Concurrent.Thread=new Object),(!this.Concurrent.Thread.Compiler||"object"!=typeof this.Concurrent.Thread.Compiler&&"function"!=typeof this.Concurrent.Thread.Compiler)&&(this.Concurrent.Thread.Compiler=new Object),void 0===this.Concurrent.Thread.Compiler.isAlpha&&(this.Concurrent.Thread.Compiler.isAlpha=void 0),void 0===this.Concurrent.Thread.Compiler.isDigit&&(this.Concurrent.Thread.Compiler.isDigit=void 0),void 0===this.Concurrent.Thread.Compiler.isHexDigit&&(this.Concurrent.Thread.Compiler.isHexDigit=void 0),void 0===this.Concurrent.Thread.Compiler.isLineTerminator&&(this.Concurrent.Thread.Compiler.isLineTerminator=void 0),void 0===this.Concurrent.Thread.Compiler.isSpace&&(this.Concurrent.Thread.Compiler.isSpace=void 0),void 0===this.Concurrent.Thread.Compiler.isFormatChar&&(this.Concurrent.Thread.Compiler.isFormatChar=void 0),void 0===this.Concurrent.Thread.Compiler.isIdentifierStart&&(this.Concurrent.Thread.Compiler.isIdentifierStart=void 0),void 0===this.Concurrent.Thread.Compiler.isIdentifierPart&&(this.Concurrent.Thread.Compiler.isIdentifierPart=void 0),function(){with(Concurrent.Thread.Compiler)return function(){function t(t){return t=t.charCodeAt(0),90>=t?t>=65:t>=97&&122>=t}function e(t){return t=t.charCodeAt(0),t>=48&&57>=t}function n(t){return t=t.charCodeAt(0),70>=t?57>=t?t>=48:t>=65:t>=97&&102>=t}function r(t){switch(t.charCodeAt(0)){case 10:case 13:case 8232:case 8233:return!0;default:return!1}}function o(t){if(t=t.charCodeAt(0),!(255>=t))return 6158>=t?160>=t?32>=t?t>=32:t>=160:5760>=t?t>=5760:t>=6158:8239>=t?8202>=t?t>=8192:t>=8239:8287>=t?t>=8287:12288===t;switch(t){case 9:case 11:case 12:case 32:case 160:return!0;default:return!1}}function i(t){return t=t.charCodeAt(0),127>=t?!1:8238>=t?1807>=t?1539>=t?173>=t?t>=173:t>=1536:1757>=t?t>=1757:t>=1807:8207>=t?6069>=t?t>=6068:t>=8203:t>=8234:65531>=t?8303>=t?8291>=t?t>=8288:t>=8298:65279>=t?t>=65279:t>=65529:917505>=t?119162>=t?t>=119155:t>=917505:t>=917536&&917631>=t}function s(t){var t=t.charCodeAt(0);switch(t){case 36:case 95:return!0}return 5937>=t?2965>=t?2401>=t?1415>=t?893>=t?214>=t?170>=t?122>=t?90>=t?t>=65:t>=97:t>=170:186>=t?181>=t?t>=181:t>=186:t>=192:721>=t?705>=t?246>=t?t>=216:t>=248:t>=710:750>=t?740>=t?t>=736:t>=750:t>=890:1013>=t?908>=t?906>=t?902>=t?t>=902:t>=904:t>=908:974>=t?929>=t?t>=910:t>=931:t>=976:1366>=t?1299>=t?1153>=t?t>=1015:t>=1162:t>=1329:1369>=t?t>=1369:t>=1377:1808>=t?1747>=t?1594>=t?1522>=t?1514>=t?t>=1488:t>=1520:t>=1569:1647>=t?1610>=t?t>=1600:t>=1646:t>=1649:1775>=t?1766>=t?1749>=t?t>=1749:t>=1765:t>=1774:1791>=t?1788>=t?t>=1786:t>=1791:t>=1808:2037>=t?1957>=t?1901>=t?1839>=t?t>=1810:t>=1869:t>=1920:2026>=t?1969>=t?t>=1969:t>=1994:t>=2036:2365>=t?2361>=t?2042>=t?t>=2042:t>=2308:t>=2365:2384>=t?t>=2384:t>=2392:2701>=t?2545>=t?2482>=t?2448>=t?2444>=t?2431>=t?t>=2427:t>=2437:t>=2447:2480>=t?2472>=t?t>=2451:t>=2474:t>=2482:2510>=t?2493>=t?2489>=t?t>=2486:t>=2493:t>=2510:2529>=t?2525>=t?t>=2524:t>=2527:t>=2544:2614>=t?2600>=t?2576>=t?2570>=t?t>=2565:t>=2575:t>=2579:2611>=t?2608>=t?t>=2602:t>=2610:t>=2613:2654>=t?2652>=t?2617>=t?t>=2616:t>=2649:t>=2654:2676>=t?t>=2674:t>=2693:2856>=t?2749>=t?2736>=t?2728>=t?2705>=t?t>=2703:t>=2707:t>=2730:2745>=t?2739>=t?t>=2738:t>=2741:t>=2749:2828>=t?2785>=t?2768>=t?t>=2768:t>=2784:t>=2821:2832>=t?t>=2831:t>=2835:2913>=t?2873>=t?2867>=t?2864>=t?t>=2858:t>=2866:t>=2869:2909>=t?2877>=t?t>=2877:t>=2908:t>=2911:2954>=t?2947>=t?2929>=t?t>=2929:t>=2947:t>=2949:2960>=t?t>=2958:t>=2962:3760>=t?3368>=t?3169>=t?3001>=t?2975>=t?2972>=t?2970>=t?t>=2969:t>=2972:t>=2974:2986>=t?2980>=t?t>=2979:t>=2984:t>=2990:3112>=t?3088>=t?3084>=t?t>=3077:t>=3086:t>=3090:3129>=t?3123>=t?t>=3114:t>=3125:t>=3168:3261>=t?3240>=t?3216>=t?3212>=t?t>=3205:t>=3214:t>=3218:3257>=t?3251>=t?t>=3242:t>=3253:t>=3261:3340>=t?3297>=t?3294>=t?t>=3294:t>=3296:t>=3333:3344>=t?t>=3342:t>=3346:3714>=t?3517>=t?3478>=t?3425>=t?3385>=t?t>=3370:t>=3424:t>=3461:3515>=t?3505>=t?t>=3482:t>=3507:t>=3517:3635>=t?3632>=t?3526>=t?t>=3520:t>=3585:t>=3634:3654>=t?t>=3648:t>=3713:3743>=t?3722>=t?3720>=t?3716>=t?t>=3716:t>=3719:t>=3722:3735>=t?3725>=t?t>=3725:t>=3732:t>=3737:3751>=t?3749>=t?3747>=t?t>=3745:t>=3749:t>=3751:3755>=t?t>=3754:t>=3757:4696>=t?4138>=t?3840>=t?3780>=t?3773>=t?3763>=t?t>=3762:t>=3773:t>=3776:3805>=t?3782>=t?t>=3782:t>=3804:t>=3840:3979>=t?3946>=t?3911>=t?t>=3904:t>=3913:t>=3976:4135>=t?4129>=t?t>=4096:t>=4131:t>=4137:4514>=t?4346>=t?4293>=t?4181>=t?t>=4176:t>=4256:t>=4304:4441>=t?4348>=t?t>=4348:t>=4352:t>=4447:4685>=t?4680>=t?4601>=t?t>=4520:t>=4608:t>=4682:4694>=t?t>=4688:t>=4696:4885>=t?4798>=t?4749>=t?4744>=t?4701>=t?t>=4698:t>=4704:t>=4746:4789>=t?4784>=t?t>=4752:t>=4786:t>=4792:4822>=t?4805>=t?4800>=t?t>=4800:t>=4802:t>=4808:4880>=t?t>=4824:t>=4882:5786>=t?5108>=t?5007>=t?4954>=t?t>=4888:t>=4992:t>=5024:5750>=t?5740>=t?t>=5121:t>=5743:t>=5761:5900>=t?5872>=t?5866>=t?t>=5792:t>=5870:t>=5888:5905>=t?t>=5902:t>=5920:43013>=t?8469>=t?8013>=t?6569>=t?6108>=t?6e3>=t?5996>=t?5969>=t?t>=5952:t>=5984:t>=5998:6103>=t?6067>=t?t>=6016:t>=6103:t>=6108:6428>=t?6312>=t?6263>=t?t>=6176:t>=6272:t>=6400:6516>=t?6509>=t?t>=6480:t>=6512:t>=6528:7835>=t?6963>=t?6678>=t?6599>=t?t>=6593:t>=6656:t>=6917:7615>=t?6987>=t?t>=6981:t>=7424:t>=7680:7965>=t?7957>=t?7929>=t?t>=7840:t>=7936:t>=7960:8005>=t?t>=7968:t>=8008:8147>=t?8116>=t?8027>=t?8025>=t?8023>=t?t>=8016:t>=8025:t>=8027:8061>=t?8029>=t?t>=8029:t>=8031:t>=8064:8132>=t?8126>=t?8124>=t?t>=8118:t>=8126:t>=8130:8140>=t?t>=8134:t>=8144:8319>=t?8180>=t?8172>=t?8155>=t?t>=8150:t>=8160:t>=8178:8305>=t?8188>=t?t>=8182:t>=8305:t>=8319:8455>=t?8450>=t?8340>=t?t>=8336:t>=8450:t>=8455:8467>=t?t>=8458:t>=8469:11710>=t?11358>=t?8505>=t?8486>=t?8484>=t?8477>=t?t>=8473:t>=8484:t>=8486:8493>=t?8488>=t?t>=8488:t>=8490:t>=8495:8526>=t?8521>=t?8511>=t?t>=8508:t>=8517:t>=8526:11310>=t?8580>=t?t>=8544:t>=11264:t>=11312:11631>=t?11492>=t?11383>=t?11372>=t?t>=11360:t>=11380:t>=11392:11621>=t?11557>=t?t>=11520:t>=11568:t>=11631:11694>=t?11686>=t?11670>=t?t>=11648:t>=11680:t>=11688:11702>=t?t>=11696:t>=11704:12538>=t?12329>=t?11734>=t?11726>=t?11718>=t?t>=11712:t>=11720:t>=11728:12295>=t?11742>=t?t>=11736:t>=12293:t>=12321:12438>=t?12348>=t?12341>=t?t>=12337:t>=12344:t>=12353:12447>=t?t>=12445:t>=12449:19893>=t?12686>=t?12588>=t?12543>=t?t>=12540:t>=12549:t>=12593:12799>=t?12727>=t?t>=12704:t>=12784:t>=13312:42778>=t?42124>=t?40891>=t?t>=19968:t>=40960:t>=42775:43009>=t?t>=43008:t>=43011:66717>=t?65276>=t?64310>=t?64106>=t?43123>=t?43042>=t?43018>=t?t>=43015:t>=43020:t>=43072:64045>=t?55203>=t?t>=44032:t>=63744:t>=64048:64279>=t?64262>=t?64217>=t?t>=64112:t>=64256:t>=64275:64296>=t?64285>=t?t>=64285:t>=64287:t>=64298:64829>=t?64321>=t?64318>=t?64316>=t?t>=64312:t>=64318:t>=64320:64433>=t?64324>=t?t>=64323:t>=64326:t>=64467:65019>=t?64967>=t?64911>=t?t>=64848:t>=64914:t>=65008:65140>=t?t>=65136:t>=65142:65597>=t?65495>=t?65470>=t?65370>=t?65338>=t?t>=65313:t>=65345:t>=65382:65487>=t?65479>=t?t>=65474:t>=65482:t>=65490:65574>=t?65547>=t?65500>=t?t>=65498:t>=65536:t>=65549:65594>=t?t>=65576:t>=65596:66378>=t?65786>=t?65629>=t?65613>=t?t>=65599:t>=65616:t>=65664:66334>=t?65908>=t?t>=65856:t>=66304:t>=66352:66511>=t?66499>=t?66461>=t?t>=66432:t>=66464:t>=66504:66517>=t?t>=66513:t>=66560:120069>=t?74606>=t?67647>=t?67637>=t?67592>=t?67589>=t?t>=67584:t>=67592:t>=67594:67644>=t?67640>=t?t>=67639:t>=67644:t>=67647:68115>=t?68096>=t?67861>=t?t>=67840:t>=68096:t>=68112:68147>=t?68119>=t?t>=68117:t>=68121:t>=73728:119974>=t?119964>=t?119892>=t?74850>=t?t>=74752:t>=119808:t>=119894:119970>=t?119967>=t?t>=119966:t>=119970:t>=119973:119995>=t?119993>=t?119980>=t?t>=119977:t>=119982:t>=119995:120003>=t?t>=119997:t>=120005:120538>=t?120132>=t?120092>=t?120084>=t?120074>=t?t>=120071:t>=120077:t>=120086:120126>=t?120121>=t?t>=120094:t>=120123:t>=120128:120485>=t?120144>=t?120134>=t?t>=120134:t>=120138:t>=120146:120512>=t?t>=120488:t>=120514:120712>=t?120628>=t?120596>=t?120570>=t?t>=120540:t>=120572:t>=120598:120686>=t?120654>=t?t>=120630:t>=120656:t>=120688:120779>=t?120770>=t?120744>=t?t>=120714:t>=120746:t>=120772:173782>=t?t>=131072:t>=194560&&195101>=t}function a(t){var t=t.charCodeAt(0);switch(t){case 36:case 95:return!0}return 4784>=t?2960>=t?2448>=t?1471>=t?893>=t?214>=t?122>=t?90>=t?57>=t?t>=48:t>=65:95>=t?t>=95:t>=97:181>=t?170>=t?t>=170:t>=181:186>=t?t>=186:t>=192:740>=t?705>=t?246>=t?t>=216:t>=248:721>=t?t>=710:t>=736:879>=t?750>=t?t>=750:t>=768:t>=890:1153>=t?929>=t?906>=t?902>=t?t>=902:t>=904:908>=t?t>=908:t>=910:1013>=t?974>=t?t>=931:t>=976:t>=1015:1369>=t?1299>=t?1158>=t?t>=1155:t>=1162:1366>=t?t>=1329:t>=1369:1469>=t?1415>=t?t>=1377:t>=1425:t>=1471:1791>=t?1594>=t?1514>=t?1477>=t?1474>=t?t>=1473:t>=1476:1479>=t?t>=1479:t>=1488:1557>=t?1522>=t?t>=1520:t>=1552:t>=1569:1756>=t?1641>=t?1630>=t?t>=1600:t>=1632:1747>=t?t>=1646:t>=1749:1788>=t?1768>=t?t>=1759:t>=1770:t>=1791:2381>=t?2037>=t?1901>=t?1866>=t?t>=1808:t>=1869:1969>=t?t>=1920:t>=1984:2361>=t?2042>=t?t>=2042:t>=2305:t>=2364:2431>=t?2403>=t?2388>=t?t>=2384:t>=2392:2415>=t?t>=2406:t>=2427:2444>=t?2435>=t?t>=2433:t>=2437:t>=2447:2705>=t?2600>=t?2519>=t?2489>=t?2480>=t?2472>=t?t>=2451:t>=2474:2482>=t?t>=2482:t>=2486:2504>=t?2500>=t?t>=2492:t>=2503:2510>=t?t>=2507:t>=2519:2563>=t?2531>=t?2525>=t?t>=2524:t>=2527:2545>=t?t>=2534:t>=2561:2576>=t?2570>=t?t>=2565:t>=2575:t>=2579:2632>=t?2617>=t?2611>=t?2608>=t?t>=2602:t>=2610:2614>=t?t>=2613:t>=2616:2626>=t?2620>=t?t>=2620:t>=2622:t>=2631:2676>=t?2652>=t?2637>=t?t>=2635:t>=2649:2654>=t?t>=2654:t>=2662:2701>=t?2691>=t?t>=2689:t>=2693:t>=2703:2856>=t?2765>=t?2745>=t?2736>=t?2728>=t?t>=2707:t>=2730:2739>=t?t>=2738:t>=2741:2761>=t?2757>=t?t>=2748:t>=2759:t>=2763:2819>=t?2787>=t?2768>=t?t>=2768:t>=2784:2799>=t?t>=2790:t>=2817:2832>=t?2828>=t?t>=2821:t>=2831:t>=2835:2903>=t?2883>=t?2867>=t?2864>=t?t>=2858:t>=2866:2873>=t?t>=2869:t>=2876:2893>=t?2888>=t?t>=2887:t>=2891:t>=2902:2929>=t?2913>=t?2909>=t?t>=2908:t>=2911:2927>=t?t>=2918:t>=2929:2954>=t?2947>=t?t>=2946:t>=2949:t>=2958:3542>=t?3251>=t?3088>=t?3010>=t?2975>=t?2970>=t?2965>=t?t>=2962:t>=2969:2972>=t?t>=2972:t>=2974:2986>=t?2980>=t?t>=2979:t>=2984:3001>=t?t>=2990:t>=3006:3055>=t?3021>=t?3016>=t?t>=3014:t>=3018:3031>=t?t>=3031:t>=3046:3084>=t?3075>=t?t>=3073:t>=3077:t>=3086:3158>=t?3140>=t?3123>=t?3112>=t?t>=3090:t>=3114:3129>=t?t>=3125:t>=3134:3149>=t?3144>=t?t>=3142:t>=3146:t>=3157:3212>=t?3183>=t?3169>=t?t>=3168:t>=3174:3203>=t?t>=3202:t>=3205:3240>=t?3216>=t?t>=3214:t>=3218:t>=3242:3395>=t?3299>=t?3277>=t?3268>=t?3257>=t?t>=3253:t>=3260:3272>=t?t>=3270:t>=3274:3294>=t?3286>=t?t>=3285:t>=3294:t>=3296:3344>=t?3331>=t?3311>=t?t>=3302:t>=3330:3340>=t?t>=3333:t>=3342:3385>=t?3368>=t?t>=3346:t>=3370:t>=3390:3478>=t?3425>=t?3405>=t?3400>=t?t>=3398:t>=3402:3415>=t?t>=3415:t>=3424:3459>=t?3439>=t?t>=3430:t>=3458:t>=3461:3526>=t?3515>=t?3505>=t?t>=3482:t>=3507:3517>=t?t>=3517:t>=3520:3540>=t?3530>=t?t>=3530:t>=3535:t>=3542:3897>=t?3751>=t?3720>=t?3662>=t?3571>=t?3551>=t?t>=3544:t>=3570:3642>=t?t>=3585:t>=3648:3714>=t?3673>=t?t>=3664:t>=3713:3716>=t?t>=3716:t>=3719:3743>=t?3725>=t?3722>=t?t>=3722:t>=3725:3735>=t?t>=3732:t>=3737:3749>=t?3747>=t?t>=3745:t>=3749:t>=3751:3801>=t?3780>=t?3769>=t?3755>=t?t>=3754:t>=3757:3773>=t?t>=3771:t>=3776:3789>=t?3782>=t?t>=3782:t>=3784:t>=3792:3881>=t?3840>=t?3805>=t?t>=3804:t>=3840:3865>=t?t>=3864:t>=3872:3895>=t?3893>=t?t>=3893:t>=3895:t>=3897:4185>=t?4038>=t?3979>=t?3946>=t?3911>=t?t>=3902:t>=3913:3972>=t?t>=3953:t>=3974:4028>=t?3991>=t?t>=3984:t>=3993:t>=4038:4146>=t?4135>=t?4129>=t?t>=4096:t>=4131:4138>=t?t>=4137:t>=4140:4169>=t?4153>=t?t>=4150:t>=4160:t>=4176:4680>=t?4441>=t?4346>=t?4293>=t?t>=4256:t>=4304:4348>=t?t>=4348:t>=4352:4601>=t?4514>=t?t>=4447:t>=4520:t>=4608:4701>=t?4694>=t?4685>=t?t>=4682:t>=4688:4696>=t?t>=4696:t>=4698:4749>=t?4744>=t?t>=4704:t>=4746:t>=4752:12543>=t?8116>=t?6157>=t?5866>=t?4954>=t?4805>=t?4798>=t?4789>=t?t>=4786:t>=4792:4800>=t?t>=4800:t>=4802:4880>=t?4822>=t?t>=4808:t>=4824:4885>=t?t>=4882:t>=4888:5740>=t?5007>=t?4959>=t?t>=4959:t>=4992:5108>=t?t>=5024:t>=5121:5786>=t?5750>=t?t>=5743:t>=5761:t>=5792:6e3>=t?5940>=t?5900>=t?5872>=t?t>=5870:t>=5888:5908>=t?t>=5902:t>=5920:5996>=t?5971>=t?t>=5952:t>=5984:t>=5998:6103>=t?6067>=t?6003>=t?t>=6002:t>=6016:6099>=t?t>=6070:t>=6103:6121>=t?6109>=t?t>=6108:t>=6112:t>=6155:7001>=t?6509>=t?6428>=t?6263>=t?6169>=t?t>=6160:t>=6176:6313>=t?t>=6272:t>=6400:6459>=t?6443>=t?t>=6432:t>=6448:t>=6470:6617>=t?6569>=t?6516>=t?t>=6512:t>=6528:6601>=t?t>=6576:t>=6608:6987>=t?6683>=t?t>=6656:t>=6912:t>=6992:8005>=t?7929>=t?7626>=t?7027>=t?t>=7019:t>=7424:7835>=t?t>=7678:t>=7840:7965>=t?7957>=t?t>=7936:t>=7960:t>=7968:8027>=t?8023>=t?8013>=t?t>=8008:t>=8016:8025>=t?t>=8025:t>=8027:8061>=t?8029>=t?t>=8029:t>=8031:t>=8064:8521>=t?8412>=t?8180>=t?8140>=t?8126>=t?8124>=t?t>=8118:t>=8126:8132>=t?t>=8130:t>=8134:8155>=t?8147>=t?t>=8144:t>=8150:8172>=t?t>=8160:t>=8178:8305>=t?8256>=t?8188>=t?t>=8182:t>=8255:8276>=t?t>=8276:t>=8305:8340>=t?8319>=t?t>=8319:t>=8336:t>=8400:8477>=t?8455>=t?8431>=t?8417>=t?t>=8417:t>=8421:8450>=t?t>=8450:t>=8455:8469>=t?8467>=t?t>=8458:t>=8469:t>=8473:8493>=t?8486>=t?8484>=t?t>=8484:t>=8486:8488>=t?t>=8488:t>=8490:8511>=t?8505>=t?t>=8495:t>=8508:t>=8517:11702>=t?11492>=t?11358>=t?8580>=t?8526>=t?t>=8526:t>=8544:11310>=t?t>=11264:t>=11312:11383>=t?11372>=t?t>=11360:t>=11380:t>=11392:11670>=t?11621>=t?11557>=t?t>=11520:t>=11568:11631>=t?t>=11631:t>=11648:11694>=t?11686>=t?t>=11680:t>=11688:t>=11696:12335>=t?11734>=t?11718>=t?11710>=t?t>=11704:t>=11712:11726>=t?t>=11720:t>=11728:12295>=t?11742>=t?t>=11736:t>=12293:t>=12321:12442>=t?12348>=t?12341>=t?t>=12337:t>=12344:12438>=t?t>=12353:t>=12441:12538>=t?12447>=t?t>=12445:t>=12449:t>=12540:66717>=t?65059>=t?64262>=t?42778>=t?12799>=t?12686>=t?12588>=t?t>=12549:t>=12593:12727>=t?t>=12704:t>=12784:40891>=t?19893>=t?t>=13312:t>=19968:42124>=t?t>=40960:t>=42775:64045>=t?43123>=t?43047>=t?t>=43008:t>=43072:55203>=t?t>=44032:t>=63744:64217>=t?64106>=t?t>=64048:t>=64112:t>=64256:64324>=t?64316>=t?64296>=t?64279>=t?t>=64275:t>=64285:64310>=t?t>=64298:t>=64312:64321>=t?64318>=t?t>=64318:t>=64320:t>=64323:64967>=t?64829>=t?64433>=t?t>=64326:t>=64467:64911>=t?t>=64848:t>=64914:65039>=t?65019>=t?t>=65008:t>=65024:t>=65056:65547>=t?65343>=t?65276>=t?65103>=t?65076>=t?t>=65075:t>=65101:65140>=t?t>=65136:t>=65142:65338>=t?65305>=t?t>=65296:t>=65313:t>=65343:65487>=t?65470>=t?65370>=t?t>=65345:t>=65382:65479>=t?t>=65474:t>=65482:65500>=t?65495>=t?t>=65490:t>=65498:t>=65536:65908>=t?65613>=t?65594>=t?65574>=t?t>=65549:t>=65576:65597>=t?t>=65596:t>=65599:65786>=t?65629>=t?t>=65616:t>=65664:t>=65856:66499>=t?66378>=t?66334>=t?t>=66304:t>=66352:66461>=t?t>=66432:t>=66464:66517>=t?66511>=t?t>=66504:t>=66513:t>=66560:119980>=t?68159>=t?67861>=t?67637>=t?67589>=t?66729>=t?t>=66720:t>=67584:67592>=t?t>=67592:t>=67594:67644>=t?67640>=t?t>=67639:t>=67644:67647>=t?t>=67647:t>=67840:68119>=t?68102>=t?68099>=t?t>=68096:t>=68101:68115>=t?t>=68108:t>=68117:68154>=t?68147>=t?t>=68121:t>=68152:t>=68159:119213>=t?119154>=t?74850>=t?74606>=t?t>=73728:t>=74752:119145>=t?t>=119141:t>=119149:119179>=t?119170>=t?t>=119163:t>=119173:t>=119210:119967>=t?119892>=t?119364>=t?t>=119362:t>=119808:119964>=t?t>=119894:t>=119966:119974>=t?119970>=t?t>=119970:t>=119973:t>=119977:120512>=t?120092>=t?120069>=t?119995>=t?119993>=t?t>=119982:t>=119995:120003>=t?t>=119997:t>=120005:120084>=t?120074>=t?t>=120071:t>=120077:t>=120086:120134>=t?120126>=t?120121>=t?t>=120094:t>=120123:120132>=t?t>=120128:t>=120134:120485>=t?120144>=t?t>=120138:t>=120146:t>=120488:120712>=t?120628>=t?120570>=t?120538>=t?t>=120514:t>=120540:120596>=t?t>=120572:t>=120598:120686>=t?120654>=t?t>=120630:t>=120656:t>=120688:120831>=t?120770>=t?120744>=t?t>=120714:t>=120746:120779>=t?t>=120772:t>=120782:195101>=t?173782>=t?t>=131072:t>=194560:t>=917760&&917999>=t}var c;return c="Concurrent.Thread.Compiler",{isDigit:e,isIdentifierStart:s,isHexDigit:n,isAlpha:t,isSpace:o,isLineTerminator:r,isFormatChar:i,isIdentifierPart:a}}()}.call(null))this.Concurrent.Thread.Compiler.isDigit=isDigit,this.Concurrent.Thread.Compiler.isIdentifierStart=isIdentifierStart,this.Concurrent.Thread.Compiler.isHexDigit=isHexDigit,this.Concurrent.Thread.Compiler.isAlpha=isAlpha,this.Concurrent.Thread.Compiler.isSpace=isSpace,this.Concurrent.Thread.Compiler.isLineTerminator=isLineTerminator,this.Concurrent.Thread.Compiler.isFormatChar=isFormatChar,this.Concurrent.Thread.Compiler.isIdentifierPart=isIdentifierPart}.call(null),function(){with((!this.Concurrent||"object"!=typeof this.Concurrent&&"function"!=typeof this.Concurrent)&&(this.Concurrent=new Object),(!this.Concurrent.Thread||"object"!=typeof this.Concurrent.Thread&&"function"!=typeof this.Concurrent.Thread)&&(this.Concurrent.Thread=new Object),(!this.Concurrent.Thread.Http||"object"!=typeof this.Concurrent.Thread.Http&&"function"!=typeof this.Concurrent.Thread.Http)&&(this.Concurrent.Thread.Http=new Object),void 0===this.Concurrent.Thread.Http.send&&(this.Concurrent.Thread.Http.send=void 0),void 0===this.Concurrent.Thread.Http.get&&(this.Concurrent.Thread.Http.get=void 0),void 0===this.Concurrent.Thread.Http.post&&(this.Concurrent.Thread.Http.post=void 0),function(){with(Concurrent.Thread.Http)return function(){function t(t,e,n,o){throw new Error(r+".send is unusable in non-compiled function")}function e(t,e){throw new Error(r+".get is unusable in non-compiled function")}function n(t,e,n){throw new Error(r+".post is unusable in non-compiled function")}var r;r="Concurrent.Thread.Http";var o;try{new XMLHttpRequest,o=function(){return new XMLHttpRequest}}catch(i){try{new ActiveXObject("Msxml2.XMLHTTP"),o=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(i){try{new ActiveXObject("Microsoft.XMLHTTP"),o=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(i){throw new Error(r+": can't load XMLHttpRequest object")}}}var s={};return t.$Concurrent_Thread_compiled=function(t,e,n){var r=e[0],i=e[1],a=e[2],c=e[3];c&&c instanceof Array||(c=[]);var h=o();h.open(r,i,!0);for(var u=0;u<c.length;u+=2)h.setRequestHeader(c[u],c[u+1]);var p=Concurrent.Thread.self(),l=!1,f=!0;if(h.onreadystatechange=function(){4==h.readyState&&(l=!0,f||p.notify(s))},h.send(a),f=!1,l)return{continuation:n,ret_val:h,timeout:void 0};var d={procedure:function(t){if(t===s)return{continuation:n,ret_val:h,timeout:void 0};try{h.abort()}catch(e){}return{continuation:n.exception,ret_val:t,timeout:void 0}},this_val:null};return d.exception=d,{timeout:-1,continuation:{procedure:null,this_val:null,exception:d}}},e.$Concurrent_Thread_compiled=function(e,n,r){return t.$Concurrent_Thread_compiled(null,["GET",n[0],n[1],null],r)},n.$Concurrent_Thread_compiled=function(e,n,r){var o=n[0],i=n[1],s=n[2];if("object"==typeof i){var a=[];for(var c in i)i.hasOwnProperty(c)&&a.push(encodeURIComponent(c)+"="+encodeURIComponent(i[c]));i=a.join("&")}s&&s instanceof Array||(s=[]);for(var h=!1,c=0;c<s.length;c+=2)if(String(s[c]).match(/^Content-type$/i)){h=!0;break}return h||(s=s.concat("Content-type","application/x-www-form-urlencoded")),t.$Concurrent_Thread_compiled(null,["POST",o,i,s],r)},{send:t,post:n,get:e}}()}.call(null))this.Concurrent.Thread.Http.send=send,this.Concurrent.Thread.Http.post=post,this.Concurrent.Thread.Http.get=get}.call(null),function(){with((!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Error||"object"!=typeof this.Data.Error&&"function"!=typeof this.Data.Error)&&(this.Data.Error=new Object),(!this.Concurrent||"object"!=typeof this.Concurrent&&"function"!=typeof this.Concurrent)&&(this.Concurrent=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Concurrent||"object"!=typeof this.Concurrent&&"function"!=typeof this.Concurrent)&&(this.Concurrent=new Object),(!this.Concurrent.Thread||"object"!=typeof this.Concurrent.Thread&&"function"!=typeof this.Concurrent.Thread)&&(this.Concurrent.Thread=new Object),void 0===this.Concurrent.Thread.Mutex&&(this.Concurrent.Thread.Mutex=void 0),function(){with(Data)with(Data.Error)with(Concurrent)with(Concurrent.Thread)return function(){function t(){this._acquiring=null,this._waiting=new LinkedList}var e;e="Concurrent.Thread";var n=t.prototype;n.isAcquirable=function(){return!this._acquiring&&this._waiting.isEmpty()},n.acquire=function(){throw new Error("can't `acquire' in non-converted function")},n.acquire.$Concurrent_Thread_compiled=function(t,e,n){if(t.isAcquirable())return t._acquiring=Thread.self(),{continuation:n,ret_val:void 0,timeout:void 0};t._waiting.push(Thread.self());arguments.callee;return{continuation:{procedure:null,this_val:null,exception:{procedure:function(e){return e===r?t._waiting.shift()!==Thread.self()?{continuation:n.exception,ret_val:new IllegalStateError("unknown state (maybe bug)"),timeout:void 0}:(t._acquiring=Thread.self(),{continuation:n,ret_val:void 0,timeout:void 0}):(t._waiting.head().find(function(t){return t===Thread.self()}).remove(),{continuation:n.exception,ret_val:e,timeout:void 0})},this_val:null,exception:n.exception}},ret_val:void 0,timeout:-1}},n.release=function(){if(!this._acquiring)throw new IllegalStateError("mutex is not locked");if(this._acquiring!==Thread.self())throw new IllegalStateError("mutex can be released only by the thread locking it");this._acquiring=null,this._waiting.isEmpty()||this._waiting.head().value().notify(r)};var r={};return{Mutex:t}}()}.call(null))this.Concurrent.Thread.Mutex=Mutex}.call(null),function(){with((!this.Concurrent||"object"!=typeof this.Concurrent&&"function"!=typeof this.Concurrent)&&(this.Concurrent=new Object),(!this.Concurrent.Thread||"object"!=typeof this.Concurrent.Thread&&"function"!=typeof this.Concurrent.Thread)&&(this.Concurrent.Thread=new Object),(!this.Concurrent.Thread.Compiler||"object"!=typeof this.Concurrent.Thread.Compiler&&"function"!=typeof this.Concurrent.Thread.Compiler)&&(this.Concurrent.Thread.Compiler=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Cons||"object"!=typeof this.Data.Cons&&"function"!=typeof this.Data.Cons)&&(this.Data.Cons=new Object),void 0===this.Concurrent.Thread.Compiler.Expression&&(this.Concurrent.Thread.Compiler.Expression=void 0),void 0===this.Concurrent.Thread.Compiler.UnaryExpression&&(this.Concurrent.Thread.Compiler.UnaryExpression=void 0),void 0===this.Concurrent.Thread.Compiler.BinaryExpression&&(this.Concurrent.Thread.Compiler.BinaryExpression=void 0),void 0===this.Concurrent.Thread.Compiler.ThisExpression&&(this.Concurrent.Thread.Compiler.ThisExpression=void 0),void 0===this.Concurrent.Thread.Compiler.Identifier&&(this.Concurrent.Thread.Compiler.Identifier=void 0),
void 0===this.Concurrent.Thread.Compiler.Literal&&(this.Concurrent.Thread.Compiler.Literal=void 0),void 0===this.Concurrent.Thread.Compiler.NumberLiteral&&(this.Concurrent.Thread.Compiler.NumberLiteral=void 0),void 0===this.Concurrent.Thread.Compiler.StringLiteral&&(this.Concurrent.Thread.Compiler.StringLiteral=void 0),void 0===this.Concurrent.Thread.Compiler.RegExpLiteral&&(this.Concurrent.Thread.Compiler.RegExpLiteral=void 0),void 0===this.Concurrent.Thread.Compiler.NullLiteral&&(this.Concurrent.Thread.Compiler.NullLiteral=void 0),void 0===this.Concurrent.Thread.Compiler.BooleanLiteral&&(this.Concurrent.Thread.Compiler.BooleanLiteral=void 0),void 0===this.Concurrent.Thread.Compiler.TrueLiteral&&(this.Concurrent.Thread.Compiler.TrueLiteral=void 0),void 0===this.Concurrent.Thread.Compiler.FalseLiteral&&(this.Concurrent.Thread.Compiler.FalseLiteral=void 0),void 0===this.Concurrent.Thread.Compiler.ArrayInitializer&&(this.Concurrent.Thread.Compiler.ArrayInitializer=void 0),void 0===this.Concurrent.Thread.Compiler.Elision&&(this.Concurrent.Thread.Compiler.Elision=void 0),void 0===this.Concurrent.Thread.Compiler.ObjectInitializer&&(this.Concurrent.Thread.Compiler.ObjectInitializer=void 0),void 0===this.Concurrent.Thread.Compiler.FunctionExpression&&(this.Concurrent.Thread.Compiler.FunctionExpression=void 0),void 0===this.Concurrent.Thread.Compiler.DotAccessor&&(this.Concurrent.Thread.Compiler.DotAccessor=void 0),void 0===this.Concurrent.Thread.Compiler.BracketAccessor&&(this.Concurrent.Thread.Compiler.BracketAccessor=void 0),void 0===this.Concurrent.Thread.Compiler.NewExpression&&(this.Concurrent.Thread.Compiler.NewExpression=void 0),void 0===this.Concurrent.Thread.Compiler.CallExpression&&(this.Concurrent.Thread.Compiler.CallExpression=void 0),void 0===this.Concurrent.Thread.Compiler.PostIncExpression&&(this.Concurrent.Thread.Compiler.PostIncExpression=void 0),void 0===this.Concurrent.Thread.Compiler.PostDecExpression&&(this.Concurrent.Thread.Compiler.PostDecExpression=void 0),void 0===this.Concurrent.Thread.Compiler.PreIncExpression&&(this.Concurrent.Thread.Compiler.PreIncExpression=void 0),void 0===this.Concurrent.Thread.Compiler.PreDecExpression&&(this.Concurrent.Thread.Compiler.PreDecExpression=void 0),void 0===this.Concurrent.Thread.Compiler.DeleteExpression&&(this.Concurrent.Thread.Compiler.DeleteExpression=void 0),void 0===this.Concurrent.Thread.Compiler.VoidExpression&&(this.Concurrent.Thread.Compiler.VoidExpression=void 0),void 0===this.Concurrent.Thread.Compiler.TypeofExpression&&(this.Concurrent.Thread.Compiler.TypeofExpression=void 0),void 0===this.Concurrent.Thread.Compiler.PosExpression&&(this.Concurrent.Thread.Compiler.PosExpression=void 0),void 0===this.Concurrent.Thread.Compiler.NegExpression&&(this.Concurrent.Thread.Compiler.NegExpression=void 0),void 0===this.Concurrent.Thread.Compiler.BitNotExpression&&(this.Concurrent.Thread.Compiler.BitNotExpression=void 0),void 0===this.Concurrent.Thread.Compiler.NotExpression&&(this.Concurrent.Thread.Compiler.NotExpression=void 0),void 0===this.Concurrent.Thread.Compiler.MulExpression&&(this.Concurrent.Thread.Compiler.MulExpression=void 0),void 0===this.Concurrent.Thread.Compiler.DivExpression&&(this.Concurrent.Thread.Compiler.DivExpression=void 0),void 0===this.Concurrent.Thread.Compiler.ModExpression&&(this.Concurrent.Thread.Compiler.ModExpression=void 0),void 0===this.Concurrent.Thread.Compiler.AddExpression&&(this.Concurrent.Thread.Compiler.AddExpression=void 0),void 0===this.Concurrent.Thread.Compiler.SubExpression&&(this.Concurrent.Thread.Compiler.SubExpression=void 0),void 0===this.Concurrent.Thread.Compiler.LShiftExpression&&(this.Concurrent.Thread.Compiler.LShiftExpression=void 0),void 0===this.Concurrent.Thread.Compiler.RShiftExpression&&(this.Concurrent.Thread.Compiler.RShiftExpression=void 0),void 0===this.Concurrent.Thread.Compiler.URShiftExpression&&(this.Concurrent.Thread.Compiler.URShiftExpression=void 0),void 0===this.Concurrent.Thread.Compiler.LessThanExpression&&(this.Concurrent.Thread.Compiler.LessThanExpression=void 0),void 0===this.Concurrent.Thread.Compiler.GreaterThanExpression&&(this.Concurrent.Thread.Compiler.GreaterThanExpression=void 0),void 0===this.Concurrent.Thread.Compiler.LessEqualExpression&&(this.Concurrent.Thread.Compiler.LessEqualExpression=void 0),void 0===this.Concurrent.Thread.Compiler.GreaterEqualExpression&&(this.Concurrent.Thread.Compiler.GreaterEqualExpression=void 0),void 0===this.Concurrent.Thread.Compiler.InstanceofExpression&&(this.Concurrent.Thread.Compiler.InstanceofExpression=void 0),void 0===this.Concurrent.Thread.Compiler.InExpression&&(this.Concurrent.Thread.Compiler.InExpression=void 0),void 0===this.Concurrent.Thread.Compiler.EqualExpression&&(this.Concurrent.Thread.Compiler.EqualExpression=void 0),void 0===this.Concurrent.Thread.Compiler.NotEqualExpression&&(this.Concurrent.Thread.Compiler.NotEqualExpression=void 0),void 0===this.Concurrent.Thread.Compiler.StrictEqualExpression&&(this.Concurrent.Thread.Compiler.StrictEqualExpression=void 0),void 0===this.Concurrent.Thread.Compiler.StrictNotEqualExpression&&(this.Concurrent.Thread.Compiler.StrictNotEqualExpression=void 0),void 0===this.Concurrent.Thread.Compiler.BitAndExpression&&(this.Concurrent.Thread.Compiler.BitAndExpression=void 0),void 0===this.Concurrent.Thread.Compiler.BitXorExpression&&(this.Concurrent.Thread.Compiler.BitXorExpression=void 0),void 0===this.Concurrent.Thread.Compiler.BitOrExpression&&(this.Concurrent.Thread.Compiler.BitOrExpression=void 0),void 0===this.Concurrent.Thread.Compiler.AndExpression&&(this.Concurrent.Thread.Compiler.AndExpression=void 0),void 0===this.Concurrent.Thread.Compiler.OrExpression&&(this.Concurrent.Thread.Compiler.OrExpression=void 0),void 0===this.Concurrent.Thread.Compiler.ConditionalExpression&&(this.Concurrent.Thread.Compiler.ConditionalExpression=void 0),void 0===this.Concurrent.Thread.Compiler.AssignExpression&&(this.Concurrent.Thread.Compiler.AssignExpression=void 0),void 0===this.Concurrent.Thread.Compiler.SimpleAssignExpression&&(this.Concurrent.Thread.Compiler.SimpleAssignExpression=void 0),void 0===this.Concurrent.Thread.Compiler.MulAssignExpression&&(this.Concurrent.Thread.Compiler.MulAssignExpression=void 0),void 0===this.Concurrent.Thread.Compiler.DivAssignExpression&&(this.Concurrent.Thread.Compiler.DivAssignExpression=void 0),void 0===this.Concurrent.Thread.Compiler.ModAssignExpression&&(this.Concurrent.Thread.Compiler.ModAssignExpression=void 0),void 0===this.Concurrent.Thread.Compiler.AddAssignExpression&&(this.Concurrent.Thread.Compiler.AddAssignExpression=void 0),void 0===this.Concurrent.Thread.Compiler.SubAssignExpression&&(this.Concurrent.Thread.Compiler.SubAssignExpression=void 0),void 0===this.Concurrent.Thread.Compiler.LShiftAssignExpression&&(this.Concurrent.Thread.Compiler.LShiftAssignExpression=void 0),void 0===this.Concurrent.Thread.Compiler.RShiftAssignExpression&&(this.Concurrent.Thread.Compiler.RShiftAssignExpression=void 0),void 0===this.Concurrent.Thread.Compiler.URShiftAssignExpression&&(this.Concurrent.Thread.Compiler.URShiftAssignExpression=void 0),void 0===this.Concurrent.Thread.Compiler.BitAndAssignExpression&&(this.Concurrent.Thread.Compiler.BitAndAssignExpression=void 0),void 0===this.Concurrent.Thread.Compiler.BitXorAssignExpression&&(this.Concurrent.Thread.Compiler.BitXorAssignExpression=void 0),void 0===this.Concurrent.Thread.Compiler.BitOrAssignExpression&&(this.Concurrent.Thread.Compiler.BitOrAssignExpression=void 0),void 0===this.Concurrent.Thread.Compiler.CommaExpression&&(this.Concurrent.Thread.Compiler.CommaExpression=void 0),function(){with(Data.Cons)with(Concurrent.Thread.Compiler)return function(){function Expression(){}function UnaryExpression(t){this.exp=t}function BinaryExpression(t,e){this.left=t,this.right=e}function ThisExpression(){return THIS_EXPRESSION}function temp(){}function Identifier(s){this.string=String(s),this.value=eval('"'+this.string+'"')}function Literal(s){this.string=String(s),this.value=eval(this.string)}function NumberLiteral(t){Literal.apply(this,arguments)}function StringLiteral(t){Literal.apply(this,arguments)}function RegExpLiteral(t){Literal.apply(this,arguments)}function NullLiteral(){return NULL_LITERAL}function temp(){}function BooleanLiteral(){}function TrueLiteral(){return TRUE_LITERAL}function temp(){}function FalseLiteral(){return FALSE_LITERAL}function temp(){}function ArrayInitializer(t){this.elems=t}function Elision(){}function ObjectInitializer(t){this.pairs=t}function FunctionExpression(t,e,n){this.name=t,this.params=e,this.body=n}function DotAccessor(t,e){this.base=t,this.prop=e}function BracketAccessor(t,e){BinaryExpression.apply(this,arguments)}function NewExpression(t,e){this.func=t,this.args=e}function CallExpression(t,e){this.func=t,this.args=e}function PostIncExpression(t){UnaryExpression.apply(this,arguments)}function PostDecExpression(t){UnaryExpression.apply(this,arguments)}function PreIncExpression(t){UnaryExpression.apply(this,arguments)}function PreDecExpression(t){UnaryExpression.apply(this,arguments)}function DeleteExpression(t){UnaryExpression.apply(this,arguments)}function VoidExpression(t){UnaryExpression.apply(this,arguments)}function TypeofExpression(t){UnaryExpression.apply(this,arguments)}function PosExpression(t){UnaryExpression.apply(this,arguments)}function NegExpression(t){UnaryExpression.apply(this,arguments)}function BitNotExpression(t){UnaryExpression.apply(this,arguments)}function NotExpression(t){UnaryExpression.apply(this,arguments)}function MulExpression(t,e){BinaryExpression.apply(this,arguments)}function DivExpression(t,e){BinaryExpression.apply(this,arguments)}function ModExpression(t,e){BinaryExpression.apply(this,arguments)}function AddExpression(t,e){BinaryExpression.apply(this,arguments)}function SubExpression(t,e){BinaryExpression.apply(this,arguments)}function LShiftExpression(t,e){BinaryExpression.apply(this,arguments)}function RShiftExpression(t,e){BinaryExpression.apply(this,arguments)}function URShiftExpression(t,e){BinaryExpression.apply(this,arguments)}function LessThanExpression(t,e){BinaryExpression.apply(this,arguments)}function GreaterThanExpression(t,e){BinaryExpression.apply(this,arguments)}function LessEqualExpression(t,e){BinaryExpression.apply(this,arguments)}function GreaterEqualExpression(t,e){BinaryExpression.apply(this,arguments)}function InstanceofExpression(t,e){BinaryExpression.apply(this,arguments)}function InExpression(t,e){BinaryExpression.apply(this,arguments)}function EqualExpression(t,e){BinaryExpression.apply(this,arguments)}function NotEqualExpression(t,e){BinaryExpression.apply(this,arguments)}function StrictEqualExpression(t,e){BinaryExpression.apply(this,arguments)}function StrictNotEqualExpression(t,e){BinaryExpression.apply(this,arguments)}function BitAndExpression(t,e){BinaryExpression.apply(this,arguments)}function BitXorExpression(t,e){BinaryExpression.apply(this,arguments)}function BitOrExpression(t,e){BinaryExpression.apply(this,arguments)}function AndExpression(t,e){BinaryExpression.apply(this,arguments)}function OrExpression(t,e){BinaryExpression.apply(this,arguments)}function ConditionalExpression(t,e,n){this.cond=t,this.texp=e,this.fexp=n}function AssignExpression(t,e){BinaryExpression.apply(this,arguments)}function SimpleAssignExpression(t,e){AssignExpression.apply(this,arguments)}function MulAssignExpression(t,e){AssignExpression.apply(this,arguments)}function DivAssignExpression(t,e){AssignExpression.apply(this,arguments)}function ModAssignExpression(t,e){AssignExpression.apply(this,arguments)}function AddAssignExpression(t,e){AssignExpression.apply(this,arguments)}function SubAssignExpression(t,e){AssignExpression.apply(this,arguments)}function LShiftAssignExpression(t,e){AssignExpression.apply(this,arguments)}function RShiftAssignExpression(t,e){AssignExpression.apply(this,arguments)}function URShiftAssignExpression(t,e){AssignExpression.apply(this,arguments)}function BitAndAssignExpression(t,e){AssignExpression.apply(this,arguments)}function BitXorAssignExpression(t,e){AssignExpression.apply(this,arguments)}function BitOrAssignExpression(t,e){AssignExpression.apply(this,arguments)}function CommaExpression(t,e){BinaryExpression.apply(this,arguments)}var VERSION,NAMESPACE;NAMESPACE="Concurrent.Thread.Compiler";var proto=Expression.prototype;proto.toString=function(){Kit.codeBug("Unimplemented method `toString' of class: "+this.constructor)},proto.containsFunctionCall=function(){Kit.codeBug("Unimplemented method `containsFunctionCall' of class: "+this.constructor)},proto.hasSideEffect=function(){Kit.codeBug("Unimplemented method `hasSideEffect' of class: "+this.constructor)},proto.hasLvalue=function(){return!1};var proto=UnaryExpression.prototype=new Expression;proto.constructor=UnaryExpression,proto.containsFunctionCall=function(){return this.exp.containsFunctionCall()},proto.hasSideEffect=function(){return this.exp.hasSideEffect()};var proto=BinaryExpression.prototype=new Expression;proto.constructor=BinaryExpression,proto.containsFunctionCall=function(){return this.left.containsFunctionCall()||this.right.containsFunctionCall()},proto.hasSideEffect=function(){return this.left.hasSideEfect()||this.right.hasSideEffect()};var proto=ThisExpression.prototype=new Expression;proto.constructor=ThisExpression,proto.toString=function(){return"this"},proto.containsFunctionCall=function(){return!1},proto.hasSideEffect=function(){return!1},temp.prototype=ThisExpression.prototype;var THIS_EXPRESSION=new temp,proto=Identifier.prototype=new Expression;proto.constructor=Identifier,proto.toString=function(){return this.string},proto.valueOf=function(){return this.value},proto.hasLvalue=function(){return!0},proto.containsFunctionCall=function(){return!1},proto.hasSideEffect=function(){return!1};var proto=Literal.prototype=new Expression;proto.constructor=Literal,proto.toString=function(){return this.string},proto.valueOf=function(){return this.value},proto.containsFunctionCall=function(){return!1},proto.hasSideEffect=function(){return!1};var proto=NumberLiteral.prototype=new Literal;proto.constructor=NumberLiteral;var proto=StringLiteral.prototype=new Literal;proto.constructor=StringLiteral;var proto=RegExpLiteral.prototype=new Literal;proto.constructor=RegExpLiteral;var proto=NullLiteral.prototype=new Literal;proto.constructor=NullLiteral,proto.string="null",proto.vakue=null,proto.toString=function(){return"null"},proto.valueOf=function(){return null},temp.prototype=NullLiteral.prototype;var NULL_LITERAL=new temp,proto=BooleanLiteral.prototype=new Literal;proto.constructor=BooleanLiteral;var proto=TrueLiteral.prototype=new BooleanLiteral;proto.constructor=TrueLiteral,proto.string="true",proto.vakue=!0,proto.toString=function(){return"true"},proto.valueOf=function(){return!0},temp.prototype=TrueLiteral.prototype;var TRUE_LITERAL=new temp,proto=FalseLiteral.prototype=new BooleanLiteral;proto.constructor=FalseLiteral,proto.string="false",proto.vakue=!1,proto.toString=function(){return"false"},proto.valueOf=function(){return!1},temp.prototype=FalseLiteral.prototype;var FALSE_LITERAL=new temp,proto=ArrayInitializer.prototype=new Expression;proto.constructor=ArrayInitializer,proto.toString=function(){return"["+this.elems.join(", ")+"]"},proto.containsFunctionCall=function(){for(var t=0;t<this.elems.length;t++)if(this.elems[t].containsFunctionCall())return!0;return!1},proto.hasSideEfect=function(){for(var t=0;t<this.elems.length;t++)if(this.elems[t].hasSideEffect())return!0;return!1};var proto=Elision.prototype=new Expression;proto.constructor=Elision,proto.toString=function(){return""},proto.containsFunctionCall=function(){return!1},proto.hasSideEffect=function(){return!1};var proto=ObjectInitializer.prototype=new Expression;proto.constructor=ObjectInitializer,proto.toString=function(){for(var t=[],e=0;e<this.pairs.length;e++)t.push(String(this.pairs[e].prop)+":"+String(this.pairs[e].exp));return"{"+t.join(", ")+"}"},proto.containsFunctionCall=function(){for(var t=0;t<this.pairs.length;t++)if(this.pairs[t].exp.containsFunctionCall())return!0;return!1},proto.hasSideEffect=function(){for(var t=0;t<this.pairs.length;t++)if(this.pairs[t].exp.hasSideEffect())return!0;return!1};var proto=FunctionExpression.prototype=new Expression;proto.constructor=FunctionExpression,proto.toString=function(){var t=["(function "];return this.name&&t.push(this.name),t.push("(",this.params.join(", "),") {\n"),this.body.forEach(function(e){t.push(e,"\n")}),t.push("})"),t.join("")},proto.containsFunctionCall=function(){return!1},proto.hasSideEffect=function(){return!1};var proto=DotAccessor.prototype=new Expression;proto.constructor=DotAccessor,proto.toString=function(){return String(this.base)+"."+String(this.prop)},proto.hasLvalue=function(){return!0},proto.containsFunctionCall=function(){return this.base.containsFunctionCall()},proto.hasSideEffect=function(){return this.base.hasSideEffect()};var proto=BracketAccessor.prototype=new BinaryExpression;proto.constructor=BracketAccessor,proto.toString=function(){return[this.left,"[",this.right,"]"].join("")},proto.hasLvalue=function(){return!0};var proto=NewExpression.prototype=new Expression;proto.constructor=NewExpression,proto.toString=function(){return["new ",this.func,"(",this.args.join(", "),")"].join("")},proto.containsFunctionCall=function(){return!0},proto.hasSideEffect=function(){return!0};var proto=CallExpression.prototype=new Expression;proto.constructor=CallExpression,proto.toString=function(){return[this.func,"(",this.args.join(", "),")"].join("")},proto.containsFunctionCall=function(){return!0},proto.hasSideEffect=function(){return!0};var proto=PostIncExpression.prototype=new UnaryExpression;proto.constructor=PostIncExpression,proto.toString=function(){return String(this.exp)+"++"},proto.hasSideEffect=function(){return!0};var proto=PostDecExpression.prototype=new UnaryExpression;proto.constructor=PostDecExpression,proto.toString=function(){return String(this.exp)+"--"},proto.hasSideEffect=function(){return!0};var proto=PreIncExpression.prototype=new UnaryExpression;proto.constructor=PreIncExpression,proto.toString=function(){return"++"+String(this.exp)},proto.hasSideEffect=function(){return!0};var proto=PreDecExpression.prototype=new UnaryExpression;proto.constructor=PreDecExpression,proto.toString=function(){return"--"+String(this.exp)},proto.hasSideEffect=function(){return!0};var proto=DeleteExpression.prototype=new UnaryExpression;proto.constructor=DeleteExpression,proto.toString=function(){return"delete "+String(this.exp)},proto.hasSideEffect=function(){return!0};var proto=VoidExpression.prototype=new UnaryExpression;proto.constructor=VoidExpression,proto.toString=function(){return"void "+String(this.exp)};var proto=TypeofExpression.prototype=new UnaryExpression;proto.constructor=TypeofExpression,proto.toString=function(){return"typeof "+String(this.exp)};var proto=PosExpression.prototype=new UnaryExpression;proto.constructor=PosExpression,proto.toString=function(){return"+ "+String(this.exp)};var proto=NegExpression.prototype=new UnaryExpression;proto.constructor=NegExpression,proto.toString=function(){return"- "+String(this.exp)};var proto=BitNotExpression.prototype=new UnaryExpression;proto.constructor=BitNotExpression,proto.toString=function(){return"~"+String(this.exp)};var proto=NotExpression.prototype=new UnaryExpression;proto.constructor=NotExpression,proto.toString=function(){return"!"+String(this.exp)};var proto=MulExpression.prototype=new BinaryExpression;proto.constructor=MulExpression,proto.toString=function(){return["(",this.left," * ",this.right,")"].join("")};var proto=DivExpression.prototype=new BinaryExpression;proto.constructor=DivExpression,proto.toString=function(){return["(",this.left," / ",this.right,")"].join("")};var proto=ModExpression.prototype=new BinaryExpression;proto.constructor=ModExpression,proto.toString=function(){return["(",this.left," % ",this.right,")"].join("")};var proto=AddExpression.prototype=new BinaryExpression;proto.constructor=AddExpression,proto.toString=function(){return["(",this.left," + ",this.right,")"].join("")};var proto=SubExpression.prototype=new BinaryExpression;proto.constructor=SubExpression,proto.toString=function(){return["(",this.left," - ",this.right,")"].join("")};var proto=LShiftExpression.prototype=new BinaryExpression;proto.constructor=LShiftExpression,proto.toString=function(){return["(",this.left," << ",this.right,")"].join("")};var proto=RShiftExpression.prototype=new BinaryExpression;proto.constructor=RShiftExpression,proto.toString=function(){return["(",this.left," >> ",this.right,")"].join("")};var proto=URShiftExpression.prototype=new BinaryExpression;proto.constructor=URShiftExpression,proto.toString=function(){return["(",this.left," >>> ",this.right,")"].join("")};var proto=LessThanExpression.prototype=new BinaryExpression;proto.constructor=LessThanExpression,proto.toString=function(){return["(",this.left," < ",this.right,")"].join("")};var proto=GreaterThanExpression.prototype=new BinaryExpression;proto.constructor=GreaterThanExpression,proto.toString=function(){return["(",this.left," > ",this.right,")"].join("")};var proto=LessEqualExpression.prototype=new BinaryExpression;proto.constructor=LessEqualExpression,proto.toString=function(){return["(",this.left," <= ",this.right,")"].join("")};var proto=GreaterEqualExpression.prototype=new BinaryExpression;proto.constructor=GreaterEqualExpression,proto.toString=function(){return["(",this.left," >= ",this.right,")"].join("")};var proto=InstanceofExpression.prototype=new BinaryExpression;proto.constructor=InstanceofExpression,proto.toString=function(){return["(",this.left," instanceof ",this.right,")"].join("")};var proto=InExpression.prototype=new BinaryExpression;proto.constructor=InExpression,proto.toString=function(){return["(",this.left," in ",this.right,")"].join("")};var proto=EqualExpression.prototype=new BinaryExpression;proto.constructor=EqualExpression,proto.toString=function(){return["(",this.left," == ",this.right,")"].join("")};var proto=NotEqualExpression.prototype=new BinaryExpression;proto.constructor=NotEqualExpression,proto.toString=function(){return["(",this.left," != ",this.right,")"].join("")};var proto=StrictEqualExpression.prototype=new BinaryExpression;proto.constructor=StrictEqualExpression,proto.toString=function(){return["(",this.left," === ",this.right,")"].join("")};var proto=StrictNotEqualExpression.prototype=new BinaryExpression;proto.constructor=StrictNotEqualExpression,proto.toString=function(){return["(",this.left," !== ",this.right,")"].join("")};var proto=BitAndExpression.prototype=new BinaryExpression;proto.constructor=BitAndExpression,proto.toString=function(){return["(",this.left," & ",this.right,")"].join("")};var proto=BitXorExpression.prototype=new BinaryExpression;proto.constructor=BitXorExpression,proto.toString=function(){return["(",this.left," ^ ",this.right,")"].join("")};var proto=BitOrExpression.prototype=new BinaryExpression;proto.constructor=BitOrExpression,proto.toString=function(){return["(",this.left," | ",this.right,")"].join("")};var proto=AndExpression.prototype=new BinaryExpression;proto.constructor=AndExpression,proto.toString=function(){return["(",this.left," && ",this.right,")"].join("")};var proto=OrExpression.prototype=new BinaryExpression;proto.constructor=OrExpression,proto.toString=function(){return["(",this.left," || ",this.right,")"].join("")};var proto=ConditionalExpression.prototype=new Expression;proto.constructor=ConditionalExpression,proto.toString=function(){return["(",this.cond," ? ",this.texp," : ",this.fexp,")"].join("")},proto.containsFunctionCall=function(){return this.cond.containsFunctionCall()||this.texp.containsFunctionCall()||this.fexp.containsFunctionCall()},proto.hasSideEffect=function(){return this.cond.hasSideEffect()||this.texp.hasSideEffect()||this.fexp.hasSideEffect()};var proto=AssignExpression.prototype=new BinaryExpression;proto.constructor=AssignExpression,proto.hasSideEffect=function(){return!0};var proto=SimpleAssignExpression.prototype=new AssignExpression;proto.constructor=SimpleAssignExpression,proto.toString=function(){return["(",this.left," = ",this.right,")"].join("")};var proto=MulAssignExpression.prototype=new AssignExpression;proto.constructor=MulAssignExpression,proto.toString=function(){return["(",this.left," *= ",this.right,")"].join("")};var proto=DivAssignExpression.prototype=new AssignExpression;proto.constructor=DivAssignExpression,proto.toString=function(){return["(",this.left," /= ",this.right,")"].join("")};var proto=ModAssignExpression.prototype=new AssignExpression;proto.constructor=ModAssignExpression,proto.toString=function(){return["(",this.left," %= ",this.right,")"].join("")};var proto=AddAssignExpression.prototype=new AssignExpression;proto.constructor=AddAssignExpression,proto.toString=function(){return["(",this.left," += ",this.right,")"].join("")};var proto=SubAssignExpression.prototype=new AssignExpression;proto.constructor=SubAssignExpression,proto.toString=function(){return["(",this.left," -= ",this.right,")"].join("")};var proto=LShiftAssignExpression.prototype=new AssignExpression;proto.constructor=LShiftAssignExpression,proto.toString=function(){return["(",this.left," <<= ",this.right,")"].join("")};var proto=RShiftAssignExpression.prototype=new AssignExpression;proto.constructor=RShiftAssignExpression,proto.toString=function(){return["(",this.left," >>= ",this.right,")"].join("")};var proto=URShiftAssignExpression.prototype=new AssignExpression;proto.constructor=URShiftAssignExpression,proto.toString=function(){return["(",this.left," >>>= ",this.right,")"].join("")};var proto=BitAndAssignExpression.prototype=new AssignExpression;proto.constructor=BitAndAssignExpression,proto.toString=function(){return["(",this.left," &= ",this.right,")"].join("")};var proto=BitXorAssignExpression.prototype=new AssignExpression;proto.constructor=BitXorAssignExpression,proto.toString=function(){return["(",this.left," ^= ",this.right,")"].join("")};var proto=BitOrAssignExpression.prototype=new AssignExpression;proto.constructor=BitOrAssignExpression,proto.toString=function(){return["(",this.left," |= ",this.right,")"].join("")};var proto=CommaExpression.prototype=new BinaryExpression;return proto.constructor=CommaExpression,proto.toString=function(){return["(",this.left,", ",this.right,")"].join("")},{StrictEqualExpression:StrictEqualExpression,BooleanLiteral:BooleanLiteral,OrExpression:OrExpression,NotExpression:NotExpression,ThisExpression:ThisExpression,BitAndAssignExpression:BitAndAssignExpression,DivExpression:DivExpression,BracketAccessor:BracketAccessor,CommaExpression:CommaExpression,BitAndExpression:BitAndExpression,MulExpression:MulExpression,EqualExpression:EqualExpression,CallExpression:CallExpression,FunctionExpression:FunctionExpression,Elision:Elision,PostIncExpression:PostIncExpression,InstanceofExpression:InstanceofExpression,NullLiteral:NullLiteral,BitXorAssignExpression:BitXorAssignExpression,URShiftExpression:URShiftExpression,ConditionalExpression:ConditionalExpression,Identifier:Identifier,UnaryExpression:UnaryExpression,BitOrAssignExpression:BitOrAssignExpression,DivAssignExpression:DivAssignExpression,VoidExpression:VoidExpression,TypeofExpression:TypeofExpression,NewExpression:NewExpression,MulAssignExpression:MulAssignExpression,BinaryExpression:BinaryExpression,TrueLiteral:TrueLiteral,AssignExpression:AssignExpression,SubExpression:SubExpression,PreDecExpression:PreDecExpression,RegExpLiteral:RegExpLiteral,DeleteExpression:DeleteExpression,FalseLiteral:FalseLiteral,BitNotExpression:BitNotExpression,GreaterEqualExpression:GreaterEqualExpression,LessEqualExpression:LessEqualExpression,ModExpression:ModExpression,StringLiteral:StringLiteral,LShiftAssignExpression:LShiftAssignExpression,SubAssignExpression:SubAssignExpression,LShiftExpression:LShiftExpression,ModAssignExpression:ModAssignExpression,URShiftAssignExpression:URShiftAssignExpression,NegExpression:NegExpression,PosExpression:PosExpression,AddAssignExpression:AddAssignExpression,ArrayInitializer:ArrayInitializer,LessThanExpression:LessThanExpression,NumberLiteral:NumberLiteral,StrictNotEqualExpression:StrictNotEqualExpression,RShiftExpression:RShiftExpression,InExpression:InExpression,BitOrExpression:BitOrExpression,AndExpression:AndExpression,PostDecExpression:PostDecExpression,ObjectInitializer:ObjectInitializer,RShiftAssignExpression:RShiftAssignExpression,Expression:Expression,DotAccessor:DotAccessor,Literal:Literal,SimpleAssignExpression:SimpleAssignExpression,BitXorExpression:BitXorExpression,AddExpression:AddExpression,GreaterThanExpression:GreaterThanExpression,NotEqualExpression:NotEqualExpression,PreIncExpression:PreIncExpression}}()}.call(null))this.Concurrent.Thread.Compiler.StrictEqualExpression=StrictEqualExpression,this.Concurrent.Thread.Compiler.BooleanLiteral=BooleanLiteral,this.Concurrent.Thread.Compiler.OrExpression=OrExpression,this.Concurrent.Thread.Compiler.NotExpression=NotExpression,this.Concurrent.Thread.Compiler.ThisExpression=ThisExpression,this.Concurrent.Thread.Compiler.BitAndAssignExpression=BitAndAssignExpression,this.Concurrent.Thread.Compiler.DivExpression=DivExpression,this.Concurrent.Thread.Compiler.BracketAccessor=BracketAccessor,this.Concurrent.Thread.Compiler.CommaExpression=CommaExpression,this.Concurrent.Thread.Compiler.BitAndExpression=BitAndExpression,this.Concurrent.Thread.Compiler.MulExpression=MulExpression,this.Concurrent.Thread.Compiler.EqualExpression=EqualExpression,this.Concurrent.Thread.Compiler.CallExpression=CallExpression,this.Concurrent.Thread.Compiler.FunctionExpression=FunctionExpression,this.Concurrent.Thread.Compiler.Elision=Elision,this.Concurrent.Thread.Compiler.PostIncExpression=PostIncExpression,this.Concurrent.Thread.Compiler.InstanceofExpression=InstanceofExpression,this.Concurrent.Thread.Compiler.NullLiteral=NullLiteral,this.Concurrent.Thread.Compiler.BitXorAssignExpression=BitXorAssignExpression,this.Concurrent.Thread.Compiler.URShiftExpression=URShiftExpression,this.Concurrent.Thread.Compiler.ConditionalExpression=ConditionalExpression,this.Concurrent.Thread.Compiler.Identifier=Identifier,this.Concurrent.Thread.Compiler.UnaryExpression=UnaryExpression,this.Concurrent.Thread.Compiler.BitOrAssignExpression=BitOrAssignExpression,this.Concurrent.Thread.Compiler.DivAssignExpression=DivAssignExpression,this.Concurrent.Thread.Compiler.VoidExpression=VoidExpression,this.Concurrent.Thread.Compiler.TypeofExpression=TypeofExpression,this.Concurrent.Thread.Compiler.NewExpression=NewExpression,this.Concurrent.Thread.Compiler.MulAssignExpression=MulAssignExpression,this.Concurrent.Thread.Compiler.BinaryExpression=BinaryExpression,this.Concurrent.Thread.Compiler.TrueLiteral=TrueLiteral,this.Concurrent.Thread.Compiler.AssignExpression=AssignExpression,this.Concurrent.Thread.Compiler.SubExpression=SubExpression,this.Concurrent.Thread.Compiler.PreDecExpression=PreDecExpression,this.Concurrent.Thread.Compiler.RegExpLiteral=RegExpLiteral,this.Concurrent.Thread.Compiler.DeleteExpression=DeleteExpression,this.Concurrent.Thread.Compiler.FalseLiteral=FalseLiteral,this.Concurrent.Thread.Compiler.BitNotExpression=BitNotExpression,this.Concurrent.Thread.Compiler.GreaterEqualExpression=GreaterEqualExpression,this.Concurrent.Thread.Compiler.LessEqualExpression=LessEqualExpression,this.Concurrent.Thread.Compiler.ModExpression=ModExpression,this.Concurrent.Thread.Compiler.StringLiteral=StringLiteral,this.Concurrent.Thread.Compiler.LShiftAssignExpression=LShiftAssignExpression,this.Concurrent.Thread.Compiler.SubAssignExpression=SubAssignExpression,this.Concurrent.Thread.Compiler.LShiftExpression=LShiftExpression,this.Concurrent.Thread.Compiler.ModAssignExpression=ModAssignExpression,this.Concurrent.Thread.Compiler.URShiftAssignExpression=URShiftAssignExpression,this.Concurrent.Thread.Compiler.NegExpression=NegExpression,this.Concurrent.Thread.Compiler.PosExpression=PosExpression,
this.Concurrent.Thread.Compiler.AddAssignExpression=AddAssignExpression,this.Concurrent.Thread.Compiler.ArrayInitializer=ArrayInitializer,this.Concurrent.Thread.Compiler.LessThanExpression=LessThanExpression,this.Concurrent.Thread.Compiler.NumberLiteral=NumberLiteral,this.Concurrent.Thread.Compiler.StrictNotEqualExpression=StrictNotEqualExpression,this.Concurrent.Thread.Compiler.RShiftExpression=RShiftExpression,this.Concurrent.Thread.Compiler.InExpression=InExpression,this.Concurrent.Thread.Compiler.BitOrExpression=BitOrExpression,this.Concurrent.Thread.Compiler.AndExpression=AndExpression,this.Concurrent.Thread.Compiler.PostDecExpression=PostDecExpression,this.Concurrent.Thread.Compiler.ObjectInitializer=ObjectInitializer,this.Concurrent.Thread.Compiler.RShiftAssignExpression=RShiftAssignExpression,this.Concurrent.Thread.Compiler.Expression=Expression,this.Concurrent.Thread.Compiler.DotAccessor=DotAccessor,this.Concurrent.Thread.Compiler.Literal=Literal,this.Concurrent.Thread.Compiler.SimpleAssignExpression=SimpleAssignExpression,this.Concurrent.Thread.Compiler.BitXorExpression=BitXorExpression,this.Concurrent.Thread.Compiler.AddExpression=AddExpression,this.Concurrent.Thread.Compiler.GreaterThanExpression=GreaterThanExpression,this.Concurrent.Thread.Compiler.NotEqualExpression=NotEqualExpression,this.Concurrent.Thread.Compiler.PreIncExpression=PreIncExpression}.call(null),function(){with((!this.Concurrent||"object"!=typeof this.Concurrent&&"function"!=typeof this.Concurrent)&&(this.Concurrent=new Object),(!this.Concurrent.Thread||"object"!=typeof this.Concurrent.Thread&&"function"!=typeof this.Concurrent.Thread)&&(this.Concurrent.Thread=new Object),(!this.Concurrent.Thread.Compiler||"object"!=typeof this.Concurrent.Thread.Compiler&&"function"!=typeof this.Concurrent.Thread.Compiler)&&(this.Concurrent.Thread.Compiler=new Object),void 0===this.Concurrent.Thread.Compiler.Token&&(this.Concurrent.Thread.Compiler.Token=void 0),function(){with(Concurrent.Thread.Compiler)return function(){var NAMESPACE;NAMESPACE="Concurrent.Thread.Compiler";var Token={};return Token.ERROR=-1,Token.EOF=0,Token.EOL=1,Token.FIRST_BYTECODE_TOKEN=2,Token.ENTERWITH=2,Token.LEAVEWITH=3,Token.RETURN=4,Token.GOTO=5,Token.IFEQ=6,Token.IFNE=7,Token.SETNAME=8,Token.BITOR=9,Token.BITXOR=10,Token.BITAND=11,Token.EQ=12,Token.NE=13,Token.LT=14,Token.LE=15,Token.GT=16,Token.GE=17,Token.LSH=18,Token.RSH=19,Token.URSH=20,Token.ADD=21,Token.SUB=22,Token.MUL=23,Token.DIV=24,Token.MOD=25,Token.NOT=26,Token.BITNOT=27,Token.POS=28,Token.NEG=29,Token.NEW=30,Token.DELPROP=31,Token.TYPEOF=32,Token.GETPROP=33,Token.SETPROP=34,Token.GETELEM=35,Token.SETELEM=36,Token.CALL=37,Token.NAME=38,Token.NUMBER=39,Token.STRING=40,Token.NULL=41,Token.THIS=42,Token.FALSE=43,Token.TRUE=44,Token.SHEQ=45,Token.SHNE=46,Token.REGEXP=47,Token.BINDNAME=48,Token.THROW=49,Token.RETHROW=50,Token.IN=51,Token.INSTANCEOF=52,Token.LOCAL_LOAD=53,Token.GETVAR=54,Token.SETVAR=55,Token.CATCH_SCOPE=56,Token.ENUM_INIT_KEYS=57,Token.ENUM_INIT_VALUES=58,Token.ENUM_NEXT=59,Token.ENUM_ID=60,Token.THISFN=61,Token.RETURN_RESULT=62,Token.ARRAYLIT=63,Token.OBJECTLIT=64,Token.GET_REF=65,Token.SET_REF=66,Token.DEL_REF=67,Token.REF_CALL=68,Token.REF_SPECIAL=69,Token.DEFAULTNAMESPACE=70,Token.ESCXMLATTR=71,Token.ESCXMLTEXT=72,Token.REF_MEMBER=73,Token.REF_NS_MEMBER=74,Token.REF_NAME=75,Token.REF_NS_NAME=76,Token.LAST_BYTECODE_TOKEN=Token.REF_NS_NAME,Token.TRY=77,Token.SEMI=78,Token.LB=79,Token.RB=80,Token.LC=81,Token.RC=82,Token.LP=83,Token.RP=84,Token.COMMA=85,Token.ASSIGN=86,Token.ASSIGN_BITOR=87,Token.ASSIGN_BITXOR=88,Token.ASSIGN_BITAND=89,Token.ASSIGN_LSH=90,Token.ASSIGN_RSH=91,Token.ASSIGN_URSH=92,Token.ASSIGN_ADD=93,Token.ASSIGN_SUB=94,Token.ASSIGN_MUL=95,Token.ASSIGN_DIV=96,Token.ASSIGN_MOD=97,Token.FIRST_ASSIGN=Token.ASSIGN,Token.LAST_ASSIGN=Token.ASSIGN_MOD,Token.HOOK=98,Token.COLON=99,Token.OR=100,Token.AND=101,Token.INC=102,Token.DEC=103,Token.DOT=104,Token.FUNCTION=105,Token.EXPORT=106,Token.IMPORT=107,Token.IF=108,Token.ELSE=109,Token.SWITCH=110,Token.CASE=111,Token.DEFAULT=112,Token.WHILE=113,Token.DO=114,Token.FOR=115,Token.BREAK=116,Token.CONTINUE=117,Token.VAR=118,Token.WITH=119,Token.CATCH=120,Token.FINALLY=121,Token.VOID=122,Token.RESERVED=123,Token.EMPTY=124,Token.BLOCK=125,Token.LABEL=126,Token.TARGET=127,Token.LOOP=128,Token.EXPR_VOID=129,Token.EXPR_RESULT=130,Token.JSR=131,Token.SCRIPT=132,Token.TYPEOFNAME=133,Token.USE_STACK=134,Token.SETPROP_OP=135,Token.SETELEM_OP=136,Token.LOCAL_BLOCK=137,Token.SET_REF_OP=138,Token.DOTDOT=139,Token.COLONCOLON=140,Token.XML=141,Token.DOTQUERY=142,Token.XMLATTR=143,Token.XMLEND=144,Token.TO_OBJECT=145,Token.TO_DOUBLE=146,Token.LAST_TOKEN=146,Token.name=function(token){if(!Kit.printTrees)return String(token);with(Token)switch(token){case ERROR:return"ERROR";case EOF:return"EOF";case EOL:return"EOL";case ENTERWITH:return"ENTERWITH";case LEAVEWITH:return"LEAVEWITH";case RETURN:return"RETURN";case GOTO:return"GOTO";case IFEQ:return"IFEQ";case IFNE:return"IFNE";case SETNAME:return"SETNAME";case BITOR:return"BITOR";case BITXOR:return"BITXOR";case BITAND:return"BITAND";case EQ:return"EQ";case NE:return"NE";case LT:return"LT";case LE:return"LE";case GT:return"GT";case GE:return"GE";case LSH:return"LSH";case RSH:return"RSH";case URSH:return"URSH";case ADD:return"ADD";case SUB:return"SUB";case MUL:return"MUL";case DIV:return"DIV";case MOD:return"MOD";case NOT:return"NOT";case BITNOT:return"BITNOT";case POS:return"POS";case NEG:return"NEG";case NEW:return"NEW";case DELPROP:return"DELPROP";case TYPEOF:return"TYPEOF";case GETPROP:return"GETPROP";case SETPROP:return"SETPROP";case GETELEM:return"GETELEM";case SETELEM:return"SETELEM";case CALL:return"CALL";case NAME:return"NAME";case NUMBER:return"NUMBER";case STRING:return"STRING";case NULL:return"NULL";case THIS:return"THIS";case FALSE:return"FALSE";case TRUE:return"TRUE";case SHEQ:return"SHEQ";case SHNE:return"SHNE";case REGEXP:return"OBJECT";case BINDNAME:return"BINDNAME";case THROW:return"THROW";case RETHROW:return"RETHROW";case IN:return"IN";case INSTANCEOF:return"INSTANCEOF";case LOCAL_LOAD:return"LOCAL_LOAD";case GETVAR:return"GETVAR";case SETVAR:return"SETVAR";case CATCH_SCOPE:return"CATCH_SCOPE";case ENUM_INIT_KEYS:return"ENUM_INIT_KEYS";case ENUM_INIT_VALUES:return"ENUM_INIT_VALUES";case ENUM_NEXT:return"ENUM_NEXT";case ENUM_ID:return"ENUM_ID";case THISFN:return"THISFN";case RETURN_RESULT:return"RETURN_RESULT";case ARRAYLIT:return"ARRAYLIT";case OBJECTLIT:return"OBJECTLIT";case GET_REF:return"GET_REF";case SET_REF:return"SET_REF";case DEL_REF:return"DEL_REF";case REF_CALL:return"REF_CALL";case REF_SPECIAL:return"REF_SPECIAL";case DEFAULTNAMESPACE:return"DEFAULTNAMESPACE";case ESCXMLTEXT:return"ESCXMLTEXT";case ESCXMLATTR:return"ESCXMLATTR";case REF_MEMBER:return"REF_MEMBER";case REF_NS_MEMBER:return"REF_NS_MEMBER";case REF_NAME:return"REF_NAME";case REF_NS_NAME:return"REF_NS_NAME";case TRY:return"TRY";case SEMI:return"SEMI";case LB:return"LB";case RB:return"RB";case LC:return"LC";case RC:return"RC";case LP:return"LP";case RP:return"RP";case COMMA:return"COMMA";case ASSIGN:return"ASSIGN";case ASSIGN_BITOR:return"ASSIGN_BITOR";case ASSIGN_BITXOR:return"ASSIGN_BITXOR";case ASSIGN_BITAND:return"ASSIGN_BITAND";case ASSIGN_LSH:return"ASSIGN_LSH";case ASSIGN_RSH:return"ASSIGN_RSH";case ASSIGN_URSH:return"ASSIGN_URSH";case ASSIGN_ADD:return"ASSIGN_ADD";case ASSIGN_SUB:return"ASSIGN_SUB";case ASSIGN_MUL:return"ASSIGN_MUL";case ASSIGN_DIV:return"ASSIGN_DIV";case ASSIGN_MOD:return"ASSIGN_MOD";case HOOK:return"HOOK";case COLON:return"COLON";case OR:return"OR";case AND:return"AND";case INC:return"INC";case DEC:return"DEC";case DOT:return"DOT";case FUNCTION:return"FUNCTION";case EXPORT:return"EXPORT";case IMPORT:return"IMPORT";case IF:return"IF";case ELSE:return"ELSE";case SWITCH:return"SWITCH";case CASE:return"CASE";case DEFAULT:return"DEFAULT";case WHILE:return"WHILE";case DO:return"DO";case FOR:return"FOR";case BREAK:return"BREAK";case CONTINUE:return"CONTINUE";case VAR:return"VAR";case WITH:return"WITH";case CATCH:return"CATCH";case FINALLY:return"FINALLY";case RESERVED:return"RESERVED";case EMPTY:return"EMPTY";case BLOCK:return"BLOCK";case LABEL:return"LABEL";case TARGET:return"TARGET";case LOOP:return"LOOP";case EXPR_VOID:return"EXPR_VOID";case EXPR_RESULT:return"EXPR_RESULT";case JSR:return"JSR";case SCRIPT:return"SCRIPT";case TYPEOFNAME:return"TYPEOFNAME";case USE_STACK:return"USE_STACK";case SETPROP_OP:return"SETPROP_OP";case SETELEM_OP:return"SETELEM_OP";case LOCAL_BLOCK:return"LOCAL_BLOCK";case SET_REF_OP:return"SET_REF_OP";case DOTDOT:return"DOTDOT";case COLONCOLON:return"COLONCOLON";case XML:return"XML";case DOTQUERY:return"DOTQUERY";case XMLATTR:return"XMLATTR";case XMLEND:return"XMLEND";case TO_OBJECT:return"TO_OBJECT";case TO_DOUBLE:return"TO_DOUBLE"}Kit.codeBug(token)},{Token:Token}}()}.call(null))this.Concurrent.Thread.Compiler.Token=Token}.call(null),function(){with((!this.Concurrent||"object"!=typeof this.Concurrent&&"function"!=typeof this.Concurrent)&&(this.Concurrent=new Object),(!this.Concurrent.Thread||"object"!=typeof this.Concurrent.Thread&&"function"!=typeof this.Concurrent.Thread)&&(this.Concurrent.Thread=new Object),(!this.Concurrent.Thread.Compiler||"object"!=typeof this.Concurrent.Thread.Compiler&&"function"!=typeof this.Concurrent.Thread.Compiler)&&(this.Concurrent.Thread.Compiler=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Cons||"object"!=typeof this.Data.Cons&&"function"!=typeof this.Data.Cons)&&(this.Data.Cons=new Object),void 0===this.Concurrent.Thread.Compiler.Statement&&(this.Concurrent.Thread.Compiler.Statement=void 0),void 0===this.Concurrent.Thread.Compiler.EmptyStatement&&(this.Concurrent.Thread.Compiler.EmptyStatement=void 0),void 0===this.Concurrent.Thread.Compiler.Block&&(this.Concurrent.Thread.Compiler.Block=void 0),void 0===this.Concurrent.Thread.Compiler.ExpStatement&&(this.Concurrent.Thread.Compiler.ExpStatement=void 0),void 0===this.Concurrent.Thread.Compiler.VarStatement&&(this.Concurrent.Thread.Compiler.VarStatement=void 0),void 0===this.Concurrent.Thread.Compiler.IfStatement&&(this.Concurrent.Thread.Compiler.IfStatement=void 0),void 0===this.Concurrent.Thread.Compiler.IfElseStatement&&(this.Concurrent.Thread.Compiler.IfElseStatement=void 0),void 0===this.Concurrent.Thread.Compiler.DoWhileStatement&&(this.Concurrent.Thread.Compiler.DoWhileStatement=void 0),void 0===this.Concurrent.Thread.Compiler.WhileStatement&&(this.Concurrent.Thread.Compiler.WhileStatement=void 0),void 0===this.Concurrent.Thread.Compiler.ForStatement&&(this.Concurrent.Thread.Compiler.ForStatement=void 0),void 0===this.Concurrent.Thread.Compiler.ForVarStatement&&(this.Concurrent.Thread.Compiler.ForVarStatement=void 0),void 0===this.Concurrent.Thread.Compiler.ForInStatement&&(this.Concurrent.Thread.Compiler.ForInStatement=void 0),void 0===this.Concurrent.Thread.Compiler.ForInVarStatement&&(this.Concurrent.Thread.Compiler.ForInVarStatement=void 0),void 0===this.Concurrent.Thread.Compiler.ForEachStatement&&(this.Concurrent.Thread.Compiler.ForEachStatement=void 0),void 0===this.Concurrent.Thread.Compiler.ForEachVarStatement&&(this.Concurrent.Thread.Compiler.ForEachVarStatement=void 0),void 0===this.Concurrent.Thread.Compiler.ContinueStatement&&(this.Concurrent.Thread.Compiler.ContinueStatement=void 0),void 0===this.Concurrent.Thread.Compiler.BreakStatement&&(this.Concurrent.Thread.Compiler.BreakStatement=void 0),void 0===this.Concurrent.Thread.Compiler.ReturnStatement&&(this.Concurrent.Thread.Compiler.ReturnStatement=void 0),void 0===this.Concurrent.Thread.Compiler.WithStatement&&(this.Concurrent.Thread.Compiler.WithStatement=void 0),void 0===this.Concurrent.Thread.Compiler.SwitchStatement&&(this.Concurrent.Thread.Compiler.SwitchStatement=void 0),void 0===this.Concurrent.Thread.Compiler.CaseClause&&(this.Concurrent.Thread.Compiler.CaseClause=void 0),void 0===this.Concurrent.Thread.Compiler.DefaultClause&&(this.Concurrent.Thread.Compiler.DefaultClause=void 0),void 0===this.Concurrent.Thread.Compiler.ThrowStatement&&(this.Concurrent.Thread.Compiler.ThrowStatement=void 0),void 0===this.Concurrent.Thread.Compiler.TryCatchStatement&&(this.Concurrent.Thread.Compiler.TryCatchStatement=void 0),void 0===this.Concurrent.Thread.Compiler.TryFinallyStatement&&(this.Concurrent.Thread.Compiler.TryFinallyStatement=void 0),void 0===this.Concurrent.Thread.Compiler.TryCatchFinallyStatement&&(this.Concurrent.Thread.Compiler.TryCatchFinallyStatement=void 0),void 0===this.Concurrent.Thread.Compiler.TryCatchListStatement&&(this.Concurrent.Thread.Compiler.TryCatchListStatement=void 0),void 0===this.Concurrent.Thread.Compiler.TryCatchListFinallyStatement&&(this.Concurrent.Thread.Compiler.TryCatchListFinallyStatement=void 0),void 0===this.Concurrent.Thread.Compiler.CatchGuard&&(this.Concurrent.Thread.Compiler.CatchGuard=void 0),void 0===this.Concurrent.Thread.Compiler.FunctionDeclaration&&(this.Concurrent.Thread.Compiler.FunctionDeclaration=void 0),function(){with(Data.Cons)with(Concurrent.Thread.Compiler)return function(){function t(t,e,n){this.labels=t,this.lineno=e,this.source=n}function e(){for(var t=[],e=0;e<this.labels.length;e++)t.push(this.labels[e],": ");return t.join("")}function n(e,n,r){t.call(this,e,n,r)}function r(e,n,r,o){t.call(this,e,r,o),this.body=n}function o(e,n,r,o){t.call(this,e,r,o),this.exp=n}function i(e,n,r,o){t.call(this,e,r,o),this.decls=n}function s(e,n,r,o,i){t.call(this,e,o,i),this.cond=n,this.body=r}function a(e,n,r,o,i,s){t.call(this,e,i,s),this.cond=n,this.tbody=r,this.fbody=o}function c(e,n,r,o,i){t.call(this,e,o,i),this.body=n,this.cond=r}function h(e,n,r,o,i){t.call(this,e,o,i),this.cond=n,this.body=r}function u(e,n,r,o,i,s,a){t.call(this,e,s,a),this.init=n,this.cond=r,this.incr=o,this.body=i}function p(e,n,r,o,i,s,a){t.call(this,e,s,a),this.decls=n,this.cond=r,this.incr=o,this.body=i}function l(e,n,r,o,i,s){t.call(this,e,i,s),this.lhs=n,this.exp=r,this.body=o}function f(e,n,r,o,i,s){t.call(this,e,i,s),this.decl=n,this.exp=r,this.body=o}function d(e,n,r,o,i,s){t.call(this,e,i,s),this.lhs=n,this.exp=r,this.body=o}function C(e,n,r,o,i,s){t.call(this,e,i,s),this.decl=n,this.exp=r,this.body=o}function E(e,n,r,o){t.call(this,e,r,o),this.target=n}function T(e,n,r,o){t.call(this,e,r,o),this.target=n}function m(e,n,r,o){t.call(this,e,r,o),this.exp=n}function g(e,n,r,o,i){t.call(this,e,o,i),this.exp=n,this.body=r}function y(e,n,r,o,i){t.call(this,e,o,i),this.exp=n,this.clauses=r}function v(t,e,n,r){this.exp=t,this.body=e,this.lineno=n,this.source=r}function w(t,e,n){this.body=t,this.lineno=e,this.source=n}function S(e,n,r,o){t.call(this,e,r,o),this.exp=n}function x(e,n,r,o,i,s){t.call(this,e,i,s),this.tryBlock=n,this.variable=r,this.catchBlock=o}function k(e,n,r,o,i){t.call(this,e,o,i),this.tryBlock=n,this.finallyBlock=r}function D(e,n,r,o,i,s,a){t.call(this,e,s,a),this.tryBlock=n,this.variable=r,this.catchBlock=o,this.finallyBlock=i}function b(e,n,r,o,i){t.call(this,e,o,i),this.tryBlock=n,this.catchList=r}function _(e,n,r,o,i,s){t.call(this,e,i,s),this.tryBlock=n,this.catchList=r,this.finallyBlock=o}function I(t,e,n,r,o){this.variable=t,this.cond=e,this.block=n,this.lineno=r,this.source=o}function O(e,n,r,o,i,s){t.call(this,e,i,s),this.name=n,this.params=r,this.body=o}var L;L="Concurrent.Thread.Compiler",t.prototype.toString=function(){Kit.codeBug()};var A=n.prototype=new t;A.constructor=n,A.toString=function(){return e.call(this)+";"};var A=r.prototype=new t;A.constructor=r,A.toString=function(){var t=[e.call(this),"{"];return this.body.forEach(function(e){t.push(e)}),t.push("}"),t.join("\n")};var A=o.prototype=new t;A.constructor=o,A.toString=function(){return e.call(this)+String(this.exp)+";"},A.containsFunctionCall=function(){return this.exp.containsFunctionCall()};var A=i.prototype=new t;A.constructor=i,A.toString=function(){for(var t=[],n=0;n<this.decls.length;n++)this.decls[n].exp?t.push([this.decls[n].id,"=",this.decls[n].exp].join("")):t.push(this.decls[n].id);return[e.call(this),"var ",t.join(", "),";"].join("")},A.containsFunctionCall=function(){for(var t=0;t<this.decls.length;t++)if(this.decls[t].exp&&this.decls[t].exp.containsFunctionCall())return!0;return!1};var A=s.prototype=new t;A.constructor=s,A.toString=function(){return[e.call(this),"if (",this.cond,") ",this.body].join("")};var A=a.prototype=new t;A.constructor=a,A.toString=function(){return[e.call(this),"if (",this.cond,") ",this.tbody,"\n","else ",this.fbody].join("")};var A=c.prototype=new t;A.constructor=c,A.toString=function(){return[e.call(this),"do ",this.body," while (",this.cond,");"].join("")};var A=h.prototype=new t;A.constructor=h,A.toString=function(){return[e.call(this),"while (",this.cond,") ",this.body].join("")};var A=u.prototype=new t;A.constructor=u,A.toString=function(){return[e.call(this),"for (",this.init?this.init:"","; ",this.cond?this.cond:"","; ",this.incr?this.incr:"",") ",this.body].join("")};var A=p.prototype=new t;A.constructor=p,A.toString=function(){return[e.call(this),"for (",this.decls.length?new i([],this.decls):";"," ",this.cond?this.cond:"","; ",this.incr?this.incr:"",") ",this.body].join("")};var A=l.prototype=new t;A.constructor=l,A.toString=function(){return[e.call(this),"for (",this.lhs," in ",this.exp,") ",this.body].join("")};var A=f.prototype=new t;A.constructor=f,A.toString=function(){return[e.call(this),"for ( var ",this.decl.exp?String(this.decl.id)+"="+String(this.decl.exp):String(this.decl.id)," in ",this.exp,") ",this.body].join("")};var A=d.prototype=new t;A.constructor=d,A.toString=function(){return[e.call(this),"for each (",this.lhs," in ",this.exp,") ",this.body].join("")};var A=C.prototype=new t;A.constructor=C,A.toString=function(){return[e.call(this),"for each ( var ",this.decl.exp?String(this.decl.id)+"="+String(this.decl.exp):String(this.decl.id)," in ",this.exp,") ",this.body].join("")};var A=E.prototype=new t;A.constructor=E,A.toString=function(){var t=[e.call(this),"continue"];return this.target&&t.push(" ",this.target),t.push(";"),t.join("")};var A=T.prototype=new t;A.constructor=T,A.toString=function(){var t=[e.call(this),"break"];return this.target&&t.push(" ",this.target),t.push(";"),t.join("")};var A=m.prototype=new t;A.constructor=m,A.toString=function(){return[e.call(this),"return ",this.exp?this.exp:"",";"].join("")};var A=g.prototype=new t;A.constructor=g,A.toString=function(){return["with (",this.exp,") ",this.body].join("")};var A=y.prototype=new t;A.constructor=y,A.toString=function(){var t=["switch ( ",this.exp,") {\n"];return this.clauses.forEach(function(e){t.push(e,"\n")}),t.push("}"),t.join("")},v.prototype.toString=function(){var t=["case ",this.exp,":\n"];return this.body.forEach(function(e){t.push(e,"\n")}),t.join("")},w.prototype.toString=function(){var t=["default:\n"];return this.body.forEach(function(e){t.push(e,"\n")}),t.join("")};var A=S.prototype=new t;A.constructor=S,A.toString=function(){return[e.call(this),"throw ",this.exp,";"].join("")};var A=x.prototype=new t;A.constructor=x,A.toString=function(){return[e.call(this),"try ",this.tryBlock,"\n","catch (",this.variable,") ",this.catchBlock].join("")};var A=k.prototype=new t;A.constructor=k,A.toString=function(){return[e.call(this),"try ",this.tryBlock,"\n","finally ",this.finallyBlock].join("")};var A=D.prototype=new t;A.constructor=D,A.toString=function(){return[e.call(this),"try ",this.tryBlock,"\n","catch (",this.variable,") ",this.catchBlock,"\n","finally ",this.finallyBlock].join("")};var A=b.prototype=new t;A.constructor=b,A.toString=function(){var t=[e.call(this),"try ",this.tryBlock,"\n"];return this.catchList.forEach(function(e){t.push(e)}),t.join("")};var A=_.prototype=new t;A.constructor=_,A.toString=function(){var t=[e.call(this),"try ",this.tryBlock,"\n"];return this.catchList.forEach(function(e){t.push(e)}),t.push("finally ",this.finallyBlock),t.join("")},I.prototype.toString=function(){var t=["catch ( ",this.variable];return this.cond&&t.push(" if ",this.cond),t.push(" )",this.block),t.join("")};var A=O.prototype=new t;return A.constructor=O,A.toString=function(){var t=["function ",this.name," (",this.params.join(", "),") {\n"];return this.body.forEach(function(e){t.push(e,"\n")}),t.push("}"),t.join("")},{CatchGuard:I,Block:r,IfStatement:s,FunctionDeclaration:O,ForVarStatement:p,IfElseStatement:a,TryFinallyStatement:k,TryCatchFinallyStatement:D,ThrowStatement:S,ForEachStatement:d,EmptyStatement:n,TryCatchStatement:x,WithStatement:g,ExpStatement:o,ReturnStatement:m,Statement:t,ForInVarStatement:f,BreakStatement:T,TryCatchListStatement:b,DoWhileStatement:c,ForInStatement:l,DefaultClause:w,VarStatement:i,ContinueStatement:E,TryCatchListFinallyStatement:_,WhileStatement:h,SwitchStatement:y,ForEachVarStatement:C,CaseClause:v,ForStatement:u}}()}.call(null))this.Concurrent.Thread.Compiler.CatchGuard=CatchGuard,this.Concurrent.Thread.Compiler.Block=Block,this.Concurrent.Thread.Compiler.IfStatement=IfStatement,this.Concurrent.Thread.Compiler.FunctionDeclaration=FunctionDeclaration,this.Concurrent.Thread.Compiler.ForVarStatement=ForVarStatement,this.Concurrent.Thread.Compiler.IfElseStatement=IfElseStatement,this.Concurrent.Thread.Compiler.TryFinallyStatement=TryFinallyStatement,this.Concurrent.Thread.Compiler.TryCatchFinallyStatement=TryCatchFinallyStatement,this.Concurrent.Thread.Compiler.ThrowStatement=ThrowStatement,this.Concurrent.Thread.Compiler.ForEachStatement=ForEachStatement,this.Concurrent.Thread.Compiler.EmptyStatement=EmptyStatement,this.Concurrent.Thread.Compiler.TryCatchStatement=TryCatchStatement,this.Concurrent.Thread.Compiler.WithStatement=WithStatement,this.Concurrent.Thread.Compiler.ExpStatement=ExpStatement,this.Concurrent.Thread.Compiler.ReturnStatement=ReturnStatement,this.Concurrent.Thread.Compiler.Statement=Statement,this.Concurrent.Thread.Compiler.ForInVarStatement=ForInVarStatement,this.Concurrent.Thread.Compiler.BreakStatement=BreakStatement,this.Concurrent.Thread.Compiler.TryCatchListStatement=TryCatchListStatement,this.Concurrent.Thread.Compiler.DoWhileStatement=DoWhileStatement,this.Concurrent.Thread.Compiler.ForInStatement=ForInStatement,this.Concurrent.Thread.Compiler.DefaultClause=DefaultClause,this.Concurrent.Thread.Compiler.VarStatement=VarStatement,this.Concurrent.Thread.Compiler.ContinueStatement=ContinueStatement,this.Concurrent.Thread.Compiler.TryCatchListFinallyStatement=TryCatchListFinallyStatement,this.Concurrent.Thread.Compiler.WhileStatement=WhileStatement,this.Concurrent.Thread.Compiler.SwitchStatement=SwitchStatement,this.Concurrent.Thread.Compiler.ForEachVarStatement=ForEachVarStatement,this.Concurrent.Thread.Compiler.CaseClause=CaseClause,this.Concurrent.Thread.Compiler.ForStatement=ForStatement}.call(null),function(){with((!this.Concurrent||"object"!=typeof this.Concurrent&&"function"!=typeof this.Concurrent)&&(this.Concurrent=new Object),(!this.Concurrent.Thread||"object"!=typeof this.Concurrent.Thread&&"function"!=typeof this.Concurrent.Thread)&&(this.Concurrent.Thread=new Object),(!this.Concurrent.Thread.Compiler||"object"!=typeof this.Concurrent.Thread.Compiler&&"function"!=typeof this.Concurrent.Thread.Compiler)&&(this.Concurrent.Thread.Compiler=new Object),void 0===this.Concurrent.Thread.Compiler.IdentifierMap&&(this.Concurrent.Thread.Compiler.IdentifierMap=void 0),function(){with(Concurrent.Thread.Compiler)return function(){function t(){this._map={}}var e;e="Concurrent.Thread.Compiler";var n=Object.prototype.hasOwnProperty,r=t.prototype;return r.clone=function(){var e=new t;for(var r in this._map)n.call(this._map,r)&&(e._map[r]=this._map[r]);return e},r.exists=function(){for(var t=0;t<arguments.length;t++){var e=arguments[t];if(!(e instanceof Identifier))throw new TypeError("arguments["+t+"] is not of type Identifier");if(!n.call(this._map,e.valueOf()))return!1}return!0},r.get=function(t){if(!(t instanceof Identifier))throw new TypeError("arguments[0] is not of type Identifier");var e=t.valueOf();if(n.call(this._map,e))return this._map[e].value},r.put=function(t,e){if(!(t instanceof Identifier))throw new TypeError("arguments[0] is not of type Identifier");this._map[t.valueOf()]={id:t,value:e}},r.remove=function(t){if(!(t instanceof Identifier))throw new TypeError("arguments[0] is not of type Identifier");return delete this._map[t.valueOf()]},r.keys=function(){var t=new IdentifierSet;for(var e in this._map)n.call(this._map,e)&&t.add(this._map[e].id);return t},r.values=function(){var t=[];for(var e in this._map)n.call(this._map,e)&&t.push(this._map[e].value);return t},{IdentifierMap:t}}()}.call(null))this.Concurrent.Thread.Compiler.IdentifierMap=IdentifierMap}.call(null),function(){with((!this.Concurrent||"object"!=typeof this.Concurrent&&"function"!=typeof this.Concurrent)&&(this.Concurrent=new Object),(!this.Concurrent.Thread||"object"!=typeof this.Concurrent.Thread&&"function"!=typeof this.Concurrent.Thread)&&(this.Concurrent.Thread=new Object),(!this.Concurrent.Thread.Compiler||"object"!=typeof this.Concurrent.Thread.Compiler&&"function"!=typeof this.Concurrent.Thread.Compiler)&&(this.Concurrent.Thread.Compiler=new Object),void 0===this.Concurrent.Thread.Compiler.TokenStream&&(this.Concurrent.Thread.Compiler.TokenStream=void 0),function(){with(Concurrent.Thread.Compiler)return function(){function t(t,e,n){this.parser=t,this.sourceString=String(e),this.sourceEnd=this.sourceString.length,this.sourceCursor=0,this.dirtyLine=!1,this.string="",this.stringBuffer=[],this.ungetBuffer=[],this.hitEOF=!1,this.lineStart=0,this.lineno=Number(n)||1,this.lineEndChar=void 0,this.xmlIsAttribute=!1,this.xmlIsTagContent=!1,this.xmlOpenTagsCount=0}function e(t){return i.hasOwnProperty(t)?i[t]:Token.EOF}var n;n="Concurrent.Thread.Compiler";var r=String.fromCharCode(65535),o=t.prototype;o.tokenToString=function(t){if(Token.printTrees){var e=Token.name(t);switch(t){case Token.STRING:case Token.REGEXP:case Token.NAME:return e+" `"+this.string+"'";case Token.NUMBER:return"NUMBER "+this.number}return e}return""};var i={"break":Token.BREAK,"case":Token.CASE,"catch":Token.CATCH,"continue":Token.CONTINUE,"default":Token.DEFAULT,"delete":Token.DELPROP,"do":Token.DO,"else":Token.ELSE,"export":Token.EXPORT,"false":Token.FALSE,"finally":Token.FINALLY,"for":Token.FOR,"function":Token.FUNCTION,"if":Token.IF,"in":Token.IN,"instanceof":Token.INSTANCEOF,"new":Token.NEW,"null":Token.NULL,"return":Token.RETURN,"switch":Token.SWITCH,"this":Token.THIS,"throw":Token.THROW,"true":Token.TRUE,"try":Token.TRY,"typeof":Token.TYPEOF,"var":Token.VAR,"void":Token.VOID,"while":Token.WHILE,"with":Token.WITH,"abstract":Token.RESERVED,"boolean":Token.RESERVED,"byte":Token.RESERVED,"char":Token.RESERVED,"class":Token.RESERVED,"const":Token.RESERVED,"debugger":Token.RESERVED,"double":Token.RESERVED,"enum":Token.RESERVED,"extends":Token.RESERVED,"final":Token.RESERVED,"float":Token.RESERVED,"goto":Token.RESERVED,"implements":Token.RESERVED,"import":Token.IMPORT,"int":Token.RESERVED,"interface":Token.RESERVED,"long":Token.RESERVED,"native":Token.RESERVED,"package":Token.RESERVED,"private":Token.RESERVED,"protected":Token.RESERVED,"public":Token.RESERVED,"short":Token.RESERVED,"static":Token.RESERVED,"super":Token.RESERVED,"synchronized":Token.RESERVED,"throws":Token.RESERVED,"transient":Token.RESERVED,"volatile":Token.RESERVED};return o.getLineno=function(){return this.lineno},o.getString=function(){return this.string},o.eof=function(){return this.hitEOF},o.getToken=function(){var t;t:for(;;){for(;;){if(t=this.getChar(),t===r)return Token.EOF;if("\n"===t)return this.dirtyLine=!1,Token.EOL;if(!isSpace(t)){"-"!==t&&(this.dirtyLine=!0);break}}var n=!1,o=!1;if("\\"===t?(t=this.getChar(),"u"===t?(n=!0,o=!0,this.stringBuffer=["\\u"]):(n=!1,this.ungetChar(t),t="\\")):isIdentifierStart(t)&&(n=!0,this.stringBuffer=[t]),n){for(var i=o;;)if(o){for(var s=0;4!=s;++s){if(t=this.getChar(),!isHexDigit(t))return this.parser.addError("msg.invalid.escape"),Token.ERROR;this.addToString(t)}o=!1}else if(t=this.getChar(),"\\"==t){if(t=this.getChar(),"u"!=t)return this.parser.addError("msg.illegal.character"),Token.ERROR;this.addToString("\\u"),o=!0,i=!0}else{if(!isIdentifierPart(t))break;this.addToString(t)}this.ungetChar(t);var a=this.getStringFromBuffer();if(!i){var c=e(a);if(c!=Token.EOF)return c}return this.string=a,Token.NAME}if(isDigit(t)||"."===t&&isDigit(this.peekChar())){this.stringBuffer=[];var h=10;if("0"===t&&(this.addToString("0"),t=this.getChar(),"x"===t||"X"===t?(this.addToString(t),h=16,t=this.getChar()):isDigit(t)&&(h=8)),16===h)for(;isHexDigit(t);)this.addToString(t),t=this.getChar();else for(;isDigit(t);)8!==h||"8"!==t&&"9"!==t||(this.parser.addWarning("msg.bad.octal.literal","8"==t?"8":"9"),h=10),this.addToString(t),t=this.getChar();if(10===h){if("."===t)do this.addToString(t),t=this.getChar();while(isDigit(t));if("e"===t||"E"===t){if(this.addToString(t),t=this.getChar(),("+"===t||"-"===t)&&(this.addToString(t),t=this.getChar()),!isDigit(t))return this.parser.addError("msg.missing.exponent"),Token.ERROR;do this.addToString(t),t=this.getChar();while(isDigit(t))}}return this.ungetChar(t),this.string=this.getStringFromBuffer(),Token.NUMBER}if('"'===t||"'"===t){var u=t;for(this.stringBuffer=[t],t=this.getChar();t!==u;){if("\n"===t||t===r)return this.ungetChar(t),this.parser.addError("msg.unterminated.string.lit"),Token.ERROR;"\\"===t?(this.addToString("\\"),t=this.getChar(),"\n"===t?this.parser.addWarning("msg.unsafe.string.lit"):this.addToString(t)):this.addToString(t),t=this.getChar()}return this.addToString(u),this.string=this.getStringFromBuffer(),Token.STRING}switch(t.charCodeAt(0)){case 59:return Token.SEMI;case 91:return Token.LB;case 93:return Token.RB;case 123:return Token.LC;case 125:return Token.RC;case 40:return Token.LP;case 41:return Token.RP;case 44:return Token.COMMA;case 63:return Token.HOOK;case 64:return Token.XMLATTR;case 58:return this.matchChar(":")?Token.COLONCOLON:Token.COLON;case 46:return this.matchChar(".")?Token.DOTDOT:this.matchChar("(")?Token.DOTQUERY:Token.DOT;case 124:return this.matchChar("|")?Token.OR:this.matchChar("=")?Token.ASSIGN_BITOR:Token.BITOR;case 94:return this.matchChar("=")?Token.ASSIGN_BITXOR:Token.BITXOR;case 38:return this.matchChar("&")?Token.AND:this.matchChar("=")?Token.ASSIGN_BITAND:Token.BITAND;case 61:return this.matchChar("=")?this.matchChar("=")?Token.SHEQ:Token.EQ:Token.ASSIGN;case 33:return this.matchChar("=")?this.matchChar("=")?Token.SHNE:Token.NE:Token.NOT;case 60:if(this.matchChar("!")){if(this.matchChar("-")){if(this.matchChar("-")){this.skipLine();continue t}this.ungetChar("-")}this.ungetChar("!")}return this.matchChar("<")?this.matchChar("=")?Token.ASSIGN_LSH:Token.LSH:this.matchChar("=")?Token.LE:Token.LT;case 62:return this.matchChar(">")?this.matchChar(">")?this.matchChar("=")?Token.ASSIGN_URSH:Token.URSH:this.matchChar("=")?Token.ASSIGN_RSH:Token.RSH:this.matchChar("=")?Token.GE:Token.GT;case 42:return this.matchChar("=")?Token.ASSIGN_MUL:Token.MUL;case 47:if(this.matchChar("/")){this.skipLine();continue t}if(!this.matchChar("*"))return this.matchChar("=")?Token.ASSIGN_DIV:Token.DIV;for(;;){if(t=this.getChar(),t===r)return this.parser.addError("msg.unterminated.comment"),Token.ERROR;if("*"===t&&(t=this.getChar(),"/"===t))continue t}case 37:return this.matchChar("=")?Token.ASSIGN_MOD:Token.MOD;case 126:return Token.BITNOT;case 43:return this.matchChar("=")?Token.ASSIGN_ADD:this.matchChar("+")?Token.INC:Token.ADD;case 45:if(this.matchChar("="))t=Token.ASSIGN_SUB;else if(this.matchChar("-")){if(!this.dirtyLine&&this.matchChar(">")){this.skipLine();continue t}t=Token.DEC}else t=Token.SUB;return this.dirtyLine=!0,t;default:return parser.addError("msg.illegal.character"),Token.ERROR}}},o.readRegExp=function(t){t===Token.ASSIGN_DIV?this.stringBuffer=["/="]:t===Token.DIV?this.stringBuffer=["/"]:Kit.codeBug();for(var e;"/"!==(e=this.getChar());){if("\n"===e||e===r)throw this.ungetChar(e),this.parser.reportError("msg.unterminated.re.lit");
"\\"===e&&(this.addToString(e),e=this.getChar()),this.addToString(e)}for(this.addToString("/");isIdentifierPart(e=this.getChar());)this.addToString(e);this.ungetChar(e),this.string=this.getStringFromBuffer()},o.isXMLAttribute=function(){return this.xmlIsAttribute},o.getFirstXMLToken=function(){return this.xmlOpenTagsCount=0,this.xmlIsAttribute=!1,this.xmlIsTagContent=!1,this.ungetChar("<"),this.getNextXMLToken()},o.getNextXMLToken=function(){this.stringBuffer=[];for(var t=this.getChar();t!==r;t=this.getChar())if(this.xmlIsTagContent){switch(t.charCodeAt(0)){case 62:this.addToString(">"),this.xmlIsTagContent=!1,this.xmlIsAttribute=!1;break;case 47:this.addToString("/"),this.matchChar(">")&&(this.addToString(">"),this.xmlIsTagContent=!1,this.xmlOpenTagsCount--);break;case 123:return this.ungetChar("{"),this.string=this.getStringFromBuffer(),Token.XML;case 39:case 34:if(this.addToString(t),!this.readQuotedString(t))return Token.ERROR;break;case 61:this.addToString("="),this.xmlIsAttribute=!0;break;case 32:case 9:case 10:this.addToString(t);break;default:this.addToString(t),this.xmlIsAttribute=!1}if(!this.xmlIsTagContent&&0===this.xmlOpenTagsCount)return this.string=this.getStringFromBuffer(),Token.XMLEND}else switch(t.charCodeAt(0)){case 60:switch(this.addToString("<"),t=this.getChar(),t.charCodeAt(0)){case 33:switch(this.addToString("!"),t=this.getChar(),t.charCodeAt(0)){case 45:if("-"!==this.getChar())return this.parser.addError("msg.XML.bad.form"),Token.ERROR;if(this.addToString("--"),!this.readXmlComment())return Token.ERROR;break;case 91:if("C"!==this.getChar()||"D"!==this.getChar()||"A"!==this.getChar()||"T"!==this.getChar()||"A"!==this.getChar()||"["!==this.getChar())return this.parser.addError("msg.XML.bad.form"),Token.ERROR;if(this.addToString("[CDATA["),!this.readCDATA())return Token.ERROR;break;default:if(this.ungetChar(t),!this.readEntity())return Token.ERROR}break;case 63:if(this.addToString("?"),!this.readPI())return Token.ERROR;break;case 47:if(this.addToString("/"),0===this.xmlOpenTagsCount)return this.parser.addError("msg.XML.bad.form"),Token.ERROR;this.xmlIsTagContent=!0,this.xmlOpenTagsCount--;break;default:this.ungetChar(t),this.xmlIsTagContent=!0,this.xmlOpenTagsCount++}break;case 123:return this.ungetChar("{"),this.string=this.getStringFromBuffer(),Token.XML;default:this.addToString(t)}return this.parser.addError("msg.XML.bad.form"),Token.ERROR},o.readQuotedString=function(t){for(var e=this.getChar();e!==r;e=this.getChar())if(this.addToString(e),e===t)return!0;return parser.addError("msg.XML.bad.form"),!1},o.readXmlComment=function(){for(var t=this.getChar();t!==r;)if(this.addToString(t),"-"===t&&this.matchChar("-")){if(this.addToString("-"),this.matchChar(">"))return this.addToString(">"),!0;t="-"}else t=this.getChar();return this.parser.addError("msg.XML.bad.form"),!1},o.readCDATA=function(){for(var t=this.getChar();t!==r;)if(this.addToString(t),"]"===t&&this.matchChar("]")){if(this.addToString("]"),this.matchChar(">"))return this.addToString(">"),!0;t="]"}else t=this.getChar();return this.parser.addError("msg.XML.bad.form"),!1},o.readEntity=function(){for(var t=1,e=this.getChar();e!==r;e=this.getChar())switch(this.addToString(e),e){case"<":t++;break;case">":if(t--,0===t)return!0}return this.parser.addError("msg.XML.bad.form"),!1},o.readPI=function(){for(var t=this.getChar();t!==r;t=this.getChar())if(this.addToString(t),"?"===t&&this.matchChar(">"))return this.addToString(">"),!0;return this.parser.addError("msg.XML.bad.form"),!1},o.getStringFromBuffer=function(){return this.stringBuffer.join("")},o.addToString=function(){this.stringBuffer.push.apply(this.stringBuffer,arguments)},o.ungetChar=function(t){this.ungetBuffer.length&&"\n"==this.ungetBuffer[this.ungetBuffer.length-1]&&Kit.codeBug(),this.ungetBuffer.push(t)},o.matchChar=function(t){var e=this.getChar();return e===t?!0:(this.ungetChar(e),!1)},o.peekChar=function(){var t=this.getChar();return this.ungetChar(t),t},o.getChar=function(){if(this.ungetBuffer.length)return this.ungetBuffer.pop();for(;;){if(this.sourceCursor==this.sourceEnd)return this.hitEOF=!0,r;var t=this.sourceString.charAt(this.sourceCursor++);if(this.lineEndChar){if("\r"==this.lineEndChar&&"\n"==t){this.lineEndChar="\n";continue}this.lineEndChar=void 0,this.lineStart=this.sourceCursor-1,this.lineno++}if(isLineTerminator(t)&&(this.lineEndChar=t,t="\n"),!isFormatChar(t))return t}},o.skipLine=function(){for(var t;(t=this.getChar())!=r&&"\n"!=t;);this.ungetChar(t)},o.getOffset=function(){var t=this.sourceCursor-this.lineStart;return this.lineEndChar&&--t,t},o.getLine=function(){var t=this.sourceCursor;if(this.lineEndChar)--t;else for(;t!=this.sourceEnd;++t){var e=this.sourceString.charAt(t);if(isLineTerminator(e))break}return this.sourceString.substring(this.lineStart,t)},{TokenStream:t}}()}.call(null))this.Concurrent.Thread.Compiler.TokenStream=TokenStream}.call(null),function(){with((!this.Concurrent||"object"!=typeof this.Concurrent&&"function"!=typeof this.Concurrent)&&(this.Concurrent=new Object),(!this.Concurrent.Thread||"object"!=typeof this.Concurrent.Thread&&"function"!=typeof this.Concurrent.Thread)&&(this.Concurrent.Thread=new Object),(!this.Concurrent.Thread.Compiler||"object"!=typeof this.Concurrent.Thread.Compiler&&"function"!=typeof this.Concurrent.Thread.Compiler)&&(this.Concurrent.Thread.Compiler=new Object),(!this.Concurrent.Thread.Compiler.IntermediateLanguage||"object"!=typeof this.Concurrent.Thread.Compiler.IntermediateLanguage&&"function"!=typeof this.Concurrent.Thread.Compiler.IntermediateLanguage)&&(this.Concurrent.Thread.Compiler.IntermediateLanguage=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Cons||"object"!=typeof this.Data.Cons&&"function"!=typeof this.Data.Cons)&&(this.Data.Cons=new Object),(!this.Data.Cons.Util||"object"!=typeof this.Data.Cons.Util&&"function"!=typeof this.Data.Cons.Util)&&(this.Data.Cons.Util=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Cons||"object"!=typeof this.Data.Cons&&"function"!=typeof this.Data.Cons)&&(this.Data.Cons=new Object),void 0===this.Concurrent.Thread.Compiler.IntermediateLanguage.Function&&(this.Concurrent.Thread.Compiler.IntermediateLanguage.Function=void 0),void 0===this.Concurrent.Thread.Compiler.IntermediateLanguage.Block&&(this.Concurrent.Thread.Compiler.IntermediateLanguage.Block=void 0),void 0===this.Concurrent.Thread.Compiler.IntermediateLanguage.GotoBlock&&(this.Concurrent.Thread.Compiler.IntermediateLanguage.GotoBlock=void 0),void 0===this.Concurrent.Thread.Compiler.IntermediateLanguage.CallBlock&&(this.Concurrent.Thread.Compiler.IntermediateLanguage.CallBlock=void 0),void 0===this.Concurrent.Thread.Compiler.IntermediateLanguage.NewBlock&&(this.Concurrent.Thread.Compiler.IntermediateLanguage.NewBlock=void 0),void 0===this.Concurrent.Thread.Compiler.IntermediateLanguage.Statement&&(this.Concurrent.Thread.Compiler.IntermediateLanguage.Statement=void 0),void 0===this.Concurrent.Thread.Compiler.IntermediateLanguage.ExpStatement&&(this.Concurrent.Thread.Compiler.IntermediateLanguage.ExpStatement=void 0),void 0===this.Concurrent.Thread.Compiler.IntermediateLanguage.CondStatement&&(this.Concurrent.Thread.Compiler.IntermediateLanguage.CondStatement=void 0),void 0===this.Concurrent.Thread.Compiler.IntermediateLanguage.RecvStatement&&(this.Concurrent.Thread.Compiler.IntermediateLanguage.RecvStatement=void 0),void 0===this.Concurrent.Thread.Compiler.IntermediateLanguage.EnumStatement&&(this.Concurrent.Thread.Compiler.IntermediateLanguage.EnumStatement=void 0),function(){with(Data.Cons.Util)with(Data.Cons)with(Concurrent.Thread.Compiler.IntermediateLanguage)return function(){function t(t,e,n,r,o){this.name=t,this.params=e,this.vars=n,this.body=r,this.start=o}function e(t,e,n,r){this.id="label"+l++,this.scopes=t,this.body=e,this.target=n,this.exception=r}function n(t){return t instanceof e?t.id:'"'+t+'"'}function r(t,n,r,o,i){e.call(this,t,n,o,i),this.arg=r}function o(t,n,r,o,i,s,a){e.call(this,t,n,s,a),this.this_val=r,this.func=o,this.args=i}function i(t,n,r,o,i,s){e.call(this,t,n,i,s),this.func=r,this.args=o}function s(){}function a(t){this.exp=t}function c(t,e){this.cond=t,this.target=e}function h(t){this.assignee=t}function u(t,e){this.exp=t,this.assignee=e}var p;p="Concurrent.Thread.Compiler.IntermediateLanguage",t.prototype.toString=function(){return["function ",this.name,"( ",this.params.join(", ")," ) {\n","  var ",this.vars.join(", "),";\n",this.body.join("\n").replace(/^/gm,"  "),"\n}"].join("")};var l=0,f=e.prototype;f.toString=function(){Kit.codeBug('"toString" is not implemented for ',this.constructor)},f.appendStatement=function(){var t=arguments;this.body.isNil()?(this.body=cons(arguments[0],this.body),t=Array.prototype.slice.call(arguments,1,arguments.length)):adder(this.body).apply(null,t)},f.prependStatement=function(){for(var t=arguments.length-1;t>=0;t--)this.body=cons(arguments[t],this.body)};var f=r.prototype=new e;f.constructor=r,f.toString=function(){return[this.id,"([",this.scopes.join(", "),"], ",n(this.exception),"): {\n",this.body.join("\n").replace(/^/gm,"  "),"\n","  goto ",this.arg," -> ",n(this.target),"\n","}"].join("")};var f=o.prototype=new e;f.constructor=o,f.toString=function(){return[this.id,"([",this.scopes.join(", "),"], ",n(this.exception),"): {\n",this.body.join("\n").replace(/^/gm,"  "),"\n","  call ",this.this_val,".",this.func,"(",this.args.join(", "),") -> ",n(this.target),"\n","}"].join("")};var f=i.prototype=new e;f.constructor=i,f.toString=function(){return[this.id,"([",this.scopes.join(", "),"], ",n(this.exception),"): {\n",this.body.join("\n").replace(/^/gm,"  "),"\n","  new ",this.func,"(",this.args.join(", "),") -> ",n(this.target),"\n","}"].join("")},s.prototype.toString=function(){Kit.codeBug('"toString" is not implemented for ',this.constructor)};var f=a.prototype=new s;f.constructor=a,f.toString=function(){return this.exp+";"};var f=c.prototype=new s;f.constructor=c,f.toString=function(){return["if ",this.cond," -> ",n(this.target),";"].join("")};var f=h.prototype=new s;f.constructor=h,f.toString=function(){return["recv ",this.assignee,";"].join("")};var f=u.prototype=new s;return f.constructor=u,f.toString=function(){return["enum ",this.assignee," <- ",this.exp,";"].join("")},{Block:e,RecvStatement:h,GotoBlock:r,Function:t,NewBlock:i,ExpStatement:a,CallBlock:o,EnumStatement:u,Statement:s,CondStatement:c}}()}.call(null))this.Concurrent.Thread.Compiler.IntermediateLanguage.Block=Block,this.Concurrent.Thread.Compiler.IntermediateLanguage.RecvStatement=RecvStatement,this.Concurrent.Thread.Compiler.IntermediateLanguage.GotoBlock=GotoBlock,this.Concurrent.Thread.Compiler.IntermediateLanguage.Function=Function,this.Concurrent.Thread.Compiler.IntermediateLanguage.NewBlock=NewBlock,this.Concurrent.Thread.Compiler.IntermediateLanguage.ExpStatement=ExpStatement,this.Concurrent.Thread.Compiler.IntermediateLanguage.CallBlock=CallBlock,this.Concurrent.Thread.Compiler.IntermediateLanguage.EnumStatement=EnumStatement,this.Concurrent.Thread.Compiler.IntermediateLanguage.Statement=Statement,this.Concurrent.Thread.Compiler.IntermediateLanguage.CondStatement=CondStatement}.call(null),function(){with((!this.Concurrent||"object"!=typeof this.Concurrent&&"function"!=typeof this.Concurrent)&&(this.Concurrent=new Object),(!this.Concurrent.Thread||"object"!=typeof this.Concurrent.Thread&&"function"!=typeof this.Concurrent.Thread)&&(this.Concurrent.Thread=new Object),(!this.Concurrent.Thread.Compiler||"object"!=typeof this.Concurrent.Thread.Compiler&&"function"!=typeof this.Concurrent.Thread.Compiler)&&(this.Concurrent.Thread.Compiler=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Cons||"object"!=typeof this.Data.Cons&&"function"!=typeof this.Data.Cons)&&(this.Data.Cons=new Object),void 0===this.Concurrent.Thread.Compiler.CssConvert&&(this.Concurrent.Thread.Compiler.CssConvert=void 0),function(){with(Data.Cons)with(Concurrent.Thread.Compiler)return function(){function t(t){return t[n]()}var e;e="Concurrent.Thread.Compiler";var n="Concurrent.Thread.Compiler.CssConvert";return Statement.prototype[n]=function(){Kit.codeBug("unimplemented '"+n+"' method for: "+this)},EmptyStatement.prototype[n]=function(){return this},Block.prototype[n]=function(){for(var t=last=cons(null,nil()),e=this.body;!e.isNil();e=e.cdr)last=last.cdr=cons(e.car[n](),last.cdr);return new Block(this.labels,t.cdr,this.lineno,this.source)},ExpStatement.prototype[n]=function(){return new ExpStatement(this.labels,this.exp[n](),this.lineno,this.source)},VarStatement.prototype[n]=function(){for(var t=[],e=0;e<this.decls.length;e++)t[e]={id:this.decls[e].id,exp:this.decls[e].exp?this.decls[e].exp[n]():null};return new VarStatement(this.labels,t,this.lineno,this.source)},IfStatement.prototype[n]=function(){return new IfStatement(this.labels,this.cond[n](),this.body[n](),this.lineno,this.source)},IfElseStatement.prototype[n]=function(){return new IfElseStatement(this.labels,this.cond[n](),this.tbody[n](),this.fbody[n](),this.lineno,this.source)},DoWhileStatement.prototype[n]=function(){return new DoWhileStatement(this.labels,this.body[n](),this.cond[n](),this.lineno,this.source)},WhileStatement.prototype[n]=function(){return new WhileStatement(this.labels,this.cond[n](),this.body[n](),this.lineno,this.source)},ForStatement.prototype[n]=function(){return new ForStatement(this.labels,this.init?this.init[n]():null,this.cond?this.cond[n]():null,this.incr?this.incr[n]():null,this.body[n](),this.lineno,this.source)},ForVarStatement.prototype[n]=function(){for(var t=[],e=0;e<this.decls.length;e++)t[e]={id:this.decls[e].id,exp:this.decls[e].exp?this.decls[e].exp[n]():null};return new ForVarStatement(this.labels,t,this.cond?this.cond[n]():null,this.incr?this.incr[n]():null,this.body[n](),this.lineno,this.source)},ForInStatement.prototype[n]=function(){return new ForInStatement(this.labels,this.lhs[n](),this.exp[n](),this.body[n](),this.lineno,this.source)},ForInVarStatement.prototype[n]=function(){var t={id:this.decl.id,exp:this.decl.exp?this.decl.exp[n]():null};return new ForInVarStatement(this.labels,t,this.exp[n](),this.body[n](),this.lineno,this.source)},ForEachStatement.prototype[n]=function(){return new ForEachStatement(this.labels,this.lhs[n](),this.exp[n](),this.body[n](),this.lineno,this.source)},ForEachVarStatement.prototype[n]=function(){var t={id:this.decl.id,exp:this.decl.exp?this.decl.exp[n]():null};return new ForEachVarStatement(this.labels,t,this.exp[n](),this.body[n](),this.lineno,this.source)},ContinueStatement.prototype[n]=function(){return this},BreakStatement.prototype[n]=function(){return this},ReturnStatement.prototype[n]=function(){return this.exp?new ReturnStatement(this.labels,this.exp[n](),this.lineno,this.source):this},WithStatement.prototype[n]=function(){return new WithStatement(this.labels,this.exp[n](),this.body[n](),this.lineno,this.source)},SwitchStatement.prototype[n]=function(){for(var t=last=cons(null,nil()),e=this.clauses;!e.isNil();e=e.cdr)last=last.cdr=cons(e.car[n](),last.cdr);return new SwitchStatement(this.labels,this.exp[n](),t.cdr,this.lineno,this.source)},CaseClause.prototype[n]=function(){for(var t=last=cons(null,nil()),e=this.body;!e.isNil();e=e.cdr)last=last.cdr=cons(e.car[n](),last.cdr);return new CaseClause(this.exp[n](),t.cdr,this.lineno,this.source)},DefaultClause.prototype[n]=function(){for(var t=last=cons(null,nil()),e=this.body;!e.isNil();e=e.cdr)last=last.cdr=cons(e.car[n](),last.cdr);return new DefaultClause(t.cdr,this.lineno,this.source)},ThrowStatement.prototype[n]=function(){return new ThrowStatement(this.labels,this.exp[n](),this.lineno,this.source)},TryCatchStatement.prototype[n]=function(){return new TryCatchStatement(this.labels,this.tryBlock[n](),this.variable,this.catchBlock[n](),this.lineno,this.source)},TryFinallyStatement.prototype[n]=function(){return new TryFinallyStatement(this.labels,this.tryBlock[n](),this.finallyBlock[n](),this.lineno,this.source)},TryCatchFinallyStatement.prototype[n]=function(){return new TryCatchFinallyStatement(this.labels,this.tryBlock[n](),this.variable,this.catchBlock[n](),this.finallyBlock[n](),this.lineno,this.source)},TryCatchListStatement.prototype[n]=function(){if(this.catchList.isNil()){var t=this.tryBlock[n]();return t.labels=this.labels,t}if(this.catchList.car.cond){var e=this.catchList.car;return new TryCatchStatement(this.labels,this.tryBlock[n](),e.variable,new Block([],list(new IfElseStatement([],e.cond[n](),e.block[n](),new TryCatchListStatement([],new Block([],list(new ThrowStatement([],e.variable))),this.catchList.cdr,this.catchList.cdr.lineno,this.cdr.cdr.source)[n](),e.lineno,e.source))))}var e=this.catchList.car;return new TryCatchStatement(this.labels,this.tryBlock[n](),e.variable,e.block[n](),this.lineno,this.source)},TryCatchListFinallyStatement.prototype[n]=function(){return new TryFinallyStatement(this.labels,new Block([],list(new TryCatchListStatement([],this.tryBlock,this.catchList,this.lineno,this.source)[n]()),this.lineno,this.source),this.finallyBlock[n](),this.lineno,this.source)},FunctionDeclaration.prototype[n]=function(){for(var t=last=cons(null,nil()),e=this.body;!e.isNil();e=e.cdr)last=last.cdr=cons(e.car[n](),last.cdr);return new FunctionDeclaration(this.labels,this.name,this.params,t.cdr,this.lineno,this.source)},Expression.prototype[n]=Statement.prototype[n],UnaryExpression.prototype[n]=function(){return new this.constructor(this.exp[n]())},BinaryExpression.prototype[n]=function(){return new this.constructor(this.left[n](),this.right[n]())},Literal.prototype[n]=Identifier.prototype[n]=ThisExpression.prototype[n]=Elision.prototype[n]=function(){return this},ArrayInitializer.prototype[n]=function(){for(var t=[],e=0;e<this.elems.length;e++)t[e]=this.elems[e][n]();return new ArrayInitializer(t)},ObjectInitializer.prototype[n]=function(){for(var t=[],e=0;e<this.pairs.length;e++)t[e]={prop:this.pairs[e].prop,exp:this.pairs[e].exp[n]()};return new ObjectInitializer(t)},FunctionExpression.prototype[n]=function(){for(var t=last=cons(null,nil()),e=this.body;!e.isNil();e=e.cdr)last=last.cdr=cons(e.car[n](),last.cdr);return new FunctionExpression(this.name,this.params,t.cdr)},DotAccessor.prototype[n]=function(){return new DotAccessor(this.base[n](),this.prop)},NewExpression.prototype[n]=CallExpression.prototype[n]=function(){for(var t=[],e=0;e<this.args.length;e++)t[e]=this.args[e][n]();return new this.constructor(this.func[n](),t)},ConditionalExpression.prototype[n]=function(){return new ConditionalExpression(this.cond[n](),this.texp[n](),this.fexp[n]())},{CssConvert:t}}()}.call(null))this.Concurrent.Thread.Compiler.CssConvert=CssConvert}.call(null),function(){with((!this.Concurrent||"object"!=typeof this.Concurrent&&"function"!=typeof this.Concurrent)&&(this.Concurrent=new Object),(!this.Concurrent.Thread||"object"!=typeof this.Concurrent.Thread&&"function"!=typeof this.Concurrent.Thread)&&(this.Concurrent.Thread=new Object),(!this.Concurrent.Thread.Compiler||"object"!=typeof this.Concurrent.Thread.Compiler&&"function"!=typeof this.Concurrent.Thread.Compiler)&&(this.Concurrent.Thread.Compiler=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Error||"object"!=typeof this.Data.Error&&"function"!=typeof this.Data.Error)&&(this.Data.Error=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Cons||"object"!=typeof this.Data.Cons&&"function"!=typeof this.Data.Cons)&&(this.Data.Cons=new Object),void 0===this.Concurrent.Thread.Compiler.Parser&&(this.Concurrent.Thread.Compiler.Parser=void 0),function(){with(Data.Cons)with(Data)with(Data.Error)with(Concurrent.Thread.Compiler)return function(){function t(t){this.label=t}function e(t){this.errorReporter=t instanceof ErrorReporter?t:c,this.ts=void 0,this.source=void 0,this.flaggedTokenBuffer=null,this.syntaxErrorCount=0,this.nestingOfFunction=0,this.nestingOfLoop=0,this.nestingOfSwitch=0,this.allLabelSet=null,this.loopLabelSet=null}var n;n="Concurrent.Thread.Compiler";var r=65535,o=65536,i=1<<17,a=Exception.extend(function(t,e){t(e)},{name:n+".ParserException"}),c=new ErrorReporter;c.error=function(t,e,n,r){throw new SyntaxError("("+e+", "+r+"): "+t+"\nline: "+n)};var h=e.prototype;return h.getMessage=function(t){return t},h.addWarning=function(t){this.errorReporter.warning(this.getMessage.apply(this,arguments),this.ts.getLineno(),this.ts.getLine(),this.ts.getOffset())},h.addError=function(t){++this.syntaxErrorCount,this.errorReporter.error(this.getMessage.apply(this,arguments),this.ts.getLineno(),this.ts.getLine(),this.ts.getOffset())},h.reportError=function(t){throw this.addError.apply(this,arguments),new a},h.peekToken=function(){var t;if(this.flaggedTokenBuffer.isEmpty()){if(t=this.ts.getToken(),t===Token.EOL){do t=this.ts.getToken();while(t===Token.EOL);t|=o}this.flaggedTokenBuffer.push(t)}else t=this.flaggedTokenBuffer.peek();return t&r},h.peekFlaggedToken=function(){return this.peekToken(),this.flaggedTokenBuffer.peek()},h.consumeToken=function(){this.flaggedTokenBuffer.pop()},h.nextToken=function(){var t=this.peekToken();return this.consumeToken(),t},h.nextFlaggedToken=function(){this.peekToken();var t=this.flaggedTokenBuffer.peek();return this.consumeToken(),t},h.matchToken=function(t){return this.peekToken()!==t?!1:(this.consumeToken(),!0)},h.peekTokenOrEOL=function(){var t=this.peekToken();return this.flaggedTokenBuffer.peek()&o?Token.EOL:t},h.ungetToken=function(t){this.flaggedTokenBuffer.push(t)},h.setCheckForLabel=function(){var t=this.flaggedTokenBuffer.pop();if((t&r)!==Token.NAME)throw Kit.codeBug();this.flaggedTokenBuffer.push(t|i)},h.mustMatchToken=function(t,e){if(!this.matchToken(t)){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);this.reportError.apply(this,n)}},h.eof=function(){return this.ts.eof()},h.insideFunction=function(){return 0!==this.nestingOfFunction},h.insideLoop=function(){return 0!==this.nestingOfLoop},h.enterLoop=function(t){for(var e=0;e<t.length;e++)this.loopLabelSet.add(t[e]);this.nestingOfLoop++},h.exitLoop=function(t){for(var e=0;e<t.length;e++)this.loopLabelSet.remove(t[e]);this.nestingOfLoop--},h.parse=function(t,e,n){this.ts=new TokenStream(this,t,e),this.source=n,this.flaggedTokenBuffer=new Stack,this.syntaxErrorCount=0,this.nestingOfFunction=0,this.nestingOfLoop=0,this.nestingOfSwitch=0,this.allLabelSet=new IdentifierSet,this.loopLabelSet=new IdentifierSet;try{var r=this.statements();this.mustMatchToken(Token.EOF,"msg.syntax")}catch(o){if(!(o instanceof a))throw o}if(this.syntaxErrorCount){var i="msg.got.syntax.errors";throw this.addError(i),new SyntaxError(this.getMessage("msg.got.syntax.errors"))}return this.ts=null,r},h.statements=function(){var t,e;e=t=cons(null,nil());t:for(;;){var n;switch(this.peekToken()){case Token.ERROR:case Token.EOF:case Token.RC:break t;case Token.FUNCTION:this.consumeToken(),n=this.functionDecl([]);break;default:n=this.statement()}e=e.cdr=cons(n,e.cdr)}return t.cdr},h.functionDecl=function(t){var e=this.ts.getLineno();this.mustMatchToken(Token.NAME,"msg.no.func.name");var n=new Identifier(this.ts.getString()),r=this.parameterList(),o=this.functionBody();return new FunctionDeclaration(t,n,r,o,e,this.source)},h.functionExpr=function(){var t=null;this.matchToken(Token.NAME)&&(t=new Identifier(this.ts.getString()));var e=this.parameterList(),n=this.functionBody();return new FunctionExpression(t,e,n)},h.parameterList=function(){if(this.mustMatchToken(Token.LP,"msg.no.paren.parms"),this.matchToken(Token.RP))return[];var t=[],e=new IdentifierSet;do{this.mustMatchToken(Token.NAME,"msg.no.parm");var n=new Identifier(this.ts.getString());e.contains(n)&&this.addWarning("msg.dup.parms",s),t.push(n),e.add(n)}while(this.matchToken(Token.COMMA));return this.mustMatchToken(Token.RP,"msg.no.paren.after.parms"),t},h.functionBody=function(){this.mustMatchToken(Token.LC,"msg.no.brace.body");var t=this.allLabelSet,e=this.loopLabelSet,n=this.nestingOfLoop,r=this.nestingOfSwitch;this.allLabelSet=new IdentifierSet,this.loopLabelSet=new IdentifierSet,this.nestingOfLoop=0,this.nestingOfSwitch=0,this.nestingOfFunction++;try{var o=this.statements()}catch(i){if(!(i instanceof a))throw i}finally{this.allLabelSet=t,this.loopLabelSet=e,this.nestingOfLoop=n,this.nestingOfSwitch=r,this.nestingOfFunction--}return this.mustMatchToken(Token.RC,"msg.no.brace.after.body"),o},h.statement=function(){try{var t=this.statementHelper([]);if(null!=t)return t}catch(e){if(!(e instanceof a))throw e}t:for(;;){var n=this.peekTokenOrEOL();switch(this.consumeToken(),n){case Token.ERROR:case Token.EOF:case Token.EOL:case Token.SEMI:break t}}return null},h.statementHelper=function(e){var n=null;switch(this.peekToken()){case Token.IF:this.consumeToken();var r=this.ts.getLineno(),o=this.condition(),i=this.statement();return this.matchToken(Token.ELSE)?new IfElseStatement(e,o,i,this.statement(),r,this.source):new IfStatement(e,o,i,r,this.source);case Token.SWITCH:this.consumeToken();var r=this.ts.getLineno();this.mustMatchToken(Token.LP,"msg.no.paren.switch");var s=this.expr(!1);this.mustMatchToken(Token.RP,"msg.no.paren.after.switch"),this.mustMatchToken(Token.LC,"msg.no.brace.switch");var a=new SwitchStatement(e,s,nil(),r,this.source),c=cons(nil(),nil()),h=c;this.nestingOfSwitch++;try{var u=!1;t:for(;;){var p,r=this.ts.getLineno();switch(this.nextToken()){case Token.RC:break t;case Token.CASE:p=this.expr(!1),this.mustMatchToken(Token.COLON,"msg.no.colon.case");break;case Token.DEFAULT:u&&this.reportError("msg.double.switch.default"),u=!0,p=null,this.mustMatchToken(Token.COLON,"msg.no.colon.case");break;default:this.reportError("msg.bad.switch");break t}var l=p?new CaseClause(p,this.statementsInSwitch(),r,this.source):new DefaultClause(this.statementsInSwitch(),r,this.source);h=h.cdr=cons(l,h.cdr)}}finally{this.nestingOfSwitch--}return a.clauses=c.cdr,a;case Token.WHILE:this.consumeToken();var r=this.ts.getLineno();this.enterLoop(e);try{return new WhileStatement(e,this.condition(),this.statement(),r,this.source)}finally{this.exitLoop(e)}case Token.DO:this.consumeToken();var r=this.ts.getLineno();this.enterLoop(e);try{var f=this.statement()}finally{this.exitLoop(e)}this.mustMatchToken(Token.WHILE,"msg.no.while.do");var o=this.condition();return this.matchToken(Token.SEMI),new DoWhileStatement(e,f,o,r,this.source);case Token.FOR:this.consumeToken();var d,o,f,r=this.ts.getLineno(),C=null,E=!1,T=!1,m=!1;this.matchToken(Token.NAME)&&("each"===this.ts.getString()?E=!0:this.reportError("msg.no.paren.for")),this.mustMatchToken(Token.LP,"msg.no.paren.for");var g=this.peekToken();g===Token.SEMI?d=null:g===Token.VAR?(this.consumeToken(),d=this.variables(!0),m=!0):d=this.expr(!0),this.matchToken(Token.IN)?(T=!0,o=this.expr(!1)):(this.mustMatchToken(Token.SEMI,"msg.no.semi.for"),o=this.peekToken()===Token.SEMI?null:this.expr(!1),this.mustMatchToken(Token.SEMI,"msg.no.semi.for.cond"),C=this.peekToken()===Token.RP?null:this.expr(!1)),this.mustMatchToken(Token.RP,"msg.no.paren.for.ctrl"),this.enterLoop(e);try{f=this.statement()}finally{this.exitLoop(e)}return T?m?(1!=d.length&&this.reportError("msg.mult.index"),E?new ForEachVarStatement(e,d[0],o,f,r,this.source):new ForInVarStatement(e,d[0],o,f,r,this.source)):(d.hasLvalue()||this.reportError("msg.bad.for.in.lhs"),E?new ForEachStatement(e,d,o,f,r,this.source):new ForInStatement(e,d,o,f,r,this.source)):m?new ForVarStatement(e,d,o,C,f,r,this.source):new ForStatement(e,d,o,C,f,r,this.source);case Token.TRY:this.consumeToken();var r=this.ts.getLineno(),y=this.statement();y instanceof Block||(this.addWarning("msg.no.brace.tryblock"),y=new Block([],cons(y,nil()),y.lineno,y.source));var v,w=v=cons(null,nil()),S=!1,x=this.peekToken();if(x===Token.CATCH)for(;this.matchToken(Token.CATCH);){S&&this.reportError("msg.catch.unreachable");var k=this.ts.getLineno();this.mustMatchToken(Token.LP,"msg.no.paren.catch"),this.mustMatchToken(Token.NAME,"msg.bad.catchcond");var D=new Identifier(this.ts.getString()),o=null;this.matchToken(Token.IF)?o=this.expr(!1):S=!0,this.mustMatchToken(Token.RP,"msg.bad.catchcond"),this.mustMatchToken(Token.LC,"msg.no.brace.catchblock");var b=new Block([],this.statements(),k,this.source);this.mustMatchToken(Token.RC,"msg.no.brace.after.body");var _=new CatchGuard(D,o,b,k,this.source);w=w.cdr=cons(_,w.cdr)}else x!==Token.FINALLY&&this.mustMatchToken(Token.FINALLY,"msg.try.no.catchfinally");v=v.cdr;var I=null;return this.matchToken(Token.FINALLY)&&(I=this.statement(),I instanceof Block||(this.addWarning("msg.no.brace.finallyblock"),I=new Block([],cons(I,nil()),I.lineno,I.source))),I?new TryCatchListFinallyStatement(e,y,v,I,r,this.source):new TryCatchListStatement(e,y,v,r,this.source);case Token.THROW:this.consumeToken(),this.peekTokenOrEOL()===Token.EOL&&this.reportError("msg.bad.throw.eol");var r=this.ts.getLineno();n=new ThrowStatement(e,this.expr(!1),r,this.source);break;case Token.BREAK:this.consumeToken();var r=this.ts.getLineno(),O=this.matchJumpLabelName(Token.BREAK);null==O&&(this.nestingOfLoop||this.nestingOfSwitch||this.reportError("msg.bad.break")),n=new BreakStatement(e,O,r,this.source);break;case Token.CONTINUE:this.consumeToken();var r=this.ts.getLineno(),O=this.matchJumpLabelName(Token.CONTINUE);null==O&&(this.nestingOfLoop||reportError("msg.continue.outside")),n=new ContinueStatement(e,O,r,this.source);break;case Token.WITH:this.consumeToken();var r=this.ts.getLineno();this.mustMatchToken(Token.LP,"msg.no.paren.with");var s=this.expr(!1);this.mustMatchToken(Token.RP,"msg.no.paren.after.with");var f=this.statement();return new WithStatement(e,s,f,r,this.source);case Token.VAR:this.consumeToken(),n=new VarStatement(e,this.variables(!1),r,this.source);break;case Token.RETURN:this.insideFunction()||this.reportError("msg.bad.return"),this.consumeToken();var s,r=this.ts.getLineno();switch(this.peekTokenOrEOL()){case Token.SEMI:case Token.RC:case Token.EOF:case Token.EOL:case Token.ERROR:s=null;break;default:s=this.expr(!1)}n=new ReturnStatement(e,s,r,this.source);break;case Token.LC:this.consumeToken();var b=new Block(e,this.statements(),r,this.source);return this.mustMatchToken(Token.RC,"msg.no.brace.block"),b;case Token.ERROR:case Token.SEMI:return this.consumeToken(),new EmptyStatement(e,r,this.source);case Token.FUNCTION:return this.consumeToken(),this.functionDecl(e);case Token.DEFAULT:this.consumeToken(),this.reportError("msg.XML.not.available");case Token.NAME:var r=this.ts.getLineno();this.setCheckForLabel();try{n=new ExpStatement(e,this.expr(!1),r,this.source)}catch(L){if(L instanceof t){this.allLabelSet.contains(L.label)&&this.reportError("msg.dup.label"),this.allLabelSet.add(L.label),e.push(L.label);try{n=this.statementHelper(e)}finally{this.allLabelSet.remove(L.label)}return n}throw L}break;default:var r=this.ts.getLineno();n=new ExpStatement(e,this.expr(!1),r,this.source)}switch(this.peekTokenOrEOL()){case Token.SEMI:this.consumeToken();break;case Token.ERROR:case Token.EOF:case Token.EOL:case Token.RC:break;default:this.reportError("msg.no.semi.stmt")}return n},h.condition=function(){this.mustMatchToken(Token.LP,"msg.no.paren.cond");var t=this.expr(!1);return this.mustMatchToken(Token.RP,"msg.no.paren.after.cond"),t instanceof SimpleAssignExpression&&this.addWarning("msg.assign.cond"),t},h.matchJumpLabelName=function(t){if(this.peekTokenOrEOL()!==Token.NAME)return null;var e=new Identifier(this.ts.getString());switch(this.consumeToken(),t){case Token.CONTINUE:this.loopLabelSet.contains(e)||this.reportError("msg.undef.label");break;case Token.BREAK:this.allLabelSet.contains(e)||this.reportError("msg.undef.label");break;default:throw Kit.codeBug()}return e},h.statementsInSwitch=function(){var t,e;
t=e=cons(null,nil());t:for(;;)switch(this.peekToken()){case Token.ERROR:case Token.EOF:case Token.RC:case Token.CASE:break t;case Token.DEFAULT:this.consumeToken();var n=this.peekToken();if(this.ungetToken(Token.DEFAULT),n===Token.COLON)break t;default:e=e.cdr=cons(this.statement(),e.cdr)}return t.cdr},h.variables=function(t){for(var e=[];;){this.mustMatchToken(Token.NAME,"msg.bad.var");var n=new Identifier(this.ts.getString()),r=this.matchToken(Token.ASSIGN)?this.assignExpr(t):null;if(e.push({id:n,exp:r}),!this.matchToken(Token.COMMA))break}return e},h.expr=function(t){for(var e=this.assignExpr(t);this.matchToken(Token.COMMA);)e=new CommaExpression(e,this.assignExpr(t));return e},h.assignExpr=function(t){var e=this.condExpr(t),n=this.peekToken();if(n<Token.FIRST_ASSIGN||Token.LAST_ASSIGN<n)return e;switch(e.hasLvalue()||this.reportError("msg.bad.assign.left"),this.nextToken()){case Token.ASSIGN:return new SimpleAssignExpression(e,this.assignExpr(t));case Token.ASSIGN_BITOR:return new BitOrAssignExpression(e,this.assignExpr(t));case Token.ASSIGN_BITXOR:return new BitXorAssignExpression(e,this.assignExpr(t));case Token.ASSIGN_BITAND:return new BitAndAssignExpression(e,this.assignExpr(t));case Token.ASSIGN_LSH:return new LShiftAssignExpression(e,this.assignExpr(t));case Token.ASSIGN_RSH:return new RShiftAssignExpression(e,this.assignExpr(t));case Token.ASSIGN_URSH:return new URShiftAssignExpression(e,this.assignExpr(t));case Token.ASSIGN_ADD:return new AddAssignExpression(e,this.assignExpr(t));case Token.ASSIGN_SUB:return new SubAssignExpression(e,this.assignExpr(t));case Token.ASSIGN_MUL:return new MulAssignExpression(e,this.assignExpr(t));case Token.ASSIGN_DIV:return new DivAssignExpression(e,this.assignExpr(t));case Token.ASSIGN_MOD:return new ModAssignExpression(e,this.assignExpr(t));default:throw Kit.codeBug()}},h.condExpr=function(t){var e=this.orExpr(t);if(!this.matchToken(Token.HOOK))return e;var n=this.assignExpr(!1);this.mustMatchToken(Token.COLON,"msg.no.colon.cond");var r=this.assignExpr(t);return new ConditionalExpression(e,n,r)},h.orExpr=function(t){for(var e=this.andExpr(t);this.matchToken(Token.OR);)e=new OrExpression(e,this.andExpr(t));return e},h.andExpr=function(t){for(var e=this.bitOrExpr(t);this.matchToken(Token.AND);)e=new AndExpression(e,this.bitOrExpr(t));return e},h.bitOrExpr=function(t){for(var e=this.bitXorExpr(t);this.matchToken(Token.BITOR);)e=new BitOrExpression(e,this.bitXorExpr(t));return e},h.bitXorExpr=function(t){for(var e=this.bitAndExpr(t);this.matchToken(Token.BITXOR);)e=new BitXorExpression(e,this.bitAndExpr(t));return e},h.bitAndExpr=function(t){for(var e=this.eqExpr(t);this.matchToken(Token.BITAND);)e=new BitAndExpression(e,this.eqExpr(t));return e},h.eqExpr=function(t){for(var e=this.relExpr(t);;){var n;switch(this.peekToken()){case Token.EQ:n=EqualExpression;break;case Token.NE:n=NotEqualExpression;break;case Token.SHEQ:n=StrictEqualExpression;break;case Token.SHNE:n=StrictNotEqualExpression;break;default:return e}this.consumeToken(),e=new n(e,this.relExpr(t))}},h.relExpr=function(t){for(var e=this.shiftExpr();;){var n;switch(this.peekToken()){case Token.IN:if(t)return e;n=InExpression;break;case Token.INSTANCEOF:n=InstanceofExpression;break;case Token.LE:n=LessEqualExpression;break;case Token.LT:n=LessThanExpression;break;case Token.GE:n=GreaterEqualExpression;break;case Token.GT:n=GreaterThanExpression;break;default:return e}this.consumeToken(),e=new n(e,this.shiftExpr())}},h.shiftExpr=function(){for(var t=this.addExpr();;){var e;switch(this.peekToken()){case Token.LSH:e=LShiftExpression;break;case Token.RSH:e=RShiftExpression;break;case Token.URSH:e=URShiftExpression;break;default:return t}this.consumeToken(),t=new e(t,this.addExpr())}},h.addExpr=function(){for(var t=this.mulExpr();;){var e;switch(this.peekToken()){case Token.ADD:e=AddExpression;break;case Token.SUB:e=SubExpression;break;default:return t}this.consumeToken(),t=new e(t,this.mulExpr())}},h.mulExpr=function(){for(var t=this.unaryExpr();;){var e;switch(this.peekToken()){case Token.MUL:e=MulExpression;break;case Token.DIV:e=DivExpression;break;case Token.MOD:e=ModExpression;break;default:return t}this.consumeToken(),t=new e(t,this.unaryExpr())}},h.unaryExpr=function(){var t,e=null;switch(this.peekToken()){case Token.VOID:t=VoidExpression;break;case Token.NOT:t=NotExpression;break;case Token.BITNOT:t=BitNotExpression;break;case Token.TYPEOF:t=TypeofExpression;break;case Token.ADD:t=PosExpression;break;case Token.SUB:t=NegExpression;break;case Token.INC:t=PreIncExpression,e="msg.bad.incr";break;case Token.DEC:t=PreDecExpression,e="msg.bad.decr";break;case Token.DELPROP:t=DeleteExpression;break;default:var n=this.memberExpr(!0);switch(this.peekTokenOrEOL()){case Token.INC:return n.hasLvalue()||this.reportError("msg.bad.incr"),this.consumeToken(),new PostIncExpression(n);case Token.DEC:return n.hasLvalue()||this.reportError("msg.bad.decr"),this.consumeToken(),new PostDecExpression(n);default:return n}}this.consumeToken();var n=this.unaryExpr();return e&&!n.hasLvalue()&&this.reportError(e),new t(n)},h.argumentList=function(){if(this.matchToken(Token.RP))return[];var t=[];do t.push(this.assignExpr(!1));while(this.matchToken(Token.COMMA));return this.mustMatchToken(Token.RP,"msg.no.paren.arg"),t},h.memberExpr=function(t){var e;if(this.matchToken(Token.NEW)){var n=this.memberExpr(!1),r=this.matchToken(Token.LP)?this.argumentList():[];e=new NewExpression(n,r)}else e=this.primaryExpr();return this.memberExprTail(t,e)},h.memberExprTail=function(t,e){t:for(;;)switch(this.peekToken()){case Token.DOTDOT:this.reportError("msg.XML.not.available");case Token.DOT:switch(this.consumeToken(),this.nextToken()){case Token.NAME:e=new DotAccessor(e,new Identifier(this.ts.getString()));break;case Token.MUL:this.reportError("msg.XML.not.available");case Token.XMLATTR:this.reportError("msg.XML.not.available");default:this.reportError("msg.no.name.after.dot")}break;case Token.DOTQUERY:this.reportError("msg.XML.not.available");case Token.LB:this.consumeToken(),e=new BracketAccessor(e,this.expr(!1)),this.mustMatchToken(Token.RB,"msg.no.bracket.index");break;case Token.LP:if(!t)break t;this.consumeToken(),e=new CallExpression(e,this.argumentList());break;default:break t}return e},h.primaryExpr=function(){var e,n=this.nextFlaggedToken(),o=n&r;switch(o){case Token.FUNCTION:return this.functionExpr();case Token.LB:var s=[];t:for(;;)switch(this.peekToken()){case Token.RB:this.consumeToken();break t;case Token.COMMA:for(;this.matchToken(Token.COMMA);)s.push(new Elision);break;default:if(s.push(this.assignExpr(!1)),this.matchToken(Token.COMMA))continue t;if(this.matchToken(Token.RB))break t;this.reportError("msg.no.bracket.arg")}return new ArrayInitializer(s);case Token.LC:var a=[];t:do{var c;switch(this.peekToken()){case Token.NAME:this.consumeToken(),c=new Identifier(this.ts.getString());break;case Token.STRING:this.consumeToken(),c=new StringLiteral(this.ts.getString());break;case Token.NUMBER:this.consumeToken(),c=new NumberLiteral(this.ts.getString());break;case Token.RC:break t;default:this.reportError("msg.bad.prop");break t}this.mustMatchToken(Token.COLON,"msg.no.colon.prop"),a.push({prop:c,exp:this.assignExpr(!1)})}while(this.matchToken(Token.COMMA));return this.mustMatchToken(Token.RC,"msg.no.brace.prop"),new ObjectInitializer(a);case Token.LP:var e=this.expr(!1);return this.mustMatchToken(Token.RP,"msg.no.paren"),e;case Token.XMLATTR:this.reportError("msg.XML.not.available");case Token.NAME:var h=new Identifier(this.ts.getString());if(n&i&&this.matchToken(Token.COLON))throw new t(h);return h;case Token.NUMBER:return new NumberLiteral(this.ts.getString());case Token.STRING:return new StringLiteral(this.ts.getString());case Token.DIV:case Token.ASSIGN_DIV:return this.ts.readRegExp(o),new RegExpLiteral(this.ts.getString());case Token.NULL:return new NullLiteral;case Token.THIS:return new ThisExpression;case Token.TRUE:return new TrueLiteral;case Token.FALSE:return new FalseLiteral;case Token.RESERVED:this.reportError("msg.reserved.id");break;case Token.ERROR:break;case Token.EOF:this.reportError("msg.unexpected.eof");break;default:this.reportError("msg.syntax")}return null},{Parser:e}}()}.call(null))this.Concurrent.Thread.Compiler.Parser=Parser}.call(null),function(){with((!this.Concurrent||"object"!=typeof this.Concurrent&&"function"!=typeof this.Concurrent)&&(this.Concurrent=new Object),(!this.Concurrent.Thread||"object"!=typeof this.Concurrent.Thread&&"function"!=typeof this.Concurrent.Thread)&&(this.Concurrent.Thread=new Object),(!this.Concurrent.Thread.Compiler||"object"!=typeof this.Concurrent.Thread.Compiler&&"function"!=typeof this.Concurrent.Thread.Compiler)&&(this.Concurrent.Thread.Compiler=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Cons||"object"!=typeof this.Data.Cons&&"function"!=typeof this.Data.Cons)&&(this.Data.Cons=new Object),(!this.Data.Cons.Util||"object"!=typeof this.Data.Cons.Util&&"function"!=typeof this.Data.Cons.Util)&&(this.Data.Cons.Util=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Error||"object"!=typeof this.Data.Error&&"function"!=typeof this.Data.Error)&&(this.Data.Error=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Cons||"object"!=typeof this.Data.Cons&&"function"!=typeof this.Data.Cons)&&(this.Data.Cons=new Object),(!this.Concurrent||"object"!=typeof this.Concurrent&&"function"!=typeof this.Concurrent)&&(this.Concurrent=new Object),(!this.Concurrent.Thread||"object"!=typeof this.Concurrent.Thread&&"function"!=typeof this.Concurrent.Thread)&&(this.Concurrent.Thread=new Object),void 0===this.Concurrent.Thread.Compiler.CfConvert&&(this.Concurrent.Thread.Compiler.CfConvert=void 0),void 0===this.Concurrent.Thread.Compiler.CyclicExceptionHandlerError&&(this.Concurrent.Thread.Compiler.CyclicExceptionHandlerError=void 0),function(){with(Data.Cons.Util)with(Data.Cons)with(Data.Error)with(Concurrent.Thread)with(Concurrent.Thread.Compiler)return function(){function t(t){var n=new IdentifierMap,o=r(t.start,n),s=new IdentifierMap;n.values().forEach(function(t){s.put(new Identifier(t.id),t)});var a=cons(null,nil());return append=adder(a),e(s).forEach(function(t){return append(s.get(t))}),new i.Function(t.name,t.params,t.vars,a.cdr,o)}function e(t){var e=[],r=new IdentifierMap;return t.values().forEach(function(t){e.push(t),r.put(new Identifier(t.id),t.exception instanceof i.Block?new Identifier(t.exception.id):void 0)}),n(r)}function n(t){function e(r,o){if(n[r])return"OK";var i=t.get(r);return i?(o.forEach(function(t){if(t.valueOf()==r.valueOf())throw new a("cyclic exception handler: "+o.concat([r]).join(" -> "))}),o.push(r),e(i,o),n[r]=!0,"OK"):(n[r]=!0,o.push(r),"OK")}var n={},r=[];return t.keys().forEach(function(t){var n=[];e(t,n),r=n.concat(r)}),r.reverse()}function r(t,e){return"return"===t||"throw"===t?t:e.get(new Identifier(t.id))?e.get(new Identifier(t.id)):t[s](e)}var o;o="Concurrent.Thread.Compiler";var i=Concurrent.Thread.Compiler.IntermediateLanguage,s="$Concurrent_Thread_Compiler_Cf",a=Error.extend(function(t,e){t(e)},{name:o+".CyclicExceptionHandlerError"});return i.GotoBlock.prototype[s]=function(t){var e=new i.GotoBlock;return t.put(new Identifier(this.id),e),e.scopes=this.scopes.map(function(e){return e[s](t)}),e.body=this.body.map(function(e){return e[s](t)}),e.arg=this.arg[s](t),e.target=r(this.target,t),e.exception=r(this.exception,t),e},i.CallBlock.prototype[s]=function(t){var e=new i.CallBlock;return t.put(new Identifier(this.id),e),e.scopes=this.scopes.map(function(e){return e[s](t)}),e.body=this.body.map(function(e){return e[s](t)}),e.this_val=this.this_val[s](t),e.func=this.func[s](t),e.args=this.args.map(function(e){return e[s](t)}),e.target=r(this.target,t),e.exception=r(this.exception,t),e},i.NewBlock.prototype[s]=function(t){var e=new i.NewBlock;return t.put(new Identifier(this.id),e),e.scopes=this.scopes.map(function(e){return e[s](t)}),e.body=this.body.map(function(e){return e[s](t)}),e.func=this.func[s](t),e.args=this.args.map(function(e){return e[s](t)}),e.target=r(this.target,t),e.exception=r(this.exception,t),e},i.ExpStatement.prototype[s]=function(t){return new i.ExpStatement(this.exp[s](t))},i.CondStatement.prototype[s]=function(t){return new i.CondStatement(this.cond[s](t),r(this.target,t))},i.RecvStatement.prototype[s]=function(t){return new i.RecvStatement(this.assignee[s](t))},i.EnumStatement.prototype[s]=function(t){return new i.EnumStatement(this.exp[s](t),this.assignee[s](t))},Expression.prototype[s]=function(t){return this},UnaryExpression.prototype[s]=function(t){return new this.constructor(this.exp[s](t))},BinaryExpression.prototype[s]=function(t){return new this.constructor(this.left[s](t),this.right[s](t))},ArrayInitializer.prototype[s]=function(t){return new ArrayInitializer(this.elems.map(function(e){return e[s](t)}))},FunctionExpression.prototype[s]=function(t){return prepareTree(this)},ObjectInitializer.prototype[s]=function(t){return new ObjectInitializer(this.pairs.map(function(e){return{prop:e.prop,exp:e.exp[s](t)}}))},DotAccessor.prototype[s]=function(t){return new DotAccessor(this.base[s](t),this.prop)},ConditionalExpression.prototype[s]=function(t){return new ConditionalExpression(this.cond[s](t),this.texp[s](t),this.fexp[s](t))},{CfConvert:t,CyclicExceptionHandlerError:a}}()}.call(null))this.Concurrent.Thread.Compiler.CfConvert=CfConvert,this.Concurrent.Thread.Compiler.CyclicExceptionHandlerError=CyclicExceptionHandlerError}.call(null),function(){with((!this.Concurrent||"object"!=typeof this.Concurrent&&"function"!=typeof this.Concurrent)&&(this.Concurrent=new Object),(!this.Concurrent.Thread||"object"!=typeof this.Concurrent.Thread&&"function"!=typeof this.Concurrent.Thread)&&(this.Concurrent.Thread=new Object),(!this.Concurrent.Thread.Compiler||"object"!=typeof this.Concurrent.Thread.Compiler&&"function"!=typeof this.Concurrent.Thread.Compiler)&&(this.Concurrent.Thread.Compiler=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Functional||"object"!=typeof this.Data.Functional&&"function"!=typeof this.Data.Functional)&&(this.Data.Functional=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Cons||"object"!=typeof this.Data.Cons&&"function"!=typeof this.Data.Cons)&&(this.Data.Cons=new Object),void 0===this.Concurrent.Thread.Compiler.CsConvert&&(this.Concurrent.Thread.Compiler.CsConvert=void 0),function(){with(Data.Functional)with(Data.Cons)with(Concurrent.Thread.Compiler)return function(){function t(){this.stackVars=[],this.contBreak=new IdentifierMap,this.contContinue=new IdentifierMap,this.contReturn="return",this.contThrow="throw",this.scopes=[]}function e(e){var r=new t,o=new s.GotoBlock([],nil(),h,"return","throw");return e.body=n(e.body,list(o),r,0),e.start=e.body.car,e.vars=e.vars.concat(r.stackVars),e}function n(t,e,r,o){return t.isNil()?e:(e=n(t.cdr,e,r,o),t.car[a](e,r,o))}function r(t,e,n,r){if(t instanceof DotAccessor){var o=new DotAccessor(e.getStackVar(n),t.prop),i=r(o,n+1);return t.base[a](i,e,n)}if(t instanceof BracketAccessor){var o=new BracketAccessor(e.getStackVar(n),e.getStackVar(n+1)),i=r(o,n+2);return i=t.right[a](i,e,n+1),t.left[a](i,e,n)}if(t instanceof Identifier)return r(t,n);var i=r(e.getStackVar(n),n+1);return t[a](i,e,n)}function o(t,e){return new s.ExpStatement(new SimpleAssignExpression(t,e))}var i;i="Concurrent.Thread.Compiler";var s=Concurrent.Thread.Compiler.IntermediateLanguage,a="Concurrent.Thread.Compiler.CsConvert",c="$Concurrent_Thread_stack",h=new VoidExpression(new NumberLiteral(0)),u=new Identifier(""),p=t.prototype;return p.getStackVar=function(t){t=Math.floor(t),(isNaN(t)||0>t)&&Kit.codeBug("must be integer greater than zero");for(var e=this.stackVars.length;t>=e;e++)this.stackVars[e]=new Identifier(c+e);return this.stackVars[t]},p.putBreakLabels=function(t,e){if(!t.length)return this.contBreak;var n=this.contBreak;this.contBreak=this.contBreak.clone();for(var r=0;r<t.length;r++)this.contBreak.put(t[r],e);return n},p.putBreakAndContinueLabels=function(t,e,n){if(!t.length)return{contBreak:this.contBreak,contContinue:this.contContinue};var r={contBreak:this.contBreak,contContinue:this.contContinue};this.contBreak=this.contBreak.clone(),this.contContinue=this.contContinue.clone();for(var o=0;o<t.length;o++)this.contBreak.put(t[o],e),this.contContinue.put(t[o],n);return r},p.getScopes=function(){return this.scopes.slice(0,this.scopes.length)},p.pushScope=function(){return this.scopes.push.apply(this.scopes,arguments)},p.popScope=function(){return this.scopes.pop()},p.makeGotoBlock=function(t,e){return new s.GotoBlock(this.getScopes(),nil(),t,e,this.contThrow)},EmptyStatement.prototype[a]=function(t,e,n){return t},Block.prototype[a]=function(t,e,r){var o=e.putBreakLabels(this.labels,t.car);t=cons(e.makeGotoBlock(h,t.car),t);try{return n(this.body,t,e,r)}finally{e.contBreak=o}},ExpStatement.prototype[a]=function(t,e,n){return this.exp[a](t,e,n)},IfStatement.prototype[a]=function(t,e,n){var r=t.car;t=cons(e.makeGotoBlock(h,r),t);var o=e.putBreakLabels(this.labels,r);try{return t=this.body[a](t,e,n),t.car.prependStatement(new s.CondStatement(new NotExpression(e.getStackVar(n)),r)),this.cond[a](t,e,n)}finally{e.contBreak=o}},IfElseStatement.prototype[a]=function(t,e,n){var r=t.car;t=cons(e.makeGotoBlock(h,r),t);var o=e.putBreakLabels(this.labels,r);try{t=this.tbody[a](t,e,n);var i=t.car;return t=cons(e.makeGotoBlock(h,r),t),t=this.fbody[a](t,e,n),t.car.prependStatement(new s.CondStatement(e.getStackVar(n),i)),this.cond[a](t,e,n)}finally{e.contBreak=o}},DoWhileStatement.prototype[a]=function(t,e,n){var r=t.car,o=e.makeGotoBlock(h,null);t=cons(e.makeGotoBlock(h,r),t),this.cond.containsFunctionCall()?(t.car.prependStatement(new s.CondStatement(e.getStackVar(n),o)),t=this.cond[a](t,e,n)):t.car.prependStatement(new s.CondStatement(this.cond,o));var i=t.car;t=cons(e.makeGotoBlock(h,t.car),t);var c=e.putBreakAndContinueLabels(this.labels.concat(u),r,i);try{t=this.body[a](t,e,n)}finally{e.contBreak=c.contBreak,e.contContinue=c.contContinue}return o.target=t.car,cons(e.makeGotoBlock(h,o),cons(o,t))},WhileStatement.prototype[a]=function(t,e,n){var r=t.car,o=e.makeGotoBlock(h,null);t=cons(e.makeGotoBlock(h,o),t);var i=e.putBreakAndContinueLabels(this.labels.concat(u),r,o);try{t=this.body[a](t,e,n)}finally{e.contBreak=i.contBreak,e.contContinue=i.contContinue}return this.cond.containsFunctionCall()?(t.car.prependStatement(new s.CondStatement(new NotExpression(e.getStackVar(n)),r)),t=this.cond[a](t,e,n)):t.car.prependStatement(new s.CondStatement(new NotExpression(this.cond),r)),o.target=t.car,cons(e.makeGotoBlock(h,o),cons(o,t))},ForStatement.prototype[a]=function(t,e,n){var r=t.car,o=e.makeGotoBlock(h,null);t=cons(o,t),this.incr&&(t=this.incr[a](t,e,n));var i=t.car;t=cons(e.makeGotoBlock(h,t.car),t);var c=e.putBreakAndContinueLabels(this.labels.concat(u),r,i);try{t=this.body[a](t,e,n)}finally{e.contBreak=c.contBreak,e.contContinue=c.contContinue}return this.cond&&(this.cond.containsFunctionCall()?(t.car.prependStatement(new s.CondStatement(new NotExpression(e.getStackVar(n)),r)),t=this.cond[a](t,e,n)):t.car.prependStatement(new s.CondStatement(new NotExpression(this.cond),r))),o.target=t.car,t=cons(e.makeGotoBlock(h,t.car),t),this.init&&(t=this.init[a](t,e,n)),t},ForInStatement.prototype[a]=function(t,e,n){this.lhs.hasLvalue()||Kit.codeBug('for-in requires lvalue on the left hand side of "in": '+this);var i=t.car,c=e.makeGotoBlock(h,null);t=cons(e.makeGotoBlock(h,c),t);var p=e.putBreakAndContinueLabels(this.labels.concat(u),i,c);try{t=this.body[a](t,e,n+2)}finally{e.contBreak=p.contBreak,e.contContinue=p.contContinue}return this.lhs.containsFunctionCall()?t=r(this.lhs,e,n+2,function(r){return t.car.prependStatement(o(r,new BracketAccessor(e.getStackVar(n),new PostIncExpression(e.getStackVar(n+1))))),t}):t.car.prependStatement(o(this.lhs,new BracketAccessor(e.getStackVar(n),new PostIncExpression(e.getStackVar(n+1))))),t.car.prependStatement(new s.CondStatement(new GreaterEqualExpression(e.getStackVar(n+1),new DotAccessor(e.getStackVar(n),new Identifier("length"))),i)),c.target=t.car,t=cons(c,t),t=cons(e.makeGotoBlock(h,c),t),t.car.prependStatement(o(e.getStackVar(n+1),new NumberLiteral(0))),this.exp.containsFunctionCall()?(t.car.prependStatement(new s.EnumStatement(e.getStackVar(n),e.getStackVar(n))),t=this.exp[a](t,e,n)):t.car.prependStatement(new s.EnumStatement(this.exp,e.getStackVar(n))),t},ContinueStatement.prototype[a]=function(t,e,n){return cons(e.makeGotoBlock(h,e.contContinue.get(this.target?this.target:u)),t)},BreakStatement.prototype[a]=function(t,e,n){var r=e.putBreakLabels(this.labels,t.car);try{return cons(e.makeGotoBlock(h,e.contBreak.get(this.target?this.target:u)),t)}finally{e.contBreak=r}},ReturnStatement.prototype[a]=function(t,e,n){return this.exp?this.exp.containsFunctionCall()?(t=cons(e.makeGotoBlock(e.getStackVar(n),e.contReturn),t),this.exp[a](t,e,n)):cons(e.makeGotoBlock(this.exp,e.contReturn),t):cons(e.makeGotoBlock(h,e.contReturn),t)},WithStatement.prototype[a]=function(t,e,n){var r=t.car,o=e.putBreakLabels(this.labels,r);try{e.pushScope(e.getStackVar(n));try{t=cons(e.makeGotoBlock(h,r),t),t=this.body[a](t,e,n+1)}finally{e.popScope()}return t=cons(e.makeGotoBlock(h,t.car),t),this.exp[a](t,e,n)}finally{e.contBreak=o}},SwitchStatement.prototype[a]=function(t,e,r){var o=t.car,i=e.putBreakLabels(this.labels.concat(u),o);try{var c=o,p=this.clauses.reverse().map(function(o){t=cons(e.makeGotoBlock(h,t.car),t),t=n(o.body,t,e,r);var i=t.car;return o instanceof DefaultClause?(c=i,void ignore()):{cond:o.exp,target:i}});return t=cons(e.makeGotoBlock(h,c),t),p.forEach(function(n){n.cond.containsFunctionCall()?(t.car.prependStatement(new s.CondStatement(new StrictEqualExpression(e.getStackVar(r),e.getStackVar(r+1)),n.target)),t=n.cond[a](t,e,r+1)):t.car.prependStatement(new s.CondStatement(new StrictEqualExpression(e.getStackVar(r),n.cond),n.target))}),this.exp[a](t,e,r)}finally{e.contBreak=i}},ThrowStatement.prototype[a]=function(t,e,n){return this.exp.containsFunctionCall()?(t=cons(e.makeGotoBlock(e.getStackVar(n),e.contThrow),t),this.exp[a](t,e,n)):cons(e.makeGotoBlock(this.exp,e.contThrow),t)},TryCatchStatement.prototype[a]=function(t,e,n){var r=t.car;t=cons(e.makeGotoBlock(h,r),t);var o=e.putBreakLabels(this.labels,r);try{t=this.catchBlock[a](t,e,n),t.car.prependStatement(new s.RecvStatement(this.variable));var i=e.contThrow;e.contThrow=t.car;try{return t=cons(e.makeGotoBlock(h,r),t),this.tryBlock[a](t,e,n)}finally{e.contThrow=i}}finally{e.contBreak=o}},TryFinallyStatement.prototype[a]=function(t,e,n){var r=t.car;t=cons(e.makeGotoBlock(h,r),t);var o=e.putBreakLabels(this.labels,r);try{var i=this,c=new IdentifierMap;e.contBreak.keys().forEach(function(r){t=cons(e.makeGotoBlock(h,e.contBreak.get(r)),t),t=i.finallyBlock[a](t,e,n),c.put(r,t.car)});var u=new IdentifierMap;e.contContinue.keys().forEach(function(r){t=cons(e.makeGotoBlock(h,e.contContinue.get(r)),t),t=i.finallyBlock[a](t,e,n),u.put(r,t.car)}),t=cons(e.makeGotoBlock(e.getStackVar(n),e.contReturn),t),t=this.finallyBlock[a](t,e,n+1),t.car.prependStatement(new s.RecvStatement(e.getStackVar(n)));var p=t.car;t=cons(e.makeGotoBlock(e.getStackVar(n),e.contThrow),t),t=this.finallyBlock[a](t,e,n+1),t.car.prependStatement(new s.RecvStatement(e.getStackVar(n)));var l=t.car;t=cons(e.makeGotoBlock(h,r),t),t=this.finallyBlock[a](t,e,n);var f=e.contContinue,d=e.contReturn,C=e.contThrow;e.contBreak=c,e.contContinue=u,e.contReturn=p,e.contThrow=l;try{return this.tryBlock[a](t,e,n)}finally{e.contContinue=f,e.contReturn=d,e.contThrow=C}}finally{e.contBreak=o}},Expression.prototype[a]=function(t,e,n){return t.car.prependStatement(o(e.getStackVar(n),this)),t},ArrayInitializer.prototype[a]=function(t,e,n){for(var r=this.elems.length-1;r>=0&&!this.elems[r].containsFunctionCall();r--);r++;for(var i=[],s=0;r>s;s++)i[s]=e.getStackVar(n+s);for(;s<this.elems.length;s++)i[s]=this.elems[s];t.car.prependStatement(o(e.getStackVar(n),new ArrayInitializer(i)));for(var s=r-1;s>=0;s--)t=this.elems[s][a](t,e,n+s);return t},ObjectInitializer.prototype[a]=function(t,e,n){for(var r=this.pairs.length-1;r>=0&&!this.pairs[r].exp.containsFunctionCall();r--);r++;for(var i=[],s=0;r>s;s++)i[s]={prop:this.pairs[s].prop,exp:e.getStackVar(n+s)};for(;s<this.pairs.length;s++)i[s]=this.pairs[s];t.car.prependStatement(o(e.getStackVar(n),new ObjectInitializer(i)));for(var s=r-1;s>=0;s--)t=this.pairs[s].exp[a](t,e,n+s);return t},UnaryExpression.prototype[a]=function(t,e,n){return this.exp.containsFunctionCall()?(t.car.prependStatement(o(e.getStackVar(n),new this.constructor(e.getStackVar(n)))),this.exp[a](t,e,n)):Expression.prototype[a].apply(this,arguments)},BinaryExpression.prototype[a]=function(t,e,n){return this.right.containsFunctionCall()?(t.car.prependStatement(o(e.getStackVar(n),new this.constructor(e.getStackVar(n),e.getStackVar(n+1)))),t=this.right[a](t,e,n+1),this.left[a](t,e,n)):this.left.containsFunctionCall()?(t.car.prependStatement(o(e.getStackVar(n),new this.constructor(e.getStackVar(n),this.right))),this.left[a](t,e,n)):Expression.prototype[a].apply(this,arguments)},DotAccessor.prototype[a]=function(t,e,n){return this.base.containsFunctionCall()?(t.car.prependStatement(o(e.getStackVar(n),new DotAccessor(e.getStackVar(n),this.prop))),this.base[a](t,e,n)):Expression.prototype[a].apply(this,arguments)},CallExpression.prototype[a]=function(t,e,n){var o=this;return r(this.func,e,n,function(r,i){for(var c=o.args.length-1;c>=0&&!o.args[c].containsFunctionCall();c--);c++;for(var h=[],u=0;c>u;u++)h[u]=e.getStackVar(i+u);for(;u<o.args.length;u++)h[u]=o.args[u];t.car.prependStatement(new s.RecvStatement(e.getStackVar(n))),t=cons(new s.CallBlock(e.getScopes(),nil(),r instanceof DotAccessor?r.base:r instanceof BracketAccessor?r.left:new NullLiteral,r,h,t.car,e.contThrow),t);for(var u=c-1;u>=0;u--)t=o.args[u][a](t,e,i+u);return t})},NewExpression.prototype[a]=function(t,e,n){for(var r=this.args.length-1;r>=0&&!this.args[r].containsFunctionCall();r--);r++;for(var o=[],i=0;r>i;i++)o[i]=e.getStackVar(n+1+i);for(;i<this.args.length;i++)o[i]=this.args[i];t.car.prependStatement(new s.RecvStatement(e.getStackVar(n))),t=cons(new s.NewBlock(e.getScopes(),nil(),e.getStackVar(n),o,t.car,e.contThrow),t);for(var i=r-1;i>=0;i--)t=this.args[i][a](t,e,n+1+i);return this.func[a](t,e,n),t},AssignExpression.prototype[a]=function(t,e,n){var i=this;return this.right.containsFunctionCall()?r(this.left,e,n,function(r,s){return t.car.prependStatement(o(e.getStackVar(n),new i.constructor(r,e.getStackVar(s)))),i.right[a](t,e,s)}):this.left.containsFunctionCall()?r(this.left,e,n,function(r,s){return t.car.prependStatement(o(e.getStackVar(n),new i.constructor(r,i.right))),t}):Expression.prototype[a].apply(this,arguments)},AndExpression.prototype[a]=function(t,e,n){if(this.right.containsFunctionCall()){var r=t.car;return t=cons(e.makeGotoBlock(h,r),t),t=this.right[a](t,e,n),t.car.prependStatement(new s.CondStatement(new NotExpression(e.getStackVar(n)),r)),this.left[a](t,e,n)}return this.left.containsFunctionCall()?(t.car.prependStatement(o(e.getStackVar(n),new AndExpression(e.getStackVar(n),this.right))),this.left[a](t,e,n)):Expression.prototype[a].apply(this,arguments)},OrExpression.prototype[a]=function(t,e,n){if(this.right.containsFunctionCall()){var r=t.car;return t=cons(e.makeGotoBlock(h,r),t),t=this.right[a](t,e,n),t.car.prependStatement(new s.CondStatement(e.getStackVar(n),r)),this.left[a](t,e,n)}return this.left.containsFunctionCall()?(t.car.prependStatement(o(e.getStackVar(n),new OrExpression(e.getStackVar(n),this.right))),this.left[a](t,e,n)):Expression.prototype[a].apply(this,arguments)},ConditionalExpression.prototype[a]=function(t,e,n){if(this.texp.containsFunctionCall()||this.fexp.containsFunctionCall()){var r=t.car;t=cons(e.makeGotoBlock(h,r),t),t=this.texp[a](t,e,n);var i=t.car;return t=cons(e.makeGotoBlock(h,r),t),t=this.fexp[a](t,e,n),t.car.prependStatement(new s.CondStatement(e.getStackVar(n),i)),this.cond[a](t,e,n)}return this.cond.containsFunctionCall()?(t.car.prependStatement(o(e.getStackVar(n),new ConditionalExpression(e.getStackVar(n),this.texp,this.fexp))),this.cond[a](t,e,n)):Expression.prototype[a].apply(this,arguments)},{CsConvert:e}}()}.call(null))this.Concurrent.Thread.Compiler.CsConvert=CsConvert}.call(null),function(){with((!this.Concurrent||"object"!=typeof this.Concurrent&&"function"!=typeof this.Concurrent)&&(this.Concurrent=new Object),(!this.Concurrent.Thread||"object"!=typeof this.Concurrent.Thread&&"function"!=typeof this.Concurrent.Thread)&&(this.Concurrent.Thread=new Object),(!this.Concurrent.Thread.Compiler||"object"!=typeof this.Concurrent.Thread.Compiler&&"function"!=typeof this.Concurrent.Thread.Compiler)&&(this.Concurrent.Thread.Compiler=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Cons||"object"!=typeof this.Data.Cons&&"function"!=typeof this.Data.Cons)&&(this.Data.Cons=new Object),(!this.Data.Cons.Util||"object"!=typeof this.Data.Cons.Util&&"function"!=typeof this.Data.Cons.Util)&&(this.Data.Cons.Util=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Cons||"object"!=typeof this.Data.Cons&&"function"!=typeof this.Data.Cons)&&(this.Data.Cons=new Object),void 0===this.Concurrent.Thread.Compiler.CvConvert&&(this.Concurrent.Thread.Compiler.CvConvert=void 0),function(){with(Data.Cons.Util)with(Data.Cons)with(Concurrent.Thread.Compiler)return function(){function t(t){function e(){return o.add.apply(o,arguments)}for(var o=new IdentifierSet,i=cons(null,nil()),s=adder(i),a=t.body;!a.isNil();a=a.cdr)a.car=a.car[r](e,s);return new n.Function(t.name,t.params,o.toArray(),concat(i,t.body).cdr)}var e;e="Concurrent.Thread.Compiler";var n=IntermediateLanguage,r="$Concurrent_Thread_Compiler_CvConvert";return Statement.prototype[r]=function(t,e){return this},Block.prototype[r]=function(t,e){for(var n=this.body;!n.isNil();n=n.cdr)n.car=n.car[r](t,e);return this},VarStatement.prototype[r]=function(t,e){for(var n=[],r=0;r<this.decls.length;r++)t(this.decls[r].id),this.decls[r].exp&&n.push(new SimpleAssignExpression(this.decls[r].id,this.decls[r].exp));if(n.length){for(var o=n[0],r=1;r<n.length;r++)o=new CommaExpression(o,n[r]);return new ExpStatement([],o,this.lineno,this.source)}return new EmptyStatement([],this.lineno,this.source)},IfStatement.prototype[r]=function(t,e){return this.body=this.body[r](t,e),this},IfElseStatement.prototype[r]=function(t,e){return this.tbody=this.tbody[r](t,e),this.fbody=this.fbody[r](t,e),this},DoWhileStatement.prototype[r]=IfStatement.prototype[r],WhileStatement.prototype[r]=IfStatement.prototype[r],ForStatement.prototype[r]=IfStatement.prototype[r],ForVarStatement.prototype[r]=function(t,e){var n=new VarStatement([],this.decls)[r](t,e);return n=n instanceof EmptyStatement?null:n.exp,new ForStatement(this.labels,n,this.cond,this.incr,this.body[r](t,e),this.lineno,this.source)},ForInStatement.prototype[r]=IfStatement.prototype[r],ForInVarStatement.prototype[r]=function(t,e){t(this.decl.id);var n=new ForInStatement(this.labels,this.decl.id,this.exp,this.body[r](t,e),this.lineno,this.source);return this.decl.exp?new Block([],list(new ExpStatement([],new SimpleAssignExpression(this.decl.id,this.decl.exp),this.lineno,this.source),n),this.lineno,this.source):n},ForEachStatement.prototype[r]=IfStatement.prototype[r],ForEachVarStatement.prototype[r]=ForInVarStatement.prototype[r],WithStatement.prototype[r]=IfStatement.prototype[r],SwitchStatement.prototype[r]=function(t,e){for(var n=this.clauses;!n.isNil();n=n.cdr)n.car=n.car[r](t,e);return this},CaseClause.prototype[r]=Block.prototype[r],
DefaultClause.prototype[r]=Block.prototype[r],TryCatchStatement.prototype[r]=function(t,e){return t(this.variable),this.tryBlock=this.tryBlock[r](t,e),this.catchBlock=this.catchBlock[r](t,e),this},TryFinallyStatement.prototype[r]=function(t,e){return this.tryBlock=this.tryBlock[r](t,e),this.finallyBlock=this.finallyBlock[r](t,e),this},TryCatchFinallyStatement.prototype[r]=function(t,e){return t(this.variable),this.tryBlock=this.tryBlock[r](t,e),this.catchBlock=this.catchBlock[r](t,e),this.finallyBlock=this.finallyBlock[r](t,e),this},FunctionDeclaration.prototype[r]=function(t,e){return t(this.name),e(new ExpStatement([],new SimpleAssignExpression(this.name,new FunctionExpression(null,this.params,this.body)),this.lineno,this.source)),new EmptyStatement([])},{CvConvert:t}}()}.call(null))this.Concurrent.Thread.Compiler.CvConvert=CvConvert}.call(null),function(){with((!this.Concurrent||"object"!=typeof this.Concurrent&&"function"!=typeof this.Concurrent)&&(this.Concurrent=new Object),(!this.Concurrent.Thread||"object"!=typeof this.Concurrent.Thread&&"function"!=typeof this.Concurrent.Thread)&&(this.Concurrent.Thread=new Object),(!this.Concurrent.Thread.Compiler||"object"!=typeof this.Concurrent.Thread.Compiler&&"function"!=typeof this.Concurrent.Thread.Compiler)&&(this.Concurrent.Thread.Compiler=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Cons||"object"!=typeof this.Data.Cons&&"function"!=typeof this.Data.Cons)&&(this.Data.Cons=new Object),(!this.Data.Cons.Util||"object"!=typeof this.Data.Cons.Util&&"function"!=typeof this.Data.Cons.Util)&&(this.Data.Cons.Util=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Cons||"object"!=typeof this.Data.Cons&&"function"!=typeof this.Data.Cons)&&(this.Data.Cons=new Object),void 0===this.Concurrent.Thread.Compiler.CzConvert&&(this.Concurrent.Thread.Compiler.CzConvert=void 0),function(){with(Data.Cons.Util)with(Data.Cons)with(Concurrent.Thread.Compiler)return function(){function t(t){var n=e(t);return new FunctionExpression(null,[p,l,f],list(new ReturnStatement([],new CallExpression(new DotAccessor(n,g),[p,l]))))}function e(t){var e=t.body.map(function(t){return t[h]()});return e=cons(n(t.vars),cons(x,cons(r(l,T),cons(r(k,d),e)))),adder(e)(i(t.start)),new FunctionExpression(null,t.params,e)}function n(t){if(!t.length)return new EmptyStatement([]);var e=[];return t.forEach(function(t){e.push({id:t,exp:null})}),new VarStatement([],e)}function r(t,e){return new ExpStatement([],new SimpleAssignExpression(t,e))}function o(t){return t instanceof c.Block?new Identifier(u+t.id):"return"===t?f:"throw"===t?D:void Kit.codeBug("invalid target")}function i(t,e){return new ReturnStatement([],new ObjectInitializer([{prop:_,exp:o(t)},{prop:O,exp:e||b},{prop:I,exp:b}]))}function s(t,e){e=new Block([],e);for(var n=t.scopes.length-1;n>=0;n--)e=new WithStatement([],t.scopes[n],e);return new VarStatement([],[{id:o(t),exp:new ObjectInitializer([{prop:y,exp:new FunctionExpression(null,[E],list(L,e))},{prop:v,exp:new ThisExpression},{prop:w,exp:o(t.exception)}])}])}var a;a="Concurrent.Thread.Compiler";var c=Concurrent.Thread.Compiler.IntermediateLanguage,h="$Concurrent_Thread_Compiler_CzConvert",u="$Concurrent_Thread_",p=new Identifier(u+"this"),l=new Identifier(u+"arguments"),f=new Identifier(u+"continuation"),d=new Identifier(u+"self"),C=new Identifier(u+"compiled"),E=new Identifier(u+"intermediate"),T=new Identifier("arguments"),m=new Identifier("prototype"),g=new Identifier("apply"),y=new Identifier("procedure"),v=new Identifier("this_val"),w=new Identifier("exception"),S=new Identifier(u+"null_function"),x=new FunctionDeclaration([],S,[],nil()),k=new DotAccessor(T,new Identifier("callee")),D=new DotAccessor(f,w),b=new VoidExpression(new Literal(0)),_=new Identifier("continuation"),I=new Identifier("timeout"),O=new Identifier("ret_val"),L=r(T,l);c.GotoBlock.prototype[h]=function(){var t=this.body.map(function(t){return t[h]()});return t=cons(null,t),adder(t)(i(this.target,this.arg)),s(this,t.cdr)};var A=new StringLiteral('"object"'),j=new StringLiteral('"function"');c.CallBlock.prototype[h]=function(){var t=this.body.map(function(t){return t[h]()});return t=cons(null,t),adder(t)(new IfElseStatement([],new AndExpression(this.func,new StrictEqualExpression(new TypeofExpression(new DotAccessor(this.func,C)),j)),new ReturnStatement([],new CallExpression(new DotAccessor(this.func,C),[this.this_val,new ArrayInitializer(this.args),o(this.target)])),i(this.target,new CallExpression(this.func,this.args)))),s(this,t.cdr)},c.NewBlock.prototype[h]=function(){var t=this.body.map(function(t){return t[h]()});return t=cons(null,t),adder(t)(new IfElseStatement([],new AndExpression(this.func,new StrictEqualExpression(new TypeofExpression(new DotAccessor(this.func,C)),j)),new Block([],list(r(new DotAccessor(S,m),new DotAccessor(this.func,m)),r(p,new NewExpression(S,[])),new ReturnStatement([],new CallExpression(new DotAccessor(this.func,C),[p,new ArrayInitializer(this.args),new ObjectInitializer([{prop:y,exp:new FunctionExpression(null,[E],list(new IfStatement([],new NotExpression(new AndExpression(E,new OrExpression(new StrictEqualExpression(new TypeofExpression(E),A),new StrictEqualExpression(new TypeofExpression(E),j)))),r(E,p)),r(p,new NullLiteral),i(this.target,E)))},{prop:v,exp:new ThisExpression},{prop:w,exp:o(this.exception)}])])))),i(this.target,new NewExpression(this.func,this.args)))),s(this,t.cdr)},c.ExpStatement.prototype[h]=function(){return new ExpStatement([],this.exp)},c.CondStatement.prototype[h]=function(){return new IfStatement([],this.cond,i(this.target))},c.RecvStatement.prototype[h]=function(){return r(this.assignee,E)};var B=new Identifier("push");return c.EnumStatement.prototype[h]=function(){return new Block([],list(r(p,new ArrayInitializer([])),new ForInStatement([],E,this.exp,new ExpStatement([],new CallExpression(new DotAccessor(p,B),[E]))),r(this.assignee,p),r(p,new NullLiteral)))},{CzConvert:t}}()}.call(null))this.Concurrent.Thread.Compiler.CzConvert=CzConvert}.call(null),function(){with((!this.Concurrent||"object"!=typeof this.Concurrent&&"function"!=typeof this.Concurrent)&&(this.Concurrent=new Object),(!this.Concurrent.Thread||"object"!=typeof this.Concurrent.Thread&&"function"!=typeof this.Concurrent.Thread)&&(this.Concurrent.Thread=new Object),(!this.Concurrent.Thread.Compiler||"object"!=typeof this.Concurrent.Thread.Compiler&&"function"!=typeof this.Concurrent.Thread.Compiler)&&(this.Concurrent.Thread.Compiler=new Object),(!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Cons||"object"!=typeof this.Data.Cons&&"function"!=typeof this.Data.Cons)&&(this.Data.Cons=new Object),(!this.Concurrent||"object"!=typeof this.Concurrent&&"function"!=typeof this.Concurrent)&&(this.Concurrent=new Object),(!this.Concurrent.Thread||"object"!=typeof this.Concurrent.Thread&&"function"!=typeof this.Concurrent.Thread)&&(this.Concurrent.Thread=new Object),void 0===this.Concurrent.Thread.compile&&(this.Concurrent.Thread.compile=void 0),void 0===this.Concurrent.Thread.CACHE_LIMIT&&(this.Concurrent.Thread.CACHE_LIMIT=void 0),void 0===this.Concurrent.Thread.prepare&&(this.Concurrent.Thread.prepare=void 0),void 0===this.Concurrent.Thread.prepareTree&&(this.Concurrent.Thread.prepareTree=void 0),function(){with(Data.Cons)with(Concurrent.Thread.Compiler)with(Concurrent.Thread)return function(){function compile(f){return eval(prepare(f))}function prepare(t){if("function"!=typeof t)throw new TypeError("argument must be a function");t=t.toString();var e=prepare_cache[t];if(e)return e;for(e=prepareTree(parseFunction(t)).toString();cache_history.length>=CACHE_LIMIT&&cache_history.length>0;)delete prepare_cache[cache_history.shift()];return CACHE_LIMIT>=1&&(prepare_cache[t]=e,cache_history.push(t)),e}function parseFunction(t){var e=(new Parser).parse("("+t+");");if(!(e.car instanceof ExpStatement))throw new Error("not exp-statement!");if(!(e.car.exp instanceof FunctionExpression))throw new Error("not function-expression!");return e.car.exp}function prepareTree(t){t instanceof FunctionExpression||Kit.codeBug("not FunctionalExpression");var e=t.name;t.name=null;var n=CssConvert(t);return n=CvConvert(n),n=CsConvert(n),n=CfConvert(n),n=CzConvert(n),new CallExpression(new FunctionExpression(null,[],list(new VarStatement([],[{id:var_self,exp:t}]),e?new VarStatement([],[{id:e,exp:var_self}]):new EmptyStatement([]),new ExpStatement([],new SimpleAssignExpression(new DotAccessor(var_self,var_compiled),n)),new ReturnStatement([],var_self))),[])}var VERSION="0.0.0",NAMESPACE;NAMESPACE="Concurrent.Thread";var IL=Concurrent.Thread.Compiler.IntermediateLanguage,PREFIX="$Concurrent_Thread_",var_self=new Identifier(PREFIX+"self"),var_compiled=new Identifier(PREFIX+"compiled");CACHE_LIMIT=50;var prepare_cache={},cache_history=[];return{compile:compile,prepareTree:prepareTree,prepare:prepare}}()}.call(null))this.Concurrent.Thread.compile=compile,this.Concurrent.Thread.prepareTree=prepareTree,this.Concurrent.Thread.prepare=prepare}.call(null),function(){with((!this.Concurrent||"object"!=typeof this.Concurrent&&"function"!=typeof this.Concurrent)&&(this.Concurrent=new Object),(!this.Concurrent.Thread||"object"!=typeof this.Concurrent.Thread&&"function"!=typeof this.Concurrent.Thread)&&(this.Concurrent.Thread=new Object),(!this.Concurrent.Thread.Compiler||"object"!=typeof this.Concurrent.Thread.Compiler&&"function"!=typeof this.Concurrent.Thread.Compiler)&&(this.Concurrent.Thread.Compiler=new Object),function(){with(Concurrent.Thread.Compiler)return function(){function compile(t){var e=(new Parser).parse(t);return e=new FunctionExpression(null,[],e),e=CssConvert(e),e=CvConvert(e),e=CsConvert(e),e=CfConvert(e),e.vars.forEach(function(t){Object.prototype.hasOwnProperty.call(window,t)||(window[t]=void 0)}),e.vars=[],e=CzConvert(e),["1, function(){","    var $Concurrent_Thread_self = function(){};","    $Concurrent_Thread_self.$Concurrent_Thread_compiled = ",e,";","    return $Concurrent_Thread_self;","}()"].join("")}var VERSION,NAMESPACE;return NAMESPACE="Concurrent.Thread.Compiler",WebBrowser.ScriptExecuter.register("text/x-script.multithreaded-js",function(src){eval(compile(src)).async(null)}),{}}()}.call(null));}.call(null),function(){with((!this.Concurrent||"object"!=typeof this.Concurrent&&"function"!=typeof this.Concurrent)&&(this.Concurrent=new Object),(!this.Concurrent.Thread||"object"!=typeof this.Concurrent.Thread&&"function"!=typeof this.Concurrent.Thread)&&(this.Concurrent.Thread=new Object),(!this.Concurrent.Thread.Continuation||"object"!=typeof this.Concurrent.Thread.Continuation&&"function"!=typeof this.Concurrent.Thread.Continuation)&&(this.Concurrent.Thread.Continuation=new Object),(!this.Concurrent||"object"!=typeof this.Concurrent&&"function"!=typeof this.Concurrent)&&(this.Concurrent=new Object),(!this.Concurrent||"object"!=typeof this.Concurrent&&"function"!=typeof this.Concurrent)&&(this.Concurrent=new Object),(!this.Concurrent.Thread||"object"!=typeof this.Concurrent.Thread&&"function"!=typeof this.Concurrent.Thread)&&(this.Concurrent.Thread=new Object),void 0===this.Concurrent.Thread.Generator&&(this.Concurrent.Thread.Generator=void 0),function(){with(Concurrent.Thread.Continuation)with(Concurrent)with(Concurrent.Thread)return function(){function Generator(f){if("function"!=typeof f)throw new TypeError("not a function");"function"!=typeof f.$Concurrent_Thread_compiled&&(f=Thread.compile(f)),this._mutex=new Mutex,this._cont_caller=null,this._buf=null,this._got=!1;var self=this,generate=eval(Thread.prepare(function(t){self._buf=t,self._got=!0;try{self._cont_iter=currentContinuation(),self._cont_caller()}catch(e){if(self._cont_iter=null,e instanceof ContinuationCalledException)return;throw e}}));this._cont_iter=eval(Thread.prepare(function(){f(generate),self._got=!1,self._cont_iter=null,self._cont_caller()}))}var VERSION="0.0.0",NAMESPACE;NAMESPACE="Concurrent.Thread";var proto=Generator.prototype;return proto.hasNext=function(){if(this._mutex.isAcquirable()||this._mutex.acquire(),this._got)return!0;if(!this._cont_iter)return!1;var is_called=!1;this._cont_caller=eval(Thread.prepare(function(){is_called=!0,Thread.stop()}));var triplet=Thread.create(this._cont_iter)._triplet;for(triplet.timeout=void 0;;){for(;void 0===triplet.timeout;)try{triplet=triplet.continuation.procedure.call(triplet.continuation.this_val,triplet.ret_val)}catch(e){if(e instanceof NoContinuationException)return this._got;if(e instanceof NoExceptionHandlerException)throw e.thrown;triplet.continuation=triplet.continuation.exception,triplet.ret_val=e}if(is_called)break;triplet.continuation=triplet.continuation.exception,triplet.ret_val=new Error("can't suspend in non-converted context")}return this._cont_caller=null,this._got},proto.hasNext.$Concurrent_Thread_compiled=eval(Thread.prepare(function(){this._mutex.acquire();try{if(this._got)return!0;if(!this._cont_iter)return!1;try{this._cont_caller=currentContinuation(),this._cont_iter()}catch(t){if(this._cont_caller=null,t instanceof ContinuationCalledException)return this._got;throw t}}finally{this._mutex.release()}})).$Concurrent_Thread_compiled,proto.next=eval(Thread.prepare(function(){if(this.hasNext()){var t=this._buf;return this._buf=void 0,this._got=!1,t}})),{Generator:Generator}}()}.call(null))this.Concurrent.Thread.Generator=Generator}.call(null),function(){with((!this.Data||"object"!=typeof this.Data&&"function"!=typeof this.Data)&&(this.Data=new Object),(!this.Data.Error||"object"!=typeof this.Data.Error&&"function"!=typeof this.Data.Error)&&(this.Data.Error=new Object),(!this.Concurrent||"object"!=typeof this.Concurrent&&"function"!=typeof this.Concurrent)&&(this.Concurrent=new Object),(!this.Concurrent||"object"!=typeof this.Concurrent&&"function"!=typeof this.Concurrent)&&(this.Concurrent=new Object),(!this.Concurrent.Thread||"object"!=typeof this.Concurrent.Thread&&"function"!=typeof this.Concurrent.Thread)&&(this.Concurrent.Thread=new Object),(!this.Concurrent.Thread.JSON||"object"!=typeof this.Concurrent.Thread.JSON&&"function"!=typeof this.Concurrent.Thread.JSON)&&(this.Concurrent.Thread.JSON=new Object),(!this.Concurrent.Thread.JSON.RPC||"object"!=typeof this.Concurrent.Thread.JSON.RPC&&"function"!=typeof this.Concurrent.Thread.JSON.RPC)&&(this.Concurrent.Thread.JSON.RPC=new Object),(!this.JSON||"object"!=typeof this.JSON&&"function"!=typeof this.JSON)&&(this.JSON=new Object),(!this.Util||"object"!=typeof this.Util&&"function"!=typeof this.Util)&&(this.Util=new Object),(!this.Util.Arrayize||"object"!=typeof this.Util.Arrayize&&"function"!=typeof this.Util.Arrayize)&&(this.Util.Arrayize=new Object),void 0===this.Concurrent.Thread.JSON.RPC.bind&&(this.Concurrent.Thread.JSON.RPC.bind=void 0),void 0===this.Concurrent.Thread.JSON.RPC.JSONRPCError&&(this.Concurrent.Thread.JSON.RPC.JSONRPCError=void 0),function(){with(Data.Error)with(Util.Arrayize)with(JSON)with(Concurrent)with(Concurrent.Thread.JSON.RPC)return function(){function bind(opts){if(!(opts instanceof Object))throw new TypeError("argument for "+NAMESPACE+".bind must be a hash.");var request=opts.request;if(null!=request){if(!String(request).match(/^(?:GET|POST)$/i))throw new Error('"request" option must be "GET" or "POST".')}else request="POST";var params=opts.params;if(null!=params){if(!String(params).match(/^(?:Named|Positioned)$/i))throw new Error('"params" option must be "Named" or "Positioned".')}else params="Named";var body;body=request.match(/^POST$/i)?params.match(/^Named$/i)?makeNamedPost(opts.url,opts.method):makePositionedPost(opts.url,opts.method):params.match(/^Named$/i)?makeNamedGet(opts.url,opts.method):makePositionedGet(opts.url,opts.method);var with_pre,pre=opts.preprocess;if(null!=pre){if("function"!=typeof pre)throw new TypeError('"preprocess" option must be function');with_pre=eval(Thread.prepare(function(){return body.apply(this,pre.apply(this,arguments))}))}else with_pre=body;var post=opts.postprocess;if(null!=post){if("function"!=typeof post)throw new TypeError('"preprocess" option must be function');return eval(Thread.prepare(function(){return post(with_pre.apply(this,arguments))}))}return with_pre}function makeNamedPost(url,method){return eval(Thread.prepare(function(){var res=Thread.Http.post(url,dump({version:"1.1",method:method,params:args2params(arguments)}),POST_HEADERS);if(res=eval("("+res.responseText+")"),res.error)throw new JSONRPCError(res.error);return res.result}))}function makePositionedPost(url,method){return eval(Thread.prepare(function(){var res=Thread.Http.post(url,dump({version:"1.1",method:method,params:arrayize(arguments)}),POST_HEADERS);if(res=eval("("+res.responseText+")"),res.error)throw new JSONRPCError(res.error);return res.result}))}function makeNamedGet(url,method){return url=url.replace(/\/+$/,"")+"/"+encodeURIComponent(method)+"?",eval(Thread.prepare(function(){var res=Thread.Http.get(url+params2query(args2params(arguments)),COMMON_HEADERS);if(res=eval("("+res.responseText+")"),res.error)throw new JSONRPCError(res.error);return res.result}))}function makePositionedGet(url,method){return url=url.replace(/\/+$/,"")+"/"+encodeURIComponent(method)+"?",eval(Thread.prepare(function(){arguments[arguments.length]={},arguments.length++;var res=Thread.Http.get(url+params2query(args2params(arguments)),COMMON_HEADERS);if(res=eval("("+res.responseText+")"),res.error)throw new JSONRPCError(res.error);return res.result}))}function args2params(t){var e={};if(t.length){var n=t[t.length-1];if(!(n instanceof Object))throw new Error("the last argument must be a hash");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);for(var r=0;r<t.length-1;r++)e[r]=t[r]}return e}function params2query(t){var e=[];for(var n in t)if(t.hasOwnProperty(n))if(t[n]instanceof Array)for(var r=t[n],o=0;o<r.length;o++)e.push(encodeURIComponent(n)+"="+encodeURIComponent(r[o]));else e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}var VERSION="0.0.0",NAMESPACE;NAMESPACE="Concurrent.Thread.JSON.RPC";var COMMON_HEADERS=["User-Agent","Concurrent.Thread.JSON.RPC","Accept","application/json"],POST_HEADERS=COMMON_HEADERS.concat("Content-type","application/json"),JSONRPCError=Error.extend(function(t,e){if(e instanceof Object){t(e.message);for(var n in e)this[n]=e[n]}else t(e)},{name:NAMESPACE+".JSONRPCError"});return{JSONRPCError:JSONRPCError,bind:bind}}()}.call(null))this.Concurrent.Thread.JSON.RPC.JSONRPCError=JSONRPCError,this.Concurrent.Thread.JSON.RPC.bind=bind}.call(null),function(){with((!this.WebBrowser||"object"!=typeof this.WebBrowser&&"function"!=typeof this.WebBrowser)&&(this.WebBrowser=new Object),(!this.WebBrowser.GUI||"object"!=typeof this.WebBrowser.GUI&&"function"!=typeof this.WebBrowser.GUI)&&(this.WebBrowser.GUI=new Object),(!this.WebBrowser.GUI.Event||"object"!=typeof this.WebBrowser.GUI.Event&&"function"!=typeof this.WebBrowser.GUI.Event)&&(this.WebBrowser.GUI.Event=new Object),(!this.Concurrent||"object"!=typeof this.Concurrent&&"function"!=typeof this.Concurrent)&&(this.Concurrent=new Object),(!this.Concurrent||"object"!=typeof this.Concurrent&&"function"!=typeof this.Concurrent)&&(this.Concurrent=new Object),(!this.Concurrent.Thread||"object"!=typeof this.Concurrent.Thread&&"function"!=typeof this.Concurrent.Thread)&&(this.Concurrent.Thread=new Object),(!this.Concurrent.Thread.Event||"object"!=typeof this.Concurrent.Thread.Event&&"function"!=typeof this.Concurrent.Thread.Event)&&(this.Concurrent.Thread.Event=new Object),(!this.Util||"object"!=typeof this.Util&&"function"!=typeof this.Util)&&(this.Util=new Object),(!this.Util.Arrayize||"object"!=typeof this.Util.Arrayize&&"function"!=typeof this.Util.Arrayize)&&(this.Util.Arrayize=new Object),void 0===this.Concurrent.Thread.Event.waitFor&&(this.Concurrent.Thread.Event.waitFor=void 0),void 0===this.Concurrent.Thread.Event.select&&(this.Concurrent.Thread.Event.select=void 0),function(){with(Util.Arrayize)with(WebBrowser.GUI.Event)with(Concurrent)with(Concurrent.Thread.Event)return function(){function set_handlers(t,e){var n=Concurrent.Thread.self();t=t.map(function(t){if(!t.target||"object"!=typeof t.target)throw new TypeError("not a object: "+target);return{target:t.target,type:String(t.type),useCapture:Boolean(t.useCapture),preventDefault:Boolean(t.preventDefault),stopPropagation:Boolean(t.stopPropagation)}});var r=t.map(function(t){function o(o){t.preventDefault&&o.preventDefault(),t.stopPropagation&&o.stopPropagation(),r.forEach(function(t){detach(t)});var i={};for(var s in o)"function"!=typeof o[s]&&(i[s]=o[s]);e.event=i,n.notify(e)}return attach(t.target,t.type,o,t.useCapture)})}var VERSION="0.0.0",NAMESPACE;NAMESPACE="Concurrent.Thread.Event";var waitFor=eval(Concurrent.Thread.prepare(function(t,e,n){var r={};for(var o in n)r[o]=n[o];return r.target=t,r.type=e,select(r)})),select=eval(Concurrent.Thread.prepare(function(){try{var t={};set_handlers(arrayize(arguments),t),Concurrent.Thread.stop()}catch(e){if(e===t)return t.event;throw e}}));return{waitFor:waitFor,select:select}}()}.call(null))this.Concurrent.Thread.Event.waitFor=waitFor,this.Concurrent.Thread.Event.select=select}.call(null);